<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hydro ¬∑ Mera.jl</title><meta name="title" content="Hydro ¬∑ Mera.jl"/><meta property="og:title" content="Hydro ¬∑ Mera.jl"/><meta property="twitter:title" content="Hydro ¬∑ Mera.jl"/><meta name="description" content="Documentation for Mera.jl."/><meta property="og:description" content="Documentation for Mera.jl."/><meta property="twitter:description" content="Documentation for Mera.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Mera.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../00_multi_FirstSteps/">First Steps</a></li><li><span class="tocitem">1-Data Inspection</span><ul><li><a class="tocitem" href="../01_hydro_First_Inspection/">Hydro</a></li><li><a class="tocitem" href="../01_particles_First_Inspection/">Particles</a></li><li><a class="tocitem" href="../01_clumps_First_Inspection/">Clumps</a></li></ul></li><li><span class="tocitem">2-Load by Selection</span><ul><li><a class="tocitem" href="../02_hydro_Load_Selections/">Hydro</a></li><li><a class="tocitem" href="../02_particles_Load_Selections/">Particles</a></li><li><a class="tocitem" href="../02_clumps_Load_Selections/">Clumps</a></li></ul></li><li><span class="tocitem">3-Get Subregions</span><ul><li><a class="tocitem" href="../03_hydro_Get_Subregions/03_hydro_Get_Subregions/">Hydro</a></li><li><a class="tocitem" href="../03_particles_Get_Subregions/03_particles_Get_Subregions/">Particles</a></li><li><a class="tocitem" href="../03_clumps_Get_Subregions/03_clumps_Get_Subregions/">Clumps</a></li></ul></li><li><a class="tocitem" href="../04_multi_Basic_Calculations/">4-Basic Calculations</a></li><li><a class="tocitem" href="../05_multi_Masking_Filtering/05_multi_Masking_Filtering/">5-Mask/Filter/Meta</a></li><li><span class="tocitem">6-Projection</span><ul><li><a class="tocitem" href="../06_hydro_Projection/06_hydro_Projection/">Hydro</a></li><li><a class="tocitem" href="../06_particles_Projection/06_particles_Projection/">Particles</a></li></ul></li><li><a class="tocitem" href="../07_multi_Mera_Files/">7-MERA-Files</a></li><li><span class="tocitem">8-Volume Rendering</span><ul><li><a class="tocitem" href="../paraview_intro/">Intro</a></li><li class="is-active"><a class="tocitem" href>Hydro</a><ul class="internal"><li><a class="tocitem" href="#Simulation-Overview-and-Load-Hydro-Data"><span>Simulation Overview &amp; Load Hydro Data</span></a></li><li><a class="tocitem" href="#Export-Scalars"><span>Export Scalars</span></a></li><li><a class="tocitem" href="#Export-Scalars-and-Vector"><span>Export Scalars and Vector</span></a></li><li><a class="tocitem" href="#Visualisation-in-Paraview"><span>Visualisation in Paraview</span></a></li></ul></li><li><a class="tocitem" href="../08_particles_VTK_export/">Particles</a></li></ul></li><li><a class="tocitem" href="../Miscellaneous/">9-Miscellaneous</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">8-Volume Rendering</a></li><li class="is-active"><a href>Hydro</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Hydro</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ManuelBehrendt/Mera.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ManuelBehrendt/Mera.jl/blob/master/docs/src/08_hydro_VTK_export.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Hydro:-Export-Selected-Variables-to-VTK"><a class="docs-heading-anchor" href="#Hydro:-Export-Selected-Variables-to-VTK">Hydro: Export Selected Variables to VTK</a><a id="Hydro:-Export-Selected-Variables-to-VTK-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro:-Export-Selected-Variables-to-VTK" title="Permalink"></a></h1><h2 id="Simulation-Overview-and-Load-Hydro-Data"><a class="docs-heading-anchor" href="#Simulation-Overview-and-Load-Hydro-Data">Simulation Overview &amp; Load Hydro Data</a><a id="Simulation-Overview-and-Load-Hydro-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Overview-and-Load-Hydro-Data" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Mera
# use compressed Mera file
path = &quot;/Volumes/FASTStorage/Simulations/Mera-Tests/AV5CDhr/&quot;;
info = infodata(600, path)
gas = loaddata(600, path, :hydro); # load full box</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T15:06:54.435

Use datatype: hydro
Code: RAMSES
output [600] summary:
mtime: 2024-09-08T15:29:04
ctime: 2024-09-10T11:23:16.230
=======================================================
simulation time: 891.71 [Myr]
boxlen: 48.0 [kpc]
ncpu: 5120
ndim: 3
-------------------------------------------------------
amr:           true
level(s): 6 - 13 --&gt; cellsize(s): 750.0 [pc] - 5.86 [pc]
-------------------------------------------------------
hydro:         true
hydro-variables:  7  --&gt; (:rho, :vx, :vy, :vz, :p, :var6, :var7)
hydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)
Œ≥: 1.6667
-------------------------------------------------------
gravity:       true
gravity-variables: (:epot, :ax, :ay, :az)
-------------------------------------------------------
particles:     true
- Nstars:   1.353087e+06 
particle-variables: 7  --&gt; (:vx, :vy, :vz, :mass, :family, :tag, :birth)
particle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)
-------------------------------------------------------
rt:            false
clumps:           false
-------------------------------------------------------
namelist-file: (&quot;&amp;COOLING_PARAMS&quot;, &quot;&amp;HYDRO_PARAMS&quot;, &quot;&amp;SF_PARAMS&quot;, &quot;&amp;AMR_PARAMS&quot;, &quot;&amp;BOUNDARY_PARAMS&quot;, &quot;&amp;OUTPUT_PARAMS&quot;, &quot;&amp;POISSON_PARAMS&quot;, &quot;&amp;INIT_PARAMS&quot;, &quot;&amp;RUN_PARAMS&quot;, &quot;&amp;FEEDBACK_PARAMS&quot;, &quot;&amp;REFINE_PARAMS&quot;)
-------------------------------------------------------
timer-file:       true
compilation-file: true
makefile:         true
patchfile:        true
=======================================================

[Mera]: 2025-06-28T15:06:54.479

Open Mera-file output_00600.jld2:

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Memory used for data table :8.63788466155529 GB
-------------------------------------------------------</code></pre><h2 id="Export-Scalars"><a class="docs-heading-anchor" href="#Export-Scalars">Export Scalars</a><a id="Export-Scalars-1"></a><a class="docs-heading-anchor-permalink" href="#Export-Scalars" title="Permalink"></a></h2><h3 id="Standard-Export"><a class="docs-heading-anchor" href="#Standard-Export">Standard Export</a><a id="Standard-Export-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-Export" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Export full box with lmax = 9 
# -&gt; interpolating levels 13,12,11,10, down to 9

export_vtk(
    gas,                       # loaded data
    &quot;output01/0600_galaxy&quot;;    # prefix for outputfiles; creates folder output01 (if not existing) 
    scalars=[:rho, :T],        # load density data in cm^-3 and temperature data in Kelvin 
    scalars_unit=[:nH, :K],
    scalars_log10=true,        # apply log10 on the scalars
    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)
    lmax=9                     
);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T15:07:40.866

Available Threads: 1
Created directory: output01
Processing levels: [6, 7, 8, 9]
Will interpolate levels [10, 11, 12, 13] down to 9
Level 6
  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)
  ‚úì Level 6 completed, memory cleaned
Level 7
  wrote 0600_galaxy_L7.vtu (Size: 0.02 GB)
  ‚úì Level 7 completed, memory cleaned
Level 8
  wrote 0600_galaxy_L8.vtu (Size: 0.33 GB)
  ‚úì Level 8 completed, memory cleaned
Level 9
  Including higher levels for interpolation
  Interpolating down to level 9
  Unique coarse cells at level 9: 13663000 (out of max 134217728)
  ‚Üí 13663000 coarse cells after interpolation
  wrote 0600_galaxy_L9.vtu (Size: 0.64 GB)
  ‚úì Level 9 completed, memory cleaned
  Added block &#39;Level_6&#39; to scalar VTM for 0600_galaxy_L6.vtu
  Added block &#39;Level_7&#39; to scalar VTM for 0600_galaxy_L7.vtu
  Added block &#39;Level_8&#39; to scalar VTM for 0600_galaxy_L8.vtu
  Added block &#39;Level_9&#39; to scalar VTM for 0600_galaxy_L9.vtu
Created scalar multiblock: 0600_galaxy_scalar.vtm
  Updating scalar VTM file to reference scalar VTU files...
    - Added reference to 0600_galaxy_L6.vtu in block &#39;Level_6&#39; of scalar VTM
    - Added reference to 0600_galaxy_L7.vtu in block &#39;Level_7&#39; of scalar VTM
    - Added reference to 0600_galaxy_L8.vtu in block &#39;Level_8&#39; of scalar VTM
    - Added reference to 0600_galaxy_L9.vtu in block &#39;Level_9&#39; of scalar VTM
  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm

=== Export Summary ===
VTU files (scalars): 4
Scalar VTM: 0600_galaxy_scalar.vtm
Available scalars: rho, T, AMR_Level</code></pre><pre><code class="language-julia hljs">readdir(&quot;output_part01&quot;)</code></pre><pre><code class="nohighlight hljs">1-element Vector{String}:
 &quot;0600_galaxy.vtu&quot;</code></pre><pre><code class="language-julia hljs"># =&gt; in Paraview open the vtu file to load all level data</code></pre><pre><code class="language-julia hljs"></code></pre><h3 id="Export-Maximum-Number-of-Cells"><a class="docs-heading-anchor" href="#Export-Maximum-Number-of-Cells">Export Maximum Number of Cells</a><a id="Export-Maximum-Number-of-Cells-1"></a><a class="docs-heading-anchor-permalink" href="#Export-Maximum-Number-of-Cells" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Export full box 
# -&gt; limit the number of cells
# here: not reaching levels 11,12,13
export_vtk(
    gas,                       # loaded data
    &quot;output03/0600_galaxy&quot;;    # prefix for outputfiles; creates folder output03 (if not existing) 
    scalars=[:rho, :T],        # load density data in cm^-3 and temperature data in Kelvin 
    scalars_unit=[:nH, :K],
    scalars_log10=true,        # apply log10 on the scalars
    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)

    lmax=10,
    max_cells=100_000          # (caps output if exceeded, prioritizing denser regions)
);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T16:04:43.533

Available Threads: 1
Processing levels: [6, 7, 8, 9, 10]
Will interpolate levels [11, 12, 13] down to 10
Level 6
  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)
  ‚úì Level 6 completed, memory cleaned
Level 7
  wrote 0600_galaxy_L7.vtu (Size: 0.02 GB)
  ‚úì Level 7 completed, memory cleaned
Level 8
  wrote 0600_galaxy_L8.vtu (Size: 0.33 GB)
  ‚úì Level 8 completed, memory cleaned
Level 9
  wrote 0600_galaxy_L9.vtu (Size: 0.54 GB)
  ‚úì Level 9 completed, memory cleaned
Level 10
  Including higher levels for interpolation
  Interpolating down to level 10
  Unique coarse cells at level 10: 6968288 (out of max 1073741824)
  Capping output cells to 100000 (from 6968288)
  ‚Üí 100000 coarse cells after interpolation
  wrote 0600_galaxy_L10.vtu (Size: 0.0 GB)
  ‚úì Level 10 completed, memory cleaned
  Added block &#39;Level_6&#39; to scalar VTM for 0600_galaxy_L6.vtu
  Added block &#39;Level_7&#39; to scalar VTM for 0600_galaxy_L7.vtu
  Added block &#39;Level_8&#39; to scalar VTM for 0600_galaxy_L8.vtu
  Added block &#39;Level_9&#39; to scalar VTM for 0600_galaxy_L9.vtu
  Added block &#39;Level_10&#39; to scalar VTM for 0600_galaxy_L10.vtu
Created scalar multiblock: 0600_galaxy_scalar.vtm
  Updating scalar VTM file to reference scalar VTU files...
    - Added reference to 0600_galaxy_L6.vtu in block &#39;Level_6&#39; of scalar VTM
    - Added reference to 0600_galaxy_L7.vtu in block &#39;Level_7&#39; of scalar VTM
    - Added reference to 0600_galaxy_L8.vtu in block &#39;Level_8&#39; of scalar VTM
    - Added reference to 0600_galaxy_L9.vtu in block &#39;Level_9&#39; of scalar VTM
    - Added reference to 0600_galaxy_L10.vtu in block &#39;Level_10&#39; of scalar VTM
  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm

=== Export Summary ===
VTU files (scalars): 5
Scalar VTM: 0600_galaxy_scalar.vtm
Available scalars: rho, T, AMR_Level</code></pre><pre><code class="language-julia hljs">readdir(&quot;output03&quot;)</code></pre><pre><code class="nohighlight hljs">6-element Vector{String}:
 &quot;0600_galaxy_L10.vtu&quot;
 &quot;0600_galaxy_L6.vtu&quot;
 &quot;0600_galaxy_L7.vtu&quot;
 &quot;0600_galaxy_L8.vtu&quot;
 &quot;0600_galaxy_L9.vtu&quot;
 &quot;0600_galaxy_scalar.vtm&quot;</code></pre><pre><code class="language-julia hljs"># =&gt; in Paraview open the vtm file to load all level data</code></pre><h2 id="Export-Scalars-and-Vector"><a class="docs-heading-anchor" href="#Export-Scalars-and-Vector">Export Scalars and Vector</a><a id="Export-Scalars-and-Vector-1"></a><a class="docs-heading-anchor-permalink" href="#Export-Scalars-and-Vector" title="Permalink"></a></h2><pre><code class="language-julia hljs"># Export full box with lmax = 9 
# scalar and vector in separate files
# -&gt; interpolating levels 13,12,11,10, down to 9

export_vtk(
    gas,                       # loaded data
    &quot;output04/0600_galaxy&quot;;    # prefix for outputfiles; creates folder output04 (if not existing) 
    scalars=[:rho],            # load density data in cm^-3 
    scalars_unit=[:nH],
    scalars_log10=true,        # apply log10 on the scalars
    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)
    lmax=9 ,

    vector=[:vx, :vy, :vz],    # velocity components and its units
    vector_unit=:km_s,
    vector_name=&quot;velocity&quot;     # vector name recognized by Paraview
);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T15:35:19.707

Available Threads: 1
Created directory: output04
Processing levels: [6, 7, 8, 9]
Will interpolate levels [10, 11, 12, 13] down to 9
Level 6
  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)
  wrote 0600_galaxy_vec_L6.vtu (Size: 0.0 GB)
  ‚úì Level 6 completed, memory cleaned
Level 7
  wrote 0600_galaxy_L7.vtu (Size: 0.01 GB)
  wrote 0600_galaxy_vec_L7.vtu (Size: 0.02 GB)
  ‚úì Level 7 completed, memory cleaned
Level 8
  wrote 0600_galaxy_L8.vtu (Size: 0.28 GB)
  wrote 0600_galaxy_vec_L8.vtu (Size: 0.41 GB)
  ‚úì Level 8 completed, memory cleaned
Level 9
  Including higher levels for interpolation
  Interpolating down to level 9
  Unique coarse cells at level 9: 13663000 (out of max 134217728)
  ‚Üí 13663000 coarse cells after interpolation
  wrote 0600_galaxy_L9.vtu (Size: 0.55 GB)
  wrote 0600_galaxy_vec_L9.vtu (Size: 0.77 GB)
  ‚úì Level 9 completed, memory cleaned
  Added block &#39;Level_6&#39; to scalar VTM for 0600_galaxy_L6.vtu
  Added block &#39;Level_7&#39; to scalar VTM for 0600_galaxy_L7.vtu
  Added block &#39;Level_8&#39; to scalar VTM for 0600_galaxy_L8.vtu
  Added block &#39;Level_9&#39; to scalar VTM for 0600_galaxy_L9.vtu
Created scalar multiblock: 0600_galaxy_scalar.vtm
  Updating scalar VTM file to reference scalar VTU files...
    - Added reference to 0600_galaxy_L6.vtu in block &#39;Level_6&#39; of scalar VTM
    - Added reference to 0600_galaxy_L7.vtu in block &#39;Level_7&#39; of scalar VTM
    - Added reference to 0600_galaxy_L8.vtu in block &#39;Level_8&#39; of scalar VTM
    - Added reference to 0600_galaxy_L9.vtu in block &#39;Level_9&#39; of scalar VTM
  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm
  Added block &#39;vec_Level_6&#39; to vector VTM for 0600_galaxy_vec_L6.vtu
  Added block &#39;vec_Level_7&#39; to vector VTM for 0600_galaxy_vec_L7.vtu
  Added block &#39;vec_Level_8&#39; to vector VTM for 0600_galaxy_vec_L8.vtu
  Added block &#39;vec_Level_9&#39; to vector VTM for 0600_galaxy_vec_L9.vtu
Created vector multiblock: 0600_galaxy_vector.vtm
  Updating vector VTM file to reference vector VTU files...
    - Added reference to 0600_galaxy_vec_L6.vtu in block &#39;vec_Level_6&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L7.vtu in block &#39;vec_Level_7&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L8.vtu in block &#39;vec_Level_8&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L9.vtu in block &#39;vec_Level_9&#39; of vector VTM
  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm

=== Export Summary ===
VTU files (scalars): 4
Scalar VTM: 0600_galaxy_scalar.vtm
VTU files (vector): 4
Vector VTM: 0600_galaxy_vector.vtm
Available scalars: rho, AMR_Level
Available vector, named: velocity</code></pre><pre><code class="language-julia hljs">readdir(&quot;output04&quot;)</code></pre><pre><code class="nohighlight hljs">10-element Vector{String}:
 &quot;0600_galaxy_L6.vtu&quot;
 &quot;0600_galaxy_L7.vtu&quot;
 &quot;0600_galaxy_L8.vtu&quot;
 &quot;0600_galaxy_L9.vtu&quot;
 &quot;0600_galaxy_scalar.vtm&quot;
 &quot;0600_galaxy_vec_L6.vtu&quot;
 &quot;0600_galaxy_vec_L7.vtu&quot;
 &quot;0600_galaxy_vec_L8.vtu&quot;
 &quot;0600_galaxy_vec_L9.vtu&quot;
 &quot;0600_galaxy_vector.vtm&quot;</code></pre><pre><code class="language-julia hljs"># =&gt; in Paraview open
# - the vtm file to load all level data
# - open &quot;0350_galaxy_scalar.vtm&quot; to load multi-level scalar data
# - open  &quot;0350_galaxy_vector.vtm&quot;to load mjulti-level vector data
# - or open both vtm files together</code></pre><h2 id="Visualisation-in-Paraview"><a class="docs-heading-anchor" href="#Visualisation-in-Paraview">Visualisation in Paraview</a><a id="Visualisation-in-Paraview-1"></a><a class="docs-heading-anchor-permalink" href="#Visualisation-in-Paraview" title="Permalink"></a></h2><h3 id="Volume-Rendering-Density"><a class="docs-heading-anchor" href="#Volume-Rendering-Density">Volume Rendering Density</a><a id="Volume-Rendering-Density-1"></a><a class="docs-heading-anchor-permalink" href="#Volume-Rendering-Density" title="Permalink"></a></h3><pre><code class="language-julia hljs"># for a test on my laptop I use lmax=8 for the full box
# and lmax=9 for the galaxy region</code></pre><pre><code class="language-julia hljs"></code></pre><pre><code class="language-julia hljs"># Export full box with lmax = 8 
# scalar and vector in separate files
# -&gt; interpolating levels 13,12,11,10, 9 down to 8

export_vtk(
    gas,                       # loaded data
    &quot;output05/0600_galaxy&quot;;    # prefix for outputfiles; creates folder output05 (if not existing) 
    scalars=[:rho],            # load density data in cm^-3 
    scalars_unit=[:nH],
    scalars_log10=true,        # apply log10 on the scalars
    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)
    lmax=8 ,

    vector=[:vx, :vy, :vz],    # velocity components and its units
    vector_unit=:km_s,
    vector_name=&quot;velocity&quot;     # vector name recognized by Paraview
);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T15:45:52.426

Available Threads: 1
Created directory: output05
Processing levels: [6, 7, 8]
Will interpolate levels [9, 10, 11, 12, 13] down to 8
Level 6
  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)
  wrote 0600_galaxy_vec_L6.vtu (Size: 0.0 GB)
  ‚úì Level 6 completed, memory cleaned
Level 7
  wrote 0600_galaxy_L7.vtu (Size: 0.01 GB)
  wrote 0600_galaxy_vec_L7.vtu (Size: 0.02 GB)
  ‚úì Level 7 completed, memory cleaned
Level 8
  Including higher levels for interpolation
  Interpolating down to level 8
  Unique coarse cells at level 8: 9517504 (out of max 16777216)
  ‚Üí 9517504 coarse cells after interpolation
  wrote 0600_galaxy_L8.vtu (Size: 0.39 GB)
  wrote 0600_galaxy_vec_L8.vtu (Size: 0.55 GB)
  ‚úì Level 8 completed, memory cleaned
  Added block &#39;Level_6&#39; to scalar VTM for 0600_galaxy_L6.vtu
  Added block &#39;Level_7&#39; to scalar VTM for 0600_galaxy_L7.vtu
  Added block &#39;Level_8&#39; to scalar VTM for 0600_galaxy_L8.vtu
Created scalar multiblock: 0600_galaxy_scalar.vtm
  Updating scalar VTM file to reference scalar VTU files...
    - Added reference to 0600_galaxy_L6.vtu in block &#39;Level_6&#39; of scalar VTM
    - Added reference to 0600_galaxy_L7.vtu in block &#39;Level_7&#39; of scalar VTM
    - Added reference to 0600_galaxy_L8.vtu in block &#39;Level_8&#39; of scalar VTM
  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm
  Added block &#39;vec_Level_6&#39; to vector VTM for 0600_galaxy_vec_L6.vtu
  Added block &#39;vec_Level_7&#39; to vector VTM for 0600_galaxy_vec_L7.vtu
  Added block &#39;vec_Level_8&#39; to vector VTM for 0600_galaxy_vec_L8.vtu
Created vector multiblock: 0600_galaxy_vector.vtm
  Updating vector VTM file to reference vector VTU files...
    - Added reference to 0600_galaxy_vec_L6.vtu in block &#39;vec_Level_6&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L7.vtu in block &#39;vec_Level_7&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L8.vtu in block &#39;vec_Level_8&#39; of vector VTM
  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm

=== Export Summary ===
VTU files (scalars): 3
Scalar VTM: 0600_galaxy_scalar.vtm
VTU files (vector): 3
Vector VTM: 0600_galaxy_vector.vtm
Available scalars: rho, AMR_Level
Available vector, named: velocity</code></pre><pre><code class="language-julia hljs">readdir(&quot;output05&quot;)</code></pre><pre><code class="nohighlight hljs">8-element Vector{String}:
 &quot;0600_galaxy_L6.vtu&quot;
 &quot;0600_galaxy_L7.vtu&quot;
 &quot;0600_galaxy_L8.vtu&quot;
 &quot;0600_galaxy_scalar.vtm&quot;
 &quot;0600_galaxy_vec_L6.vtu&quot;
 &quot;0600_galaxy_vec_L7.vtu&quot;
 &quot;0600_galaxy_vec_L8.vtu&quot;
 &quot;0600_galaxy_vector.vtm&quot;</code></pre><p><strong>Open Scalar vtm File</strong></p><p><img src="../images/01_hydro.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Select rho array, volume rendering and apply</strong></p><p><img src="../images/02_hydro.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Choose a suitable colormap</strong></p><p><img src="../images/03_hydro.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Select value range, opazity and visualize data histogram</strong></p><p><img src="../images/04_hydro.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Change orientation, value range</strong></p><p><img src="../images/05_hydro.jpg" alt/></p><pre><code class="language-julia hljs"># =&gt; save state</code></pre><h3 id="Visualize-Density-and-Vector"><a class="docs-heading-anchor" href="#Visualize-Density-and-Vector">Visualize Density &amp; Vector</a><a id="Visualize-Density-and-Vector-1"></a><a class="docs-heading-anchor-permalink" href="#Visualize-Density-and-Vector" title="Permalink"></a></h3><pre><code class="language-julia hljs"># extract a small region of the galaxy
gassub = subregion(gas, :cylinder, radius=1., height=1., range_unit=:kpc, center=[23.,23.,:bc]);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T15:51:50.842

center: [0.4791667, 0.4791667, 0.5] ==&gt; [23.0 [kpc] :: 23.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.4583333 :: 0.5  	==&gt; 22.0 [kpc] :: 24.0 [kpc]
ymin::ymax: 0.4583333 :: 0.5  	==&gt; 22.0 [kpc] :: 24.0 [kpc]
zmin::zmax: 0.4791667 :: 0.5208333  	==&gt; 23.0 [kpc] :: 25.0 [kpc]

Radius: 1.0 [kpc]
Height: 1.0 [kpc]
Memory used for data table :147.8594617843628 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs"># Export small region with all available AMR levels
# scalar and vector in separate files

export_vtk(
    gassub,                    # loaded data
    &quot;output06/0600_galaxy&quot;;    # prefix for outputfiles; creates folder output06 (if not existing) 
    scalars=[:rho],            # load density data in cm^-3 
    scalars_unit=[:nH],
    scalars_log10=true,        # apply log10 on the scalars
    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)

    vector=[:vx, :vy, :vz],    # velocity components and its units
    vector_unit=:km_s,
    vector_name=&quot;velocity&quot;     # vector name recognized by Paraview
);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-06-28T16:11:51.637

Available Threads: 1
Created directory: output06
Processing levels: [10, 11, 12, 13]
Level 10
  wrote 0600_galaxy_L10.vtu (Size: 0.0 GB)
  wrote 0600_galaxy_vec_L10.vtu (Size: 0.0 GB)
  ‚úì Level 10 completed, memory cleaned
Level 11
  wrote 0600_galaxy_L11.vtu (Size: 0.01 GB)
  wrote 0600_galaxy_vec_L11.vtu (Size: 0.02 GB)
  ‚úì Level 11 completed, memory cleaned
Level 12
  wrote 0600_galaxy_L12.vtu (Size: 0.02 GB)
  wrote 0600_galaxy_vec_L12.vtu (Size: 0.03 GB)
  ‚úì Level 12 completed, memory cleaned
Level 13
  wrote 0600_galaxy_L13.vtu (Size: 0.03 GB)
  wrote 0600_galaxy_vec_L13.vtu (Size: 0.04 GB)
  ‚úì Level 13 completed, memory cleaned
  Added block &#39;Level_10&#39; to scalar VTM for 0600_galaxy_L10.vtu
  Added block &#39;Level_11&#39; to scalar VTM for 0600_galaxy_L11.vtu
  Added block &#39;Level_12&#39; to scalar VTM for 0600_galaxy_L12.vtu
  Added block &#39;Level_13&#39; to scalar VTM for 0600_galaxy_L13.vtu
Created scalar multiblock: 0600_galaxy_scalar.vtm
  Updating scalar VTM file to reference scalar VTU files...
    - Added reference to 0600_galaxy_L10.vtu in block &#39;Level_10&#39; of scalar VTM
    - Added reference to 0600_galaxy_L11.vtu in block &#39;Level_11&#39; of scalar VTM
    - Added reference to 0600_galaxy_L12.vtu in block &#39;Level_12&#39; of scalar VTM
    - Added reference to 0600_galaxy_L13.vtu in block &#39;Level_13&#39; of scalar VTM
  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm
  Added block &#39;vec_Level_10&#39; to vector VTM for 0600_galaxy_vec_L10.vtu
  Added block &#39;vec_Level_11&#39; to vector VTM for 0600_galaxy_vec_L11.vtu
  Added block &#39;vec_Level_12&#39; to vector VTM for 0600_galaxy_vec_L12.vtu
  Added block &#39;vec_Level_13&#39; to vector VTM for 0600_galaxy_vec_L13.vtu
Created vector multiblock: 0600_galaxy_vector.vtm
  Updating vector VTM file to reference vector VTU files...
    - Added reference to 0600_galaxy_vec_L10.vtu in block &#39;vec_Level_10&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L11.vtu in block &#39;vec_Level_11&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L12.vtu in block &#39;vec_Level_12&#39; of vector VTM
    - Added reference to 0600_galaxy_vec_L13.vtu in block &#39;vec_Level_13&#39; of vector VTM
  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm

=== Export Summary ===
VTU files (scalars): 4
Scalar VTM: 0600_galaxy_scalar.vtm
VTU files (vector): 4
Vector VTM: 0600_galaxy_vector.vtm
Available scalars: rho, AMR_Level
Available vector, named: velocity</code></pre><pre><code class="language-julia hljs">readdir(&quot;output06&quot;)</code></pre><pre><code class="nohighlight hljs">10-element Vector{String}:
 &quot;0600_galaxy_L10.vtu&quot;
 &quot;0600_galaxy_L11.vtu&quot;
 &quot;0600_galaxy_L12.vtu&quot;
 &quot;0600_galaxy_L13.vtu&quot;
 &quot;0600_galaxy_scalar.vtm&quot;
 &quot;0600_galaxy_vec_L10.vtu&quot;
 &quot;0600_galaxy_vec_L11.vtu&quot;
 &quot;0600_galaxy_vec_L12.vtu&quot;
 &quot;0600_galaxy_vec_L13.vtu&quot;
 &quot;0600_galaxy_vector.vtm&quot;</code></pre><p><strong>Load Scalar</strong></p><p><img src="../images/01_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Select rho data, volume rendering, color map, choose value range</strong></p><p><img src="../images/02_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Load Vector data</strong></p><p><img src="../images/03_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Select velocity data, magnitude volume rendering</strong></p><p><img src="../images/04_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Edge-on view, apply 3D Glyphs on vector data, choose array and number of sample points</strong></p><p><img src="../images/05_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"></code></pre><p><strong>Apply streamline tracer, point cloud and its size, number of points</strong></p><p><img src="../images/06_hydro2.jpg" alt/></p><pre><code class="language-julia hljs"># =&gt; save state</code></pre><pre><code class="language-julia hljs"></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../paraview_intro/">¬´ Intro</a><a class="docs-footer-nextpage" href="../08_particles_VTK_export/">Particles ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Saturday 5 July 2025 07:08">Saturday 5 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
