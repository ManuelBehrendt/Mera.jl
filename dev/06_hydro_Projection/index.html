<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hydro ¬∑ Mera.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Mera.jl logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../00_multi_FirstSteps/">First Steps</a></li><li><span class="tocitem">1-Data Inspection</span><ul><li><a class="tocitem" href="../01_hydro_First_Inspection/">Hydro</a></li><li><a class="tocitem" href="../01_particles_First_Inspection/">Particles</a></li><li><a class="tocitem" href="../01_clumps_First_Inspection/">Clumps</a></li></ul></li><li><span class="tocitem">2-Load by Selection</span><ul><li><a class="tocitem" href="../02_hydro_Load_Selections/">Hydro</a></li><li><a class="tocitem" href="../02_particles_Load_Selections/">Particles</a></li><li><a class="tocitem" href="../02_clumps_Load_Selections/">Clumps</a></li></ul></li><li><span class="tocitem">3-Get Subregions</span><ul><li><a class="tocitem" href="../03_hydro_Get_Subregions/">Hydro</a></li><li><a class="tocitem" href="../03_particles_Get_Subregions/">Particles</a></li><li><a class="tocitem" href="../03_clumps_Get_Subregions/">Clumps</a></li></ul></li><li><a class="tocitem" href="../04_multi_Basic_Calculations/">4-Basic Calculations</a></li><li><a class="tocitem" href="../05_multi_Masking_Filtering/">5-Mask/Filter/Meta</a></li><li><span class="tocitem">6-Projection</span><ul><li class="is-active"><a class="tocitem" href>Hydro</a><ul class="internal"><li><a class="tocitem" href="#Load-The-Data-1"><span>Load The Data</span></a></li><li><a class="tocitem" href="#Projection-of-Predefined-Quantities-1"><span>Projection of Predefined Quantities</span></a></li><li><a class="tocitem" href="#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)-1"><span>Projection of a Single Quantity in Different Directions (z,y,x)</span></a></li><li><a class="tocitem" href="#Function-Output-1"><span>Function Output</span></a></li><li><a class="tocitem" href="#Plot-Maps-with-Python-1"><span>Plot Maps with Python</span></a></li><li><a class="tocitem" href="#Projections-of-Derived-Kinematic-Data-1"><span>Projections of Derived Kinematic Data</span></a></li><li><a class="tocitem" href="#Project-on-a-Coarser-Grid-1"><span>Project on a Coarser Grid</span></a></li><li><a class="tocitem" href="#Remap-a-Projected-Data-onto-a-Coarser-Grid-1"><span>Remap a Projected Data onto a Coarser Grid</span></a></li><li><a class="tocitem" href="#Projection-of-Thermal-Data-1"><span>Projection of Thermal Data</span></a></li><li><a class="tocitem" href="#Projection-of-Masked-Data-1"><span>Projection of Masked Data</span></a></li></ul></li><li><a class="tocitem" href="../06_particles_Projection/">Particles</a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">6-Projection</a></li><li class="is-active"><a href>Hydro</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Hydro</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ManuelBehrendt/Mera.jl/blob/master/docs/src/06_hydro_Projection.md" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id=".-Hydro:-Projections-1"><a class="docs-heading-anchor" href="#.-Hydro:-Projections-1">6. Hydro: Projections</a><a class="docs-heading-anchor-permalink" href="#.-Hydro:-Projections-1" title="Permalink"></a></h1><h2 id="Load-The-Data-1"><a class="docs-heading-anchor" href="#Load-The-Data-1">Load The Data</a><a class="docs-heading-anchor-permalink" href="#Load-The-Data-1" title="Permalink"></a></h2><pre><code class="language-julia">using Mera
info = getinfo(400, &quot;../../testing/simulations/manu_sim_sf_L14&quot;);
gas  = gethydro(info, lmax=10, smallr=1e-5);</code></pre><pre><code class="language-none">‚îå Info: Precompiling Mera [02f895e8-fdb1-4346-8fe6-c721699f5126]
‚îî @ Base loading.jl:1273



*__   __ _______ ______   _______
|  |_|  |       |    _ | |   _   |
|       |    ___|   | || |  |_|  |
|       |   |___|   |_||_|       |
|       |    ___|    __  |       |
| ||_|| |   |___|   |  | |   _   |
|_|   |_|_______|___|  |_|__| |__|

 [Mera]: 2020-02-18T22:27:12.257

Code: RAMSES
output [400] summary:
mtime: 2018-09-05T09:51:55.041
ctime: 2019-11-01T17:35:21.051
 =======================================================
simulation time: 594.98 [Myr]
boxlen: 48.0 [kpc]
ncpu: 2048
ndim: 3
-------------------------------------------------------
amr:           true
level(s): 6 - 14 --&gt; cellsize(s): 750.0 [pc] - 2.93 [pc]
-------------------------------------------------------
hydro:         true
hydro-variables:  7  --&gt; (:rho, :vx, :vy, :vz, :p, :var6, :var7)
hydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)
Œ≥: 1.6667
-------------------------------------------------------
gravity:       true
gravity-variables: (:epot, :ax, :ay, :az)
-------------------------------------------------------
particles:     true
- Npart:    5.091500e+05
- Nstars:   5.066030e+05
- Ndm:      2.547000e+03
particle variables: (:vx, :vy, :vz, :mass, :birth)
-------------------------------------------------------
clumps:        true
clump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance)
-------------------------------------------------------
namelist-file: false
timer-file:       false
compilation-file: true
makefile:         true
patchfile:        true
 =======================================================

 [Mera]: Get hydro data: 2020-02-18T22:27:49.16

Key vars=(:level, :cx, :cy, :cz)
Using var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7)

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Reading data...


 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:03:04


Memory used for data table :409.5426664352417 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">gas.data</code></pre><pre><code class="language-none">Table with 4879946 rows, 11 columns:
Columns:
 #     colname    type
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
1   level    Int64
2   cx       Int64
3   cy       Int64
4   cz       Int64
5   rho      Float64
6   vx       Float64
7   vy       Float64
8   vz       Float64
9   p        Float64
10  var6     Float64
11  var7     Float64</code></pre><h2 id="Projection-of-Predefined-Quantities-1"><a class="docs-heading-anchor" href="#Projection-of-Predefined-Quantities-1">Projection of Predefined Quantities</a><a class="docs-heading-anchor-permalink" href="#Projection-of-Predefined-Quantities-1" title="Permalink"></a></h2><p>See the possible variables:</p><pre><code class="language-julia">projection()</code></pre><pre><code class="language-none">Predefined vars for projections:
------------------------------------------------
=====================[gas]:=====================
       -all the non derived hydro vars-
:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...
further possibilities: :rho, :density, :œÅ
              -derived hydro vars-
:x, :y, :z
:sd or :Œ£ or :surfacedensity
:mass, :cellsize, :freefall_time
:cs, :mach, :jeanslength, :jeansnumber

==================[particles]:==================
        all the non derived  vars:
:cpu, :level, :id, :family, :tag
:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....

              -derived particle vars-
:age

==============[gas or particles]:===============
:v, :ekin
squared =&gt; :vx2, :vy2, :vz2
velocity dispersion =&gt; œÉx, œÉy, œÉz, œÉ

related to a given center:
---------------------------
:vr_cylinder, vr_sphere (radial components)
:vœï_cylinder, :vŒ∏
squared =&gt; :vr_cylinder2, :vœï_cylinder2
velocity dispersion =&gt; œÉr_cylinder, œÉœï_cylinder

2d maps (not projected):
:r_cylinder
:œï
------------------------------------------------</code></pre><h2 id="Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)-1"><a class="docs-heading-anchor" href="#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)-1">Projection of a Single Quantity in Different Directions (z,y,x)</a><a class="docs-heading-anchor-permalink" href="#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)-1" title="Permalink"></a></h2><p>Here we project the surface density in the z-direction of the data within a particular vertical range (domain=[0:1]) onto a grid corresponding to the maximum loaded level. Pass any object of <code>HydroDataType</code> (here: &quot;gas&quot;) to the <code>projection</code>-function and select a variable by a Symbol (here: :sd = :surfacedensity = :Œ£ in Msol/pc^3)</p><pre><code class="language-julia">proj_z = projection(gas, :sd, unit=:Msol_pc2, zrange=[0.45,0.55])
proj_z = projection(gas, :Œ£,  unit=:Msol_pc2, zrange=[0.45,0.55], verbose=false)
proj_z = projection(gas, :surfacedensity, unit=:Msol_pc2, zrange=[0.45,0.55], verbose=false)
proj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], verbose=false) # The keyword &quot;unit&quot; (singular) can be omit if the following order is preserved: data-object, quantity, unit.
proj_x = projection(gas, :sd, :Msol_pc2, direction = :x, zrange=[0.45,0.55], verbose=false); # Project the surface density in x-direction</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:18:14.842

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.45 :: 0.55  	==&gt; 21.6 [kpc] :: 26.4 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:07
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:02
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:57
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:57
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:56</code></pre><h3 id="Select-a-Range-Related-to-a-Center-1"><a class="docs-heading-anchor" href="#Select-a-Range-Related-to-a-Center-1">Select a Range Related to a Center</a><a class="docs-heading-anchor-permalink" href="#Select-a-Range-Related-to-a-Center-1" title="Permalink"></a></h3><p>See also in the documentation for: load data by selection</p><pre><code class="language-julia">cv = (gas.boxlen / 2.) * gas.scale.kpc # provide the box-center in kpc
proj_z = projection(gas, :sd, :Msol_pc2,
                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                    center=[cv,cv,cv], range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:23:18.582

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:55</code></pre><p>Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):</p><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,  
                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                        center=[:boxcenter], range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:24:15.893

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:53</code></pre><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,  
                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                        center=[:bc], range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:25:09.001

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:52</code></pre><p>Use the box center notation for individual dimensions, here x,z:</p><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,  
                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                        center=[:bc, 24., :bc], range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:26:03.671

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:53</code></pre><h3 id="Get-Multiple-Quantities-1"><a class="docs-heading-anchor" href="#Get-Multiple-Quantities-1">Get Multiple Quantities</a><a class="docs-heading-anchor-permalink" href="#Get-Multiple-Quantities-1" title="Permalink"></a></h3><p>Get several quantities with one function call by passing an array containing the selected variables (at least one entry). The keyword name for the units is now in plural.</p><pre><code class="language-julia">proj1_x = projection(gas, [:sd], units=[:Msol_pc2],
                        direction = :x,
                        xrange=[-10.,10.],
                        yrange=[-10.,10.],
                        zrange=[-2.,2.],
                        center=[24.,24.,24.],
                        range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:26:57.186

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd,)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:53</code></pre><p>Pass an array containing several quantities to process and their corresponding units:</p><pre><code class="language-julia">proj1_z = projection(gas, [:sd, :vx], units=[:Msol_pc2, :km_s],
                        direction = :x,
                        xrange=[-10.,10.],
                        yrange=[-10.,10.],
                        zrange=[-2.,2.],
                        center=[24.,24.,24.],
                        range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:27:50.658

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd, :vx)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:59</code></pre><p>The function can be called without any keywords by preserving the following order: dataobject, variables, units</p><pre><code class="language-julia">proj1_z = projection(gas, [:sd , :vx], [:Msol_pc2, :km_s],
                        direction = :x,
                        xrange=[-10.,10.],
                        yrange=[-10.,10.],
                        zrange=[-2.,2.],
                        center=[24.,24.,24.],
                        range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:28:49.928

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:sd, :vx)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:56</code></pre><p>If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed)</p><pre><code class="language-julia">projvel_z = projection(gas, [:vx, :vy, :vz], :km_s,
                        xrange=[-10.,10.],
                        yrange=[-10.,10.],
                        zrange=[-2.,2.],
                        center=[24.,24.,24.],
                        range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-12T12:29:46.23

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:vx, :vy, :vz, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:55</code></pre><h2 id="Function-Output-1"><a class="docs-heading-anchor" href="#Function-Output-1">Function Output</a><a class="docs-heading-anchor-permalink" href="#Function-Output-1" title="Permalink"></a></h2><p>List the fields of the assigned object:</p><pre><code class="language-julia">propertynames(proj1_z)</code></pre><pre><code class="language-none">(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :boxlen, :smallr, :smallc, :scale, :info)</code></pre><p>The projected 2D maps are stored in a dictionary:</p><pre><code class="language-julia">proj1_z.maps</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:
  :sd =&gt; [2.42108 2.42108 ‚Ä¶ 3.06809 3.06809; 2.42108 2.42108 ‚Ä¶ 3.06809 3.06809;‚Ä¶
  :vx =&gt; [48.3311 48.3311 ‚Ä¶ 35.0161 35.0161; 48.3311 48.3311 ‚Ä¶ 35.0161 35.0161;‚Ä¶</code></pre><p>The maps can be accessed by giving the name of the dictionary:</p><pre><code class="language-julia">proj1_z.maps[:sd]</code></pre><pre><code class="language-none">428√ó86 Array{Float64,2}:
 2.42108  2.42108  2.42108  2.76423  ‚Ä¶  3.80613  3.06809  3.06809  3.06809
 2.42108  2.42108  2.42108  2.76423     3.80613  3.06809  3.06809  3.06809
 2.43323  2.43323  2.43323  2.83905     3.77978  3.04769  3.04769  3.04769
 2.43323  2.43323  2.43323  2.83905     3.77978  3.04769  3.04769  3.04769
 2.43323  2.43323  2.43323  2.83612     3.77978  3.04769  3.04769  3.04769
 2.43323  2.43323  2.43323  2.83612  ‚Ä¶  3.77978  3.04769  3.04769  3.04769
 2.61724  2.61724  2.61724  2.78421     3.38093  2.59978  2.59978  2.59978
 2.61724  2.61724  2.61724  2.78421     3.38093  2.59978  2.59978  2.59978
 2.61724  2.61724  2.61724  2.78048     3.38093  2.59978  2.59978  2.59978
 2.61724  2.61724  2.61724  2.78048     3.38093  2.59978  2.59978  2.59978
 2.65948  2.65948  2.65948  2.92033  ‚Ä¶  3.26695  2.56391  2.56391  2.56391
 2.65948  2.65948  2.65948  2.92033     3.26695  2.56391  2.56391  2.56391
 2.65948  2.65948  2.65948  2.9154      3.26695  2.56391  2.56391  2.56391
 ‚ãÆ                                   ‚ã±                             ‚ãÆ      
 3.64783  3.62431  3.62431  3.69296     2.64986  2.58555  2.58555  2.58555
 3.64783  3.62431  3.62431  3.69296     2.64986  2.58555  2.58555  2.58555
 4.06584  4.06584  4.06584  4.25253     2.5403   2.54319  2.54319  2.54319
 4.06584  4.06584  4.06584  4.25253     2.5403   2.54319  2.54319  2.54319
 4.06584  4.06584  4.06584  4.36169  ‚Ä¶  2.5403   2.54319  2.54319  2.54319
 4.06584  4.06584  4.06584  4.36169     2.5403   2.54319  2.54319  2.54319
 5.43946  5.43946  5.43946  5.56363     2.45995  2.45782  2.45782  2.45782
 5.43946  5.43946  5.43946  5.56363     2.45995  2.45782  2.45782  2.45782
 5.43946  5.43946  5.43946  5.39163     2.45995  2.45782  2.45782  2.45782
 5.43946  5.43946  5.43946  5.39163  ‚Ä¶  2.45995  2.45782  2.45782  2.45782
 5.68876  5.68876  5.68876  5.8404      2.41942  2.43411  2.43411  2.43411
 5.68876  5.68876  5.68876  2.62535     2.41942  2.43411  2.43411  2.43411</code></pre><p>The units of the maps are stored in:</p><pre><code class="language-julia">proj1_z.maps_unit</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:
  :sd =&gt; :Msol_pc2
  :vx =&gt; :km_s</code></pre><p>Projections on a different grid size (see subject below):</p><pre><code class="language-julia">proj1_z.maps_lmax</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 0 entries</code></pre><p>The following fields are helpful for further calculations or plots.</p><pre><code class="language-julia">proj1_z.ranges # normalized to the domain=[0:1]</code></pre><pre><code class="language-none">6-element Array{Float64,1}:
 0.29166666666647767
 0.7083333333328743
 0.29166666666647767
 0.7083333333328743
 0.4583333333330363
 0.5416666666663156</code></pre><pre><code class="language-julia">proj1_z.extent # ranges in code units</code></pre><pre><code class="language-none">4-element Array{Float64,1}:
 13.96875
 34.03125
 21.984375
 26.015625</code></pre><pre><code class="language-julia">proj1_z.cextent # ranges in code units relative to a given center (by default: box center)</code></pre><pre><code class="language-none">4-element Array{Float64,1}:
 -10.03125
  10.03125
  -2.015625
   2.015625</code></pre><pre><code class="language-julia">proj1_z.ratio # the ratio between the two ranges</code></pre><pre><code class="language-none">4.976744186046512</code></pre><h2 id="Plot-Maps-with-Python-1"><a class="docs-heading-anchor" href="#Plot-Maps-with-Python-1">Plot Maps with Python</a><a class="docs-heading-anchor-permalink" href="#Plot-Maps-with-Python-1" title="Permalink"></a></h2><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,
                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false)
proj_x = projection(gas, :sd, :Msol_pc2,
                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false,
                    direction = :x);</code></pre><pre><code class="language-none"> 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:02
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:00</code></pre><p>Python functions can be directly called in Julia, which gives the opportunity, e.g. to use the Matplotlib library.</p><pre><code class="language-julia">using PyPlot
using ColorSchemes
cmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php
cmap2 = ColorMap(ColorSchemes.roma.colors)</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_45_0.svg" alt="svg"/></p><pre><code class="language-julia">figure(figsize=(10, 3.5))
subplot(1,2,1)
im = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;)

subplot(1,2,2)
im = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;,orientation=&quot;horizontal&quot;, pad=0.2);</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_46_0.png" alt="png"/></p><p>Project a specific spatial range and plot the axes of the map relative to the box-center (given by keyword: data_center):</p><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,
                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false,
                    data_center=[24.,24.,24.], data_center_unit=:kpc)
proj_x = projection(gas, :sd, :Msol_pc2,
                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false,
                    data_center=[24.,24.,24.], data_center_unit=:kpc,
                    direction = :x);</code></pre><pre><code class="language-none"> 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:54
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:51</code></pre><pre><code class="language-julia">figure(figsize=(10, 3.5))
subplot(1,2,1)
im = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;)

subplot(1,2,2)
im = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;,orientation=&quot;horizontal&quot;, pad=0.2);</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_49_0.png" alt="png"/></p><p>Plot the axes of the map relative to the map-center (given by keyword: data_center):</p><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2,
                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false,
                    data_center=[19.,19.,24.], data_center_unit=:kpc)
proj_x = projection(gas, :sd, :Msol_pc2,
                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,
                    verbose=false,
                    data_center=[19.,19.,24.], data_center_unit=:kpc,
                    direction = :x);</code></pre><pre><code class="language-none"> 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:10
 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:00</code></pre><pre><code class="language-julia">figure(figsize=(10, 3.5))
subplot(1,2,1)
im = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;)

subplot(1,2,2)
im = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;,orientation=&quot;horizontal&quot;, pad=0.2);</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_52_0.png" alt="png"/></p><h2 id="Projections-of-Derived-Kinematic-Data-1"><a class="docs-heading-anchor" href="#Projections-of-Derived-Kinematic-Data-1">Projections of Derived Kinematic Data</a><a class="docs-heading-anchor-permalink" href="#Projections-of-Derived-Kinematic-Data-1" title="Permalink"></a></h2><h4 id="Use-quantities-in-cartesian-coordinates:-1"><a class="docs-heading-anchor" href="#Use-quantities-in-cartesian-coordinates:-1">Use quantities in cartesian coordinates:</a><a class="docs-heading-anchor-permalink" href="#Use-quantities-in-cartesian-coordinates:-1" title="Permalink"></a></h4><p>Project the following derived data (mass weighted by default): The absolute value of the velocity :v, the velocity dispersion :œÉ in different directions. The Julia language supports Unicode characters and can be inserted by e.g. &quot;\sigma + tab-key&quot; leading to: <strong>œÉ</strong>.</p><pre><code class="language-julia">proj_z = projection(gas, [:v, :œÉ, :œÉx, :œÉy, :œÉz], :km_s,
                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                    center=[24.,24.,24.], range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T22:49:54.49

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:v, :œÉ, :œÉx, :œÉy, :œÉz, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:03</code></pre><p>For the velocity dispersion additional maps are created to created the mass-weighted quantity: E. g.: œÉx = sqrt( &lt;vx^2&gt; - &lt; vx &gt;^2 )</p><pre><code class="language-julia">proj_z.maps</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 13 entries:
  :sd  =&gt; [0.000525384 0.000525384 ‚Ä¶ 0.000463458 0.000334485; 0.000525384 0.000‚Ä¶
  :v   =&gt; [10.9033 10.9033 ‚Ä¶ 9.28165 8.34605; 10.9033 10.9033 ‚Ä¶ 9.28165 8.34605‚Ä¶
  :v2  =&gt; [0.245404 0.245404 ‚Ä¶ 0.193833 0.163449; 0.245404 0.245404 ‚Ä¶ 0.193833 ‚Ä¶
  :vx  =&gt; [0.11951 0.11951 ‚Ä¶ -0.0700017 -0.0384127; 0.11951 0.11951 ‚Ä¶ -0.070001‚Ä¶
  :vx2 =&gt; [0.122347 0.122347 ‚Ä¶ 0.111339 0.0775909; 0.122347 0.122347 ‚Ä¶ 0.111339‚Ä¶
  :vy  =&gt; [0.0445661 0.0445661 ‚Ä¶ -0.00514768 -0.00554146; 0.0445661 0.0445661 ‚Ä¶‚Ä¶
  :vy2 =&gt; [0.0331066 0.0331066 ‚Ä¶ 0.019046 0.018845; 0.0331066 0.0331066 ‚Ä¶ 0.019‚Ä¶
  :vz  =&gt; [-0.0999134 -0.0999134 ‚Ä¶ -0.0370643 -0.024236; -0.0999134 -0.0999134 ‚Ä¶
  :vz2 =&gt; [0.0899502 0.0899502 ‚Ä¶ 0.0634475 0.0670127; 0.0899502 0.0899502 ‚Ä¶ 0.0‚Ä¶
  :œÉ   =&gt; [30.6004 30.6004 ‚Ä¶ 27.3378 25.1633; 30.6004 30.6004 ‚Ä¶ 27.3378 25.1633‚Ä¶
  :œÉx  =&gt; [21.5567 21.5567 ‚Ä¶ 21.3939 18.0916; 21.5567 21.5567 ‚Ä¶ 21.3939 18.0916‚Ä¶
  :œÉy  =&gt; [11.5681 11.5681 ‚Ä¶ 9.04357 8.99465; 11.5681 11.5681 ‚Ä¶ 9.04357 8.99465‚Ä¶
  :œÉz  =&gt; [18.5437 18.5437 ‚Ä¶ 16.3378 16.9008; 18.5437 18.5437 ‚Ä¶ 16.3378 16.9008‚Ä¶</code></pre><pre><code class="language-julia">proj_z.maps_unit</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 13 entries:
  :sd  =&gt; :standard
  :v   =&gt; :km_s
  :v2  =&gt; :standard
  :vx  =&gt; :standard
  :vx2 =&gt; :standard
  :vy  =&gt; :standard
  :vy2 =&gt; :standard
  :vz  =&gt; :standard
  :vz2 =&gt; :standard
  :œÉ   =&gt; :km_s
  :œÉx  =&gt; :km_s
  :œÉy  =&gt; :km_s
  :œÉz  =&gt; :km_s</code></pre><pre><code class="language-julia">usedmemory(proj_z);</code></pre><pre><code class="language-none">Memory used: 18.436 MB</code></pre><pre><code class="language-julia">figure(figsize=(10, 5.5))

subplot(2, 3, 1)
title(&quot;v [km/s]&quot;)
imshow( (permutedims(proj_z.maps[:v])  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(2, 3, 2)
title(&quot;œÉ [km/s]&quot;)
imshow( (permutedims(proj_z.maps[:œÉ])  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(2, 3, 4)
title(&quot;œÉx [km/s]&quot;)
imshow( (permutedims(proj_z.maps[:œÉx])   ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(2, 3, 5)
title(&quot;œÉy [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉy]) , cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(2, 3, 6)
title(&quot;œÉz [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉz]) , cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar();
</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_61_0.png" alt="png"/></p><h4 id="Use-quantities-in-cylindrical-coordinates:-1"><a class="docs-heading-anchor" href="#Use-quantities-in-cylindrical-coordinates:-1">Use quantities in cylindrical coordinates:</a><a class="docs-heading-anchor-permalink" href="#Use-quantities-in-cylindrical-coordinates:-1" title="Permalink"></a></h4><h4 id="Face-on-disc-(z-direction)-1"><a class="docs-heading-anchor" href="#Face-on-disc-(z-direction)-1">Face-on disc (z-direction)</a><a class="docs-heading-anchor-permalink" href="#Face-on-disc-(z-direction)-1" title="Permalink"></a></h4><p>For the cylindrical or spherical components of a quantity, the center of the coordinate system is used (keywords: data<em>center = center default) and can be given with the keyword &quot;data</em>center&quot; and its units with &quot;data<em>center</em>unit&quot;. Additionally, the quantities that are based on cartesian coordinates can be given.</p><pre><code class="language-julia">proj_z = projection(gas, [:v, :œÉ, :œÉx, :œÉy, :œï, :r_cylinder, :vr_cylinder, :vœï_cylinder, :œÉr_cylinder, :œÉœï_cylinder],                    
                    units=[:km_s,:km_s,:km_s, :km_s, :standard, :kpc, :km_s, :km_s, :km_s, :km_s],
                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                    center=[:boxcenter], range_unit=:kpc,
                    data_center=[24.,24.,24.],
                    data_center_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:17:14.519

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:v, :œÉ, :œÉx, :œÉy, :œï, :r_cylinder, :vr_cylinder, :vœï_cylinder, :œÉr_cylinder, :œÉœï_cylinder, :vx, :vx2, :vy, :vy2, :v2, :vr_cylinder2, :vœï_cylinder2, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:08</code></pre><pre><code class="language-julia">proj_z.maps</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:
  :r_cylinder   =&gt; [14.0758 14.0427 ‚Ä¶ 14.1201 14.1534; 14.0427 14.0096 ‚Ä¶ 14.087‚Ä¶
  :sd           =&gt; [0.000525384 0.000525384 ‚Ä¶ 0.000463458 0.000334485; 0.000525‚Ä¶
  :v            =&gt; [8.72263 8.72263 ‚Ä¶ 7.42532 6.67684; 8.72263 8.72263 ‚Ä¶ 7.4253‚Ä¶
  :v2           =&gt; [0.196323 0.196323 ‚Ä¶ 0.155066 0.130759; 0.196323 0.196323 ‚Ä¶ ‚Ä¶
  :vr_cylinder  =&gt; [-6.0864 -6.0864 ‚Ä¶ 2.38666 1.2034; -6.0864 -6.0864 ‚Ä¶ 2.38666‚Ä¶
  :vr_cylinder2 =&gt; [0.105049 0.105049 ‚Ä¶ 0.0620751 0.0537682; 0.105049 0.105049 ‚Ä¶
  :vx           =&gt; [0.0956079 0.0956079 ‚Ä¶ -0.0560013 -0.0307302; 0.0956079 0.09‚Ä¶
  :vx2          =&gt; [0.097878 0.097878 ‚Ä¶ 0.0890713 0.0620727; 0.097878 0.097878 ‚Ä¶
  :vy           =&gt; [0.0356529 0.0356529 ‚Ä¶ -0.00411814 -0.00443317; 0.0356529 0.‚Ä¶
  :vy2          =&gt; [0.0264853 0.0264853 ‚Ä¶ 0.0152368 0.015076; 0.0264853 0.02648‚Ä¶
  :vœï_cylinder  =&gt; [2.78004 2.78004 ‚Ä¶ 3.22947 2.23274; 2.78004 2.78004 ‚Ä¶ 3.2294‚Ä¶
  :vœï_cylinder2 =&gt; [0.0193141 0.0193141 ‚Ä¶ 0.042233 0.0233806; 0.0193141 0.01931‚Ä¶
  :œÉ            =&gt; [27.7151 27.7151 ‚Ä¶ 24.7319 22.753; 27.7151 27.7151 ‚Ä¶ 24.7319‚Ä¶
  :œÉr_cylinder  =&gt; [20.3637 20.3637 ‚Ä¶ 16.1627 15.1579; 20.3637 20.3637 ‚Ä¶ 16.162‚Ä¶
  :œÉx           =&gt; [19.5341 19.5341 ‚Ä¶ 19.2232 16.2129; 19.5341 19.5341 ‚Ä¶ 19.223‚Ä¶
  :œÉy           =&gt; [10.4127 10.4127 ‚Ä¶ 8.08995 8.04638; 10.4127 10.4127 ‚Ä¶ 8.0899‚Ä¶
  :œÉœï_cylinder  =&gt; [8.67895 8.67895 ‚Ä¶ 13.0835 9.77518; 8.67895 8.67895 ‚Ä¶ 13.083‚Ä¶
  :œï            =&gt; [3.92699 3.92463 ‚Ä¶ 2.35306 2.35073; 3.92935 3.92699 ‚Ä¶ 2.3507‚Ä¶</code></pre><pre><code class="language-julia">proj_z.maps_unit</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:
  :r_cylinder   =&gt; :kpc
  :sd           =&gt; :standard
  :v            =&gt; :km_s
  :v2           =&gt; :standard
  :vr_cylinder  =&gt; :km_s
  :vr_cylinder2 =&gt; :standard
  :vx           =&gt; :standard
  :vx2          =&gt; :standard
  :vy           =&gt; :standard
  :vy2          =&gt; :standard
  :vœï_cylinder  =&gt; :km_s
  :vœï_cylinder2 =&gt; :standard
  :œÉ            =&gt; :km_s
  :œÉr_cylinder  =&gt; :km_s
  :œÉx           =&gt; :km_s
  :œÉy           =&gt; :km_s
  :œÉœï_cylinder  =&gt; :km_s
  :œï            =&gt; :radian</code></pre><pre><code class="language-julia">figure(figsize=(10, 8.5))

subplot(3, 3, 1)
title(&quot;Radius [kpc]&quot;)
imshow( permutedims(proj_z.maps[:r_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 2)
title(&quot;vr [km/s]&quot;)
imshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=-20.,vmax=20.)
colorbar()


subplot(3, 3, 3)
title(&quot;vœï [km/s]&quot;)
imshow( permutedims(proj_z.maps[:vœï_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 4)
title(&quot;œï-angle &quot;)
imshow( permutedims(proj_z.maps[:œï]) , cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 5)
title(&quot;œÉr [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉr_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 6)
title(&quot;œÉœï [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉœï_cylinder] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 7)
title(&quot;œÉ [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉ]) , cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 8)
title(&quot;œÉx [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉx] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 9)
title(&quot;œÉy [km/s]&quot;)
imshow( permutedims(proj_z.maps[:œÉy] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar();</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_66_0.png" alt="png"/></p><h2 id="Project-on-a-Coarser-Grid-1"><a class="docs-heading-anchor" href="#Project-on-a-Coarser-Grid-1">Project on a Coarser Grid</a><a class="docs-heading-anchor-permalink" href="#Project-on-a-Coarser-Grid-1" title="Permalink"></a></h2><p>The default is the projection on the maximum loaded grid level (always provided in the output). Choose a smaller level with the keyword <code>lmax</code> to project on a coarser grid in addition. Higher-resolution data is averaged within each coarser grid-cell (default: mass-weighted). By default, the data is assumed to be in the center of the simulation box.</p><pre><code class="language-julia">proj_z = projection(gas, [:v, :œÉ, :œÉx, :œÉy, :œÉz, :vr_cylinder, :vœï_cylinder, :œÉr_cylinder, :œÉœï_cylinder],
                    :km_s,
                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],
                    center=[:boxcenter], range_unit=:kpc,
                    lmax=8);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:18:44.018

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Selected var(s)=(:v, :œÉ, :œÉx, :œÉy, :œÉz, :vr_cylinder, :vœï_cylinder, :œÉr_cylinder, :œÉœï_cylinder, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :vr_cylinder2, :vœï_cylinder2, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:08



remap from:
level 10 =&gt; 8
cellsize 46.88 [pc] =&gt; 187.5 [pc]
pixels (428, 428) =&gt; (107, 107)</code></pre><p>The projection onto the maximum loaded grid is always provided:</p><pre><code class="language-julia">proj_z.maps_lmax</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:
  :sd           =&gt; [0.000525384 0.000545269 ‚Ä¶ 0.000475553 0.000334485; 0.000532‚Ä¶
  :v            =&gt; [7.26886 7.32994 ‚Ä¶ 7.73366 5.56403; 7.30578 7.37137 ‚Ä¶ 8.9885‚Ä¶
  :v2           =&gt; [0.163603 0.166415 ‚Ä¶ 0.210983 0.108966; 0.166587 0.168972 ‚Ä¶ ‚Ä¶
  :vr_cylinder  =&gt; [-5.072 -4.65663 ‚Ä¶ 2.60367 1.00283; -5.02593 -4.4874 ‚Ä¶ 2.140‚Ä¶
  :vr_cylinder2 =&gt; [0.0875409 0.0826628 ‚Ä¶ 0.0646939 0.0448068; 0.0884293 0.0811‚Ä¶
  :vx           =&gt; [0.0796732 0.0788819 ‚Ä¶ -0.0691436 -0.0256085; 0.0809557 0.07‚Ä¶
  :vx2          =&gt; [0.081565 0.0804544 ‚Ä¶ 0.136752 0.0517273; 0.0845953 0.082583‚Ä¶
  :vy           =&gt; [0.0297108 0.0211165 ‚Ä¶ -0.0132175 -0.0036943; 0.0278214 0.01‚Ä¶
  :vy2          =&gt; [0.022071 0.0251372 ‚Ä¶ 0.0168816 0.0125634; 0.0229327 0.02711‚Ä¶
  :vz           =&gt; [-0.0666089 -0.0671458 ‚Ä¶ -0.0188721 -0.0161574; -0.0657326 -‚Ä¶
  :vz2          =&gt; [0.0599668 0.0608235 ‚Ä¶ 0.0573498 0.0446751; 0.0590593 0.0592‚Ä¶
  :vœï_cylinder  =&gt; [2.3167 2.65081 ‚Ä¶ 3.9351 1.86062; 2.49477 2.91954 ‚Ä¶ 5.93535 ‚Ä¶
  :vœï_cylinder2 =&gt; [0.0160951 0.0229288 ‚Ä¶ 0.0889397 0.0194838; 0.0190986 0.0284‚Ä¶
  :œÉ            =&gt; [25.5083 25.727 ‚Ä¶ 29.1109 20.9191; 25.7482 25.928 ‚Ä¶ 33.7281 ‚Ä¶
  :œÉr_cylinder  =&gt; [18.7273 18.2695 ‚Ä¶ 16.4746 13.8445; 18.8414 18.1389 ‚Ä¶ 13.727‚Ä¶
  :œÉx           =&gt; [17.9845 17.8664 ‚Ä¶ 23.8221 14.8194; 18.319 18.1022 ‚Ä¶ 25.8056‚Ä¶
  :œÉy           =&gt; [9.54527 10.3042 ‚Ä¶ 8.47594 7.3461; 9.7614 10.7401 ‚Ä¶ 15.0491 ‚Ä¶
  :œÉz           =&gt; [15.4527 15.5615 ‚Ä¶ 15.655 13.8198; 15.3422 15.3681 ‚Ä¶ 16.8782‚Ä¶
  :œÉœï_cylinder  =&gt; [7.99022 9.56921 ‚Ä¶ 19.1564 8.96219; 8.7122 10.678 ‚Ä¶ 26.5011 ‚Ä¶</code></pre><pre><code class="language-julia">proj_z.maps_unit</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:
  :sd           =&gt; :standard
  :v            =&gt; :km_s
  :v2           =&gt; :standard
  :vr_cylinder  =&gt; :km_s
  :vr_cylinder2 =&gt; :standard
  :vx           =&gt; :standard
  :vx2          =&gt; :standard
  :vy           =&gt; :standard
  :vy2          =&gt; :standard
  :vz           =&gt; :standard
  :vz2          =&gt; :standard
  :vœï_cylinder  =&gt; :km_s
  :vœï_cylinder2 =&gt; :standard
  :œÉ            =&gt; :km_s
  :œÉr_cylinder  =&gt; :km_s
  :œÉx           =&gt; :km_s
  :œÉy           =&gt; :km_s
  :œÉz           =&gt; :km_s
  :œÉœï_cylinder  =&gt; :km_s</code></pre><p>The projection onto a coarser grid (fieldname: <code>maps_lmax</code>) is stored in a dictionary into the field <code>maps_lmax</code>:</p><pre><code class="language-julia">proj_z.lmax_projected</code></pre><pre><code class="language-none">8</code></pre><pre><code class="language-julia">proj_z.maps_lmax</code></pre><pre><code class="language-none">DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:
  :sd           =&gt; [0.000525384 0.000545269 ‚Ä¶ 0.000475553 0.000334485; 0.000532‚Ä¶
  :v            =&gt; [7.26886 7.32994 ‚Ä¶ 7.73366 5.56403; 7.30578 7.37137 ‚Ä¶ 8.9885‚Ä¶
  :v2           =&gt; [0.163603 0.166415 ‚Ä¶ 0.210983 0.108966; 0.166587 0.168972 ‚Ä¶ ‚Ä¶
  :vr_cylinder  =&gt; [-5.072 -4.65663 ‚Ä¶ 2.60367 1.00283; -5.02593 -4.4874 ‚Ä¶ 2.140‚Ä¶
  :vr_cylinder2 =&gt; [0.0875409 0.0826628 ‚Ä¶ 0.0646939 0.0448068; 0.0884293 0.0811‚Ä¶
  :vx           =&gt; [0.0796732 0.0788819 ‚Ä¶ -0.0691436 -0.0256085; 0.0809557 0.07‚Ä¶
  :vx2          =&gt; [0.081565 0.0804544 ‚Ä¶ 0.136752 0.0517273; 0.0845953 0.082583‚Ä¶
  :vy           =&gt; [0.0297108 0.0211165 ‚Ä¶ -0.0132175 -0.0036943; 0.0278214 0.01‚Ä¶
  :vy2          =&gt; [0.022071 0.0251372 ‚Ä¶ 0.0168816 0.0125634; 0.0229327 0.02711‚Ä¶
  :vz           =&gt; [-0.0666089 -0.0671458 ‚Ä¶ -0.0188721 -0.0161574; -0.0657326 -‚Ä¶
  :vz2          =&gt; [0.0599668 0.0608235 ‚Ä¶ 0.0573498 0.0446751; 0.0590593 0.0592‚Ä¶
  :vœï_cylinder  =&gt; [2.3167 2.65081 ‚Ä¶ 3.9351 1.86062; 2.49477 2.91954 ‚Ä¶ 5.93535 ‚Ä¶
  :vœï_cylinder2 =&gt; [0.0160951 0.0229288 ‚Ä¶ 0.0889397 0.0194838; 0.0190986 0.0284‚Ä¶
  :œÉ            =&gt; [25.5083 25.727 ‚Ä¶ 29.1109 20.9191; 25.7482 25.928 ‚Ä¶ 33.7281 ‚Ä¶
  :œÉr_cylinder  =&gt; [18.7273 18.2695 ‚Ä¶ 16.4746 13.8445; 18.8414 18.1389 ‚Ä¶ 13.727‚Ä¶
  :œÉx           =&gt; [17.9845 17.8664 ‚Ä¶ 23.8221 14.8194; 18.319 18.1022 ‚Ä¶ 25.8056‚Ä¶
  :œÉy           =&gt; [9.54527 10.3042 ‚Ä¶ 8.47594 7.3461; 9.7614 10.7401 ‚Ä¶ 15.0491 ‚Ä¶
  :œÉz           =&gt; [15.4527 15.5615 ‚Ä¶ 15.655 13.8198; 15.3422 15.3681 ‚Ä¶ 16.8782‚Ä¶
  :œÉœï_cylinder  =&gt; [7.99022 9.56921 ‚Ä¶ 19.1564 8.96219; 8.7122 10.678 ‚Ä¶ 26.5011 ‚Ä¶</code></pre><pre><code class="language-julia">figure(figsize=(10, 8.5))

subplot(3, 3, 1)
title(&quot;v [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:v]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 2)
title(&quot;vr [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:vr_cylinder] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=-20.,vmax=20.)
colorbar()


subplot(3, 3, 3)
title(&quot;vœï [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:vœï_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 4)
title(&quot;œÉz [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉz] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 5)
title(&quot;œÉr [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉr_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 6)
title(&quot;œÉœï [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉœï_cylinder] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 7)
title(&quot;œÉ [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉ]) , cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()



subplot(3, 3, 8)
title(&quot;œÉx [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉx]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar()


subplot(3, 3, 9)
title(&quot;œÉy [km/s]&quot;)
imshow( permutedims(proj_z.maps_lmax[:œÉy] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
colorbar();</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_76_0.png" alt="png"/></p><h2 id="Remap-a-Projected-Data-onto-a-Coarser-Grid-1"><a class="docs-heading-anchor" href="#Remap-a-Projected-Data-onto-a-Coarser-Grid-1">Remap a Projected Data onto a Coarser Grid</a><a class="docs-heading-anchor-permalink" href="#Remap-a-Projected-Data-onto-a-Coarser-Grid-1" title="Permalink"></a></h2><p>Pass the object with the projected data to the function <code>remap</code> and the level of the coarser grid:</p><pre><code class="language-julia">proj_zlmax = remap(proj_z, 6, weighting=:mass);</code></pre><pre><code class="language-none">remap from:
level 10 =&gt; 6
cellsize 46.88 [pc] =&gt; 750.0 [pc]
pixels (428, 428) =&gt; (27, 27)</code></pre><pre><code class="language-julia">figure(figsize=(10, 8.5))

subplot(3, 3, 1)
title(&quot;v [km/s]&quot;)
imshow( permutedims(proj_zlmax.maps_lmax[:v]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()


subplot(3, 3, 2)
title(&quot;vr [km/s]&quot;)
imshow( permutedims(proj_zlmax.maps_lmax[:vr_cylinder] ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent, vmin=-20.,vmax=20.)
colorbar()


subplot(3, 3, 3)
title(&quot;vœï [km/s]&quot;)
imshow( permutedims(proj_zlmax.maps_lmax[:vœï_cylinder]  ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()



subplot(3, 3, 4)
title(&quot;log10(œÉz) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉz]) ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()



subplot(3, 3, 5)
title(&quot;log10(œÉr) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉr_cylinder]  )), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()


subplot(3, 3, 6)
title(&quot;log10(œÉœï) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉœï_cylinder] )), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()



subplot(3, 3, 7)
title(&quot;log10(œÉ) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉ]) ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()



subplot(3, 3, 8)
title(&quot;log10(œÉx) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉx]  )), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar()


subplot(3, 3, 9)
title(&quot;log10(œÉy) [km/s]&quot;)
imshow( log10.(permutedims(proj_zlmax.maps_lmax[:œÉy] )), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_zlmax.cextent)
colorbar();</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_80_0.png" alt="png"/></p><h2 id="Projection-of-Thermal-Data-1"><a class="docs-heading-anchor" href="#Projection-of-Thermal-Data-1">Projection of Thermal Data</a><a class="docs-heading-anchor-permalink" href="#Projection-of-Thermal-Data-1" title="Permalink"></a></h2><p>The the sound speed is calculated from the loaded adiabatic index (from the hydro files):</p><pre><code class="language-julia">proj_z = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.3, 0.6], yrange=[0.3, 0.6])
proj_x = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.3, 0.6], yrange=[0.3, 0.6], direction=:x);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T22:54:00.33

domain:
xmin::xmax: 0.3 :: 0.6  	==&gt; 14.4 [kpc] :: 28.8 [kpc]
ymin::ymax: 0.3 :: 0.6  	==&gt; 14.4 [kpc] :: 28.8 [kpc]
zmin::zmax: 0.45 :: 0.55  	==&gt; 21.6 [kpc] :: 26.4 [kpc]

Selected var(s)=(:cs, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:58


 [Mera]: 2020-02-18T22:54:58.629

domain:
xmin::xmax: 0.3 :: 0.6  	==&gt; 14.4 [kpc] :: 28.8 [kpc]
ymin::ymax: 0.3 :: 0.6  	==&gt; 14.4 [kpc] :: 28.8 [kpc]
zmin::zmax: 0.45 :: 0.55  	==&gt; 21.6 [kpc] :: 26.4 [kpc]

Selected var(s)=(:cs, :sd)



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:00:55</code></pre><pre><code class="language-julia">figure(figsize=(10, 3.5))

subplot(1, 2, 1)
im = imshow( log10.(permutedims(proj_z.maps[:cs])   ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_z.cextent)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(c_s) \ [km \ s^{-1}]}&quot;)


subplot(1, 2, 2)
im = imshow( log10.(permutedims(proj_x.maps[:cs]) ), cmap=cmap2, origin=&quot;lower&quot;, extent=proj_x.cextent)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(c_s) \ [km \ s^{-1}]}&quot;,orientation=&quot;horizontal&quot;, pad=0.2);
</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_84_0.png" alt="png"/></p><p>Change the adiabatic index in the field <code>gas.info.gamma</code> to use a different value in the projection calculation.</p><h2 id="Projection-of-Masked-Data-1"><a class="docs-heading-anchor" href="#Projection-of-Masked-Data-1">Projection of Masked Data</a><a class="docs-heading-anchor-permalink" href="#Projection-of-Masked-Data-1" title="Permalink"></a></h2><p>Mask higher densities by creating a Bool-array where the lower density cells correspond to false entries:</p><pre><code class="language-julia">density = 4e-3 / gas.scale.Msol_pc3
mask = map(row-&gt;row.rho &lt; density, gas.data);</code></pre><p>Pass the mask to the projection function:</p><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask)
proj_x = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask, direction=:x);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:04:58.755

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.45 :: 0.55  	==&gt; 21.6 [kpc] :: 26.4 [kpc]

Selected var(s)=(:sd,)

:mask provided by function



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:35


 [Mera]: 2020-02-18T23:06:34.69

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.45 :: 0.55  	==&gt; 21.6 [kpc] :: 26.4 [kpc]

Selected var(s)=(:sd,)

:mask provided by function



 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| Time: 0:01:34</code></pre><pre><code class="language-julia">figure(figsize=(10, 3.5))
subplot(1,2,1)
im = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;)

subplot(1,2,2)
im = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;,orientation=&quot;horizontal&quot;, pad=0.2);</code></pre><p><img src="../06_hydro_Projection_files/06_hydro_Projection_91_0.png" alt="png"/></p><pre><code class="language-julia"></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../05_multi_Masking_Filtering/">¬´ 5-Mask/Filter/Meta</a><a class="docs-footer-nextpage" href="../06_particles_Projection/">Particles ¬ª</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 16 September 2022 19:35">Friday 16 September 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
