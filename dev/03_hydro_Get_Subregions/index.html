<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hydro Â· Mera.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Mera.jl logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../00_multi_FirstSteps/">First Steps</a></li><li><span class="tocitem">1-Data Inspection</span><ul><li><a class="tocitem" href="../01_hydro_First_Inspection/">Hydro</a></li><li><a class="tocitem" href="../01_particles_First_Inspection/">Particles</a></li><li><a class="tocitem" href="../01_clumps_First_Inspection/">Clumps</a></li></ul></li><li><span class="tocitem">2-Load by Selection</span><ul><li><a class="tocitem" href="../02_hydro_Load_Selections/">Hydro</a></li><li><a class="tocitem" href="../02_particles_Load_Selections/">Particles</a></li><li><a class="tocitem" href="../02_clumps_Load_Selections/">Clumps</a></li></ul></li><li><span class="tocitem">3-Get Subregions</span><ul><li class="is-active"><a class="tocitem" href>Hydro</a><ul class="internal"><li><a class="tocitem" href="#Load-the-Data-1"><span>Load the Data</span></a></li><li><a class="tocitem" href="#Cuboid-Region-1"><span>Cuboid Region</span></a></li><li><a class="tocitem" href="#Cylindrical-Region-1"><span>Cylindrical Region</span></a></li><li><a class="tocitem" href="#Spherical-Region-1"><span>Spherical Region</span></a></li><li><a class="tocitem" href="#Combined/Nested/Shell-Sub-Regions-1"><span>Combined/Nested/Shell Sub-Regions</span></a></li><li><a class="tocitem" href="#Cylindrical-Shell-1"><span>Cylindrical Shell</span></a></li><li><a class="tocitem" href="#Spherical-Shell-1"><span>Spherical Shell</span></a></li></ul></li><li><a class="tocitem" href="../03_particles_Get_Subregions/">Particles</a></li><li><a class="tocitem" href="../03_clumps_Get_Subregions/">Clumps</a></li></ul></li><li><a class="tocitem" href="../04_multi_Basic_Calculations/">4-Basic Calculations</a></li><li><a class="tocitem" href="../05_multi_Masking_Filtering/">5-Mask/Filter/Meta</a></li><li><span class="tocitem">6-Projection</span><ul><li><a class="tocitem" href="../06_hydro_Projection/">Hydro</a></li><li><a class="tocitem" href="../06_particles_Projection/">Particles</a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">3-Get Subregions</a></li><li class="is-active"><a href>Hydro</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Hydro</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ManuelBehrendt/Mera.jl/blob/master/docs/src/03_hydro_Get_Subregions.md" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id=".-Hydro:-Get-Sub-Regions-of-The-Loaded-Data-1"><a class="docs-heading-anchor" href="#.-Hydro:-Get-Sub-Regions-of-The-Loaded-Data-1">3. Hydro: Get Sub-Regions of The Loaded Data</a><a class="docs-heading-anchor-permalink" href="#.-Hydro:-Get-Sub-Regions-of-The-Loaded-Data-1" title="Permalink"></a></h1><h2 id="Load-the-Data-1"><a class="docs-heading-anchor" href="#Load-the-Data-1">Load the Data</a><a class="docs-heading-anchor-permalink" href="#Load-the-Data-1" title="Permalink"></a></h2><pre><code class="language-julia">using Mera, PyPlot
using ColorSchemes
cmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php

info = getinfo(400, &quot;../../testing/simulations/manu_sim_sf_L14&quot;)
gas  = gethydro(info, :rho, lmax=10, smallr=1e-5);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:23:22.753

Code: RAMSES
output [400] summary:
mtime: 2018-09-05T09:51:55.041
ctime: 2019-11-01T17:35:21.051
 =======================================================
simulation time: 594.98 [Myr]
boxlen: 48.0 [kpc]
ncpu: 2048
ndim: 3
-------------------------------------------------------
amr:           true
level(s): 6 - 14 --&gt; cellsize(s): 750.0 [pc] - 2.93 [pc]
-------------------------------------------------------
hydro:         true
hydro-variables:  7  --&gt; (:rho, :vx, :vy, :vz, :p, :var6, :var7)
hydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)
Î³: 1.6667
-------------------------------------------------------
gravity:       true
gravity-variables: (:epot, :ax, :ay, :az)
-------------------------------------------------------
particles:     true
- Npart:    5.091500e+05
- Nstars:   5.066030e+05
- Ndm:      2.547000e+03
particle variables: (:vx, :vy, :vz, :mass, :birth)
-------------------------------------------------------
clumps:        true
clump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance)
-------------------------------------------------------
namelist-file: false
timer-file:       false
compilation-file: true
makefile:         true
patchfile:        true
 =======================================================

 [Mera]: Get hydro data: 2020-02-18T23:23:32.417

Key vars=(:level, :cx, :cy, :cz)
Using var(s)=(1,) = (:rho,)

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Reading data...


 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:02:49


Memory used for data table :186.1558656692505 MB
-------------------------------------------------------</code></pre><h2 id="Cuboid-Region-1"><a class="docs-heading-anchor" href="#Cuboid-Region-1">Cuboid Region</a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region-1" title="Permalink"></a></h2><h3 id="Create-projections-of-the-full-box:-1"><a class="docs-heading-anchor" href="#Create-projections-of-the-full-box:-1">Create projections of the full box:</a><a class="docs-heading-anchor-permalink" href="#Create-projections-of-the-full-box:-1" title="Permalink"></a></h3><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:03</code></pre><p>The generated objects include, e.g. the extent of the processed domain, that can be used to declare the specific range of the plots, while the field <code>cextent</code> gives the extent related to a given center (default: [0.,0.,0.]).</p><pre><code class="language-julia">propertynames(proj_z)</code></pre><pre><code class="language-none">(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :boxlen, :smallr, :smallc, :scale, :info)</code></pre><h4 id="Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1"><a class="docs-heading-anchor" href="#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1">Cuboid Region: The red lines show the region that we want to cutout as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext = L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;

subplot(1,3,1)
im = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_9_0.png" alt="png"/></p><h4 id="Cuboid-Region:-Cutout-the-data-assigned-to-the-object-gas-1"><a class="docs-heading-anchor" href="#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-gas-1">Cuboid Region: Cutout the data assigned to the object <code>gas</code></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-gas-1" title="Permalink"></a></h4><p>Note: The selected regions can be given relative to a user given center or to the box corner [0., 0., 0.] by default. The user can choose between standard notation <a href="default">0:1</a> or physical length-units, defined in e.g. info.scale :</p><pre><code class="language-julia">gas_subregion = subregion( gas, :cuboid,
                            xrange=[-4., 0.],
                            yrange=[-15., 15.],
                            zrange=[-2., 2.],
                            center=[:boxcenter],
                            range_unit=:kpc);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:06.861

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.4166667 :: 0.5  	==&gt; 20.0 [kpc] :: 24.0 [kpc]
ymin::ymax: 0.1875 :: 0.8125  	==&gt; 9.0 [kpc] :: 39.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Memory used for data table :47.87415790557861 MB
-------------------------------------------------------</code></pre><p>The function <code>subregion</code> creates a new object with the same type as the object created by the function <code>gethydro</code> :</p><pre><code class="language-julia">typeof(gas_subregion)</code></pre><pre><code class="language-none">HydroDataType</code></pre><h4 id="Cuboid-Region:-Projections-of-the-sub-region.-1"><a class="docs-heading-anchor" href="#Cuboid-Region:-Projections-of-the-sub-region.-1">Cuboid Region: Projections of the sub-region.</a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Projections-of-the-sub-region.-1" title="Permalink"></a></h4><p>The coordinates center is the center of the box:</p><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext = L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_17_0.png" alt="png"/></p><h4 id="Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"><a class="docs-heading-anchor" href="#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1">Cuboid Region: Get the data outside of the selected region (inverse selection):</a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1" title="Permalink"></a></h4><pre><code class="language-julia">gas_subregion = subregion( gas, :cuboid,
                            xrange=[-4., 0.],
                            yrange=[-15., 15.],
                            zrange=[-2., 2.],
                            center=[:boxcenter],
                            range_unit=:kpc,
                            inverse=true);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:09.597

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.4166667 :: 0.5  	==&gt; 20.0 [kpc] :: 24.0 [kpc]
ymin::ymax: 0.1875 :: 0.8125  	==&gt; 9.0 [kpc] :: 39.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Memory used for data table :138.2824068069458 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:01</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext = L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_21_0.png" alt="png"/></p><h2 id="Cylindrical-Region-1"><a class="docs-heading-anchor" href="#Cylindrical-Region-1">Cylindrical Region</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region-1" title="Permalink"></a></h2><h4 id="Create-projections-of-the-full-box:-2"><a class="docs-heading-anchor" href="#Create-projections-of-the-full-box:-2">Create projections of the full box:</a><a class="docs-heading-anchor-permalink" href="#Create-projections-of-the-full-box:-2" title="Permalink"></a></h4><pre><code class="language-julia">proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:01
 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:01</code></pre><h4 id="Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1"><a class="docs-heading-anchor" href="#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1">Cylindrical Region: The red lines show the region that we want to cutout as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext = L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_25_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-gas-1"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-gas-1">Cylindrical Region: Cutout the data assigned to the object <code>gas</code></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-gas-1" title="Permalink"></a></h4><p>Select the ranges of the cylinder in the unit &quot;kpc&quot;, relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.</p><pre><code class="language-julia">gas_subregion = subregion(  gas, :cylinder,
                            radius=3.,
                            height=2.,
                            range_unit=:kpc,
                            center=[13., :bc, :bc]); # direction=:z, by default</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:24.715

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2083333 :: 0.3333333  	==&gt; 10.0 [kpc] :: 16.0 [kpc]
ymin::ymax: 0.4375 :: 0.5625  	==&gt; 21.0 [kpc] :: 27.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Radius: 3.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :9.945767402648926 MB
-------------------------------------------------------</code></pre><h4 id="Cylindrical-Region:-Projections-of-the-sub-region.-1"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Projections-of-the-sub-region.-1">Cylindrical Region: Projections of the sub-region.</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Projections-of-the-sub-region.-1" title="Permalink"></a></h4><p>The coordinates center is the center of the box:</p><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext = L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)

xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)

xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_30_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Projections-of-the-sub-region-rekated-ti-a-given-data-center:-1"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Projections-of-the-sub-region-rekated-ti-a-given-data-center:-1">Cylindrical Region: Projections of the sub-region rekated ti a given data center:</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Projections-of-the-sub-region-rekated-ti-a-given-data-center:-1" title="Permalink"></a></h4><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:z, center=[13., 24.,24.], range_unit=:kpc, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:y, center=[13., 24.,24.], range_unit=:kpc, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:x, center=[13., 24.,24.], range_unit=:kpc, verbose=false);</code></pre><h4 id="The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:-1"><a class="docs-heading-anchor" href="#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:-1">The ranges of the plots are now adapted to the given data center:</a><a class="docs-heading-anchor-permalink" href="#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 3. .* sin.(theta), 3 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)

xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)

xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_34_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1">Cylindrical Region: Get the data outside of the selected region (inverse selection):</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1" title="Permalink"></a></h4><pre><code class="language-julia">gas_subregion = subregion(  gas, :cylinder,
                            radius=3.,
                            height=2.,
                            range_unit=:kpc,
                            center=[13.,:bc,:bc],
                            inverse=true); # direction=:z, by default</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:29.071

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2083333 :: 0.3333333  	==&gt; 10.0 [kpc] :: 16.0 [kpc]
ymin::ymax: 0.4375 :: 0.5625  	==&gt; 21.0 [kpc] :: 27.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Radius: 3.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :176.2107973098755 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_38_0.png" alt="png"/></p><h2 id="Spherical-Region-1"><a class="docs-heading-anchor" href="#Spherical-Region-1">Spherical Region</a><a class="docs-heading-anchor-permalink" href="#Spherical-Region-1" title="Permalink"></a></h2><h3 id="Create-projections-of-the-full-box:-3"><a class="docs-heading-anchor" href="#Create-projections-of-the-full-box:-3">Create projections of the full box:</a><a class="docs-heading-anchor-permalink" href="#Create-projections-of-the-full-box:-3" title="Permalink"></a></h3><pre><code class="language-julia">proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:01</code></pre><h4 id="Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1"><a class="docs-heading-anchor" href="#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1">Spherical Region: The red lines show the region that we want to cutout as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_42_0.png" alt="png"/></p><h4 id="Spherical-Region:-Cutout-the-data-assigned-to-the-object-gas-1"><a class="docs-heading-anchor" href="#Spherical-Region:-Cutout-the-data-assigned-to-the-object-gas-1">Spherical Region: Cutout the data assigned to the object <code>gas</code></a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Cutout-the-data-assigned-to-the-object-gas-1" title="Permalink"></a></h4><p>Select the radius of the sphere in the unit &quot;kpc&quot;, relative to the given center [13., 24., 24.]:</p><pre><code class="language-julia">gas_subregion = subregion(  gas, :sphere,
                            radius=10.,
                            range_unit=:kpc,
                            center=[13.,:bc,:bc]);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:42.261

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.0625 :: 0.4791667  	==&gt; 3.0 [kpc] :: 23.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Radius: 10.0 [kpc]
Memory used for data table :57.03980731964111 MB
-------------------------------------------------------</code></pre><h4 id="Spherical-Region:-Projections-of-the-sub-region.-1"><a class="docs-heading-anchor" href="#Spherical-Region:-Projections-of-the-sub-region.-1">Spherical Region: Projections of the sub-region.</a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Projections-of-the-sub-region.-1" title="Permalink"></a></h4><p>The coordinates center is the center of the box:</p><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_47_0.png" alt="png"/></p><h4 id="Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"><a class="docs-heading-anchor" href="#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1">Spherical Region: Get the data outside of the selected region (inverse selection):</a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1" title="Permalink"></a></h4><pre><code class="language-julia">gas_subregion = subregion(  gas, :sphere,
                            radius=10.,
                            range_unit=:kpc,
                            center=[13.,:bc,:bc],
                            inverse=true);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:27:46.433

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.0625 :: 0.4791667  	==&gt; 3.0 [kpc] :: 23.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Radius: 10.0 [kpc]
Memory used for data table :129.1167573928833 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_51_0.png" alt="png"/></p><h2 id="Combined/Nested/Shell-Sub-Regions-1"><a class="docs-heading-anchor" href="#Combined/Nested/Shell-Sub-Regions-1">Combined/Nested/Shell Sub-Regions</a><a class="docs-heading-anchor-permalink" href="#Combined/Nested/Shell-Sub-Regions-1" title="Permalink"></a></h2><h4 id="The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-or-nested-ranges)-1"><a class="docs-heading-anchor" href="#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-or-nested-ranges)-1">The sub-region functions can be used in any combination with each other! (Combined with overlapping or nested ranges)</a><a class="docs-heading-anchor-permalink" href="#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-or-nested-ranges)-1" title="Permalink"></a></h4><p>One Example:</p><pre><code class="language-julia">comb_region = subregion(gas, :cuboid, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc, verbose=false)
comb_region2 = subregion(comb_region, :sphere, radius=12., center=[40.,24.,24.], range_unit=:kpc, inverse=true, verbose=false)
comb_region3 = subregion(comb_region2, :sphere, radius=12., center=[8.,24.,24.], range_unit=:kpc, inverse=true, verbose=false);
comb_region4 = subregion(comb_region3, :sphere, radius=12., center=[24.,5.,24.], range_unit=:kpc, inverse=true, verbose=false);
comb_region5 = subregion(comb_region4, :sphere, radius=12., center=[24.,43.,24.], range_unit=:kpc, inverse=true, verbose=false);</code></pre><pre><code class="language-julia">proj_z = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_57_0.png" alt="png"/></p><h2 id="Cylindrical-Shell-1"><a class="docs-heading-anchor" href="#Cylindrical-Shell-1">Cylindrical Shell</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell-1" title="Permalink"></a></h2><h4 id="Create-projections-of-the-full-box:-4"><a class="docs-heading-anchor" href="#Create-projections-of-the-full-box:-4">Create projections of the full box:</a><a class="docs-heading-anchor-permalink" href="#Create-projections-of-the-full-box:-4" title="Permalink"></a></h4><pre><code class="language-julia">proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:02</code></pre><h4 id="Cylindrical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1"><a class="docs-heading-anchor" href="#Cylindrical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1">Cylindrical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_61_0.png" alt="png"/></p><h4 id="Cylindrical-Shell:-1"><a class="docs-heading-anchor" href="#Cylindrical-Shell:-1">Cylindrical Shell:</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell:-1" title="Permalink"></a></h4><p>Pass the height of the cylinder and the inner/outer radius of the shell in the unit &quot;kpc&quot;, relative to the box center [24., 24., 24.]:</p><pre><code class="language-julia">gas_subregion = shellregion( gas, :cylinder,
                            radius=[5., 10.],
                            height=2.,
                            range_unit=:kpc,
                            center=[:boxcenter]);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:28:03.834

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :53.790066719055176 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, orientation=&quot;horizontal&quot;, label=labeltext, pad=0.2);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_65_0.png" alt="png"/></p><h4 id="Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):-1"><a class="docs-heading-anchor" href="#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):-1">Cylindrical Shell: Get the data outside of the selected shell (inverse selection):</a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):-1" title="Permalink"></a></h4><pre><code class="language-julia">gas_subregion = shellregion(gas, :cylinder,
                            radius=[5., 10.],
                            height=2.,
                            range_unit=:kpc,
                            center=[:boxcenter],
                            inverse=true);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:28:06.945

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :132.36649799346924 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_69_0.png" alt="png"/></p><h2 id="Spherical-Shell-1"><a class="docs-heading-anchor" href="#Spherical-Shell-1">Spherical Shell</a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell-1" title="Permalink"></a></h2><h4 id="Create-projections-of-the-full-box:-5"><a class="docs-heading-anchor" href="#Create-projections-of-the-full-box:-5">Create projections of the full box:</a><a class="docs-heading-anchor-permalink" href="#Create-projections-of-the-full-box:-5" title="Permalink"></a></h4><pre><code class="language-julia">proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-none"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:02
 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:02
 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:01</code></pre><h4 id="Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1"><a class="docs-heading-anchor" href="#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1">Spherical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:-1" title="Permalink"></a></h4><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;,ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_73_0.png" alt="png"/></p><h4 id="Spherical-Shell:-1"><a class="docs-heading-anchor" href="#Spherical-Shell:-1">Spherical Shell:</a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:-1" title="Permalink"></a></h4><p>Select the inner and outer radius of the spherical shell in unit &quot;kpc&quot;, relative to the box center [24., 24., 24.]:</p><pre><code class="language-julia">gas_subregion = shellregion(gas, :sphere,
                            radius=[5., 10.],
                            range_unit=:kpc,
                            center=[24.,24.,24.]);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:28:21.357

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Memory used for data table :56.55305194854736 MB
-------------------------------------------------------</code></pre><h4 id="Spherical-Shell:-Projections-of-the-shell-region.-1"><a class="docs-heading-anchor" href="#Spherical-Shell:-Projections-of-the-shell-region.-1">Spherical Shell: Projections of the shell-region.</a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:-Projections-of-the-shell-region.-1" title="Permalink"></a></h4><p>The coordinates center is the center of the box:</p><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_78_0.png" alt="png"/></p><h4 id="Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):-1"><a class="docs-heading-anchor" href="#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):-1">Spherical Shell: Get the data outside of the selected shell-region (inverse selection):</a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):-1" title="Permalink"></a></h4><pre><code class="language-julia">gas_subregion = shellregion(gas, :sphere,
                            radius=[5., 10.],
                            range_unit=:kpc,
                            center=[:boxcenter],
                            inverse=true);</code></pre><pre><code class="language-none"> [Mera]: 2020-02-18T23:28:25.267

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Memory used for data table :129.60351276397705 MB
-------------------------------------------------------</code></pre><pre><code class="language-julia">proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);
proj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);
proj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);</code></pre><pre><code class="language-julia">figure(figsize=(15.5, 3.5))
labeltext=L&quot;\mathrm{log10(\Sigma) \ [M_{\odot} pc^{-2}]}&quot;
theta = LinRange(-pi, pi, 100)

subplot(1,3,1)
im = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=&quot;lower&quot;, extent=proj_z.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,2)
im = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=&quot;lower&quot;, extent=proj_y.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext)

subplot(1,3,3)
im = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=&quot;lower&quot;, extent=proj_x.cextent, vmin=0, vmax=3)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)
cb = colorbar(im, label=labeltext);</code></pre><p><img src="../03_hydro_Get_Subregions_files/03_hydro_Get_Subregions_82_0.png" alt="png"/></p><pre><code class="language-julia"></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../02_clumps_Load_Selections/">Â« Clumps</a><a class="docs-footer-nextpage" href="../03_particles_Get_Subregions/">Particles Â»</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 3 October 2022 11:59">Monday 3 October 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
