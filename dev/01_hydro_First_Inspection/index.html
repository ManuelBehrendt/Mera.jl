<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hydro Â· Mera.jl</title><meta name="title" content="Hydro Â· Mera.jl"/><meta property="og:title" content="Hydro Â· Mera.jl"/><meta property="twitter:title" content="Hydro Â· Mera.jl"/><meta name="description" content="Documentation for Mera.jl."/><meta property="og:description" content="Documentation for Mera.jl."/><meta property="twitter:description" content="Documentation for Mera.jl."/><meta property="og:url" content="https://manuelbehrendt.github.io/Mera.jl/01_hydro_First_Inspection/"/><meta property="twitter:url" content="https://manuelbehrendt.github.io/Mera.jl/01_hydro_First_Inspection/"/><link rel="canonical" href="https://manuelbehrendt.github.io/Mera.jl/01_hydro_First_Inspection/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/><script src="../assets/custom.js"></script><script src="../assets/music_player.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Mera.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../00_multi_FirstSteps/">Getting Started</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Core Workflows</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Data Inspection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Hydro</a><ul class="internal"><li><a class="tocitem" href="#Learning-Objectives"><span>Learning Objectives</span></a></li><li><a class="tocitem" href="#Quick-Reference:-Essential-Hydro-Functions"><span>Quick Reference: Essential Hydro Functions</span></a></li><li><a class="tocitem" href="#Getting-Started"><span>Getting Started</span></a></li><li><a class="tocitem" href="#Variable-Names-and-Descriptors"><span>Variable Names and Descriptors</span></a></li><li><a class="tocitem" href="#Loading-Hydro-Data"><span>Loading Hydro Data</span></a></li><li><a class="tocitem" href="#Understanding-Data-Types"><span>Understanding Data Types</span></a></li><li><a class="tocitem" href="#Data-Organization-and-Structure"><span>Data Organization and Structure</span></a></li><li><a class="tocitem" href="#Data-Analysis-and-Exploration"><span>Data Analysis and Exploration</span></a></li><li><a class="tocitem" href="#Data-Structure-Deep-Dive"><span>Data Structure Deep Dive</span></a></li><li><a class="tocitem" href="#Summary-and-Next-Steps"><span>Summary and Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../01_particles_First_Inspection/">Particles</a></li><li><a class="tocitem" href="../01_clumps_First_Inspection/">Clumps</a></li><li><a class="tocitem" href="../api/data_inspection/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Load by Selection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../02_hydro_Load_Selections/">Hydro</a></li><li><a class="tocitem" href="../02_particles_Load_Selections/">Particles</a></li><li><a class="tocitem" href="../02_clumps_Load_Selections/">Clumps</a></li><li><a class="tocitem" href="../api/data_loading/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Get Subregions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../03_hydro_Get_Subregions/">Hydro</a></li><li><a class="tocitem" href="../03_particles_Get_Subregions/">Particles</a></li><li><a class="tocitem" href="../03_clumps_Get_Subregions/">Clumps</a></li><li><a class="tocitem" href="../api/subregions/">API Reference</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Analysis &amp; Calculations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Basic Calculations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../04_multi_Basic_Calculations/">Tutorial</a></li><li><a class="tocitem" href="../api/calculations/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Mask/Filter/Meta</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../05_multi_Masking_Filtering/">Tutorial</a></li><li><a class="tocitem" href="../api/masking_filtering/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Projection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../06_hydro_Projection/">Hydro</a></li><li><a class="tocitem" href="../06_particles_Projection/">Particles</a></li><li><a class="tocitem" href="../api/projections/">API Reference</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Data &amp; Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">MERA-Files</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../07_multi_Mera_Files/">Mera-Files</a></li><li><a class="tocitem" href="../07_1_multi_Mera_Files_Converter/">Converter</a></li><li><a class="tocitem" href="../api/mera_files/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Volume Rendering</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../paraview/paraview_intro/">Intro</a></li><li><a class="tocitem" href="../paraview/08_hydro_VTK_export/">Hydro</a></li><li><a class="tocitem" href="../paraview/08_particles_VTK_export/">Particles</a></li><li><a class="tocitem" href="../api/volume_rendering/">API Reference</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Advanced Features</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Multi-Threading</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../multi-threading/multi-threading_intro/">Tutorial</a></li><li><a class="tocitem" href="../api/multithreading/">API Reference</a></li></ul></li><li><a class="tocitem" href="../advanced_features/testing_guide/">Testing Framework</a></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">Notifications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../notifications/">Overview</a></li><li><a class="tocitem" href="../notifications/01_quick_start/">Quick Start</a></li><li><a class="tocitem" href="../notifications/02_setup/">Setup Guide</a></li><li><a class="tocitem" href="../notifications/bell/">Bell (Local Audio)</a></li><li><a class="tocitem" href="../notifications/email/">Email</a></li><li><a class="tocitem" href="../notifications/zulip/">Zulip (Team Chat)</a></li><li><a class="tocitem" href="../notifications/zulip_templates/">Zulip Templates</a></li><li><a class="tocitem" href="../notifications/03_attachments/">File Attachments</a></li><li><a class="tocitem" href="../notifications/04_output_capture/">Output Capture</a></li><li><a class="tocitem" href="../notifications/05_advanced/">Advanced Features</a></li><li><a class="tocitem" href="../notifications/06_examples/">Examples</a></li><li><a class="tocitem" href="../notifications/07_troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../api/notifications/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-4" type="checkbox"/><label class="tocitem" for="menuitem-6-4"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../benchmarks/IO/IOperformance/">Server IO</a></li><li><a class="tocitem" href="../benchmarks/RAMSES_reading/ramses_reading/">Parallel RAMSES-Files Reading</a></li><li><a class="tocitem" href="../benchmarks/JLD2_reading/Mera_files_reading/">Mera-Files Reading</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Julia Quick Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../quickreference/01_getting_started/">Getting Started</a></li><li><a class="tocitem" href="../quickreference/02_migrators/">From Other Languages</a></li><li><a class="tocitem" href="../quickreference/03_packages/">Essential Packages</a></li><li><a class="tocitem" href="../quickreference/04_mera_patterns/">Julia Fundamentals</a></li><li><a class="tocitem" href="../quickreference/05_performance/">Performance &amp; Debugging</a></li><li><a class="tocitem" href="../quickreference/06_resources/">Resources &amp; Community</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Examples &amp; Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../Miscellaneous/">Miscellaneous</a></li><li><a class="tocitem" href="../api/">Complete API Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Core Workflows</a></li><li><a class="is-disabled">Data Inspection</a></li><li class="is-active"><a href>Hydro</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Hydro</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ManuelBehrendt/Mera.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Hydro-Data:-First-Inspection"><a class="docs-heading-anchor" href="#Hydro-Data:-First-Inspection">Hydro Data: First Inspection</a><a id="Hydro-Data:-First-Inspection-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Data:-First-Inspection" title="Permalink"></a></h1><p>This notebook provides a comprehensive introduction to loading and analyzing hydrodynamic simulation data using Mera.jl. You&#39;ll learn the fundamentals of working with RAMSES hydro data and AMR (Adaptive Mesh Refinement) structures.</p><h2 id="Learning-Objectives"><a class="docs-heading-anchor" href="#Learning-Objectives">Learning Objectives</a><a id="Learning-Objectives-1"></a><a class="docs-heading-anchor-permalink" href="#Learning-Objectives" title="Permalink"></a></h2><ul><li>Load and inspect hydrodynamic simulation data</li><li>Understand AMR (Adaptive Mesh Refinement) grid structures</li><li>Analyze basic properties and statistics of hydro data</li><li>Handle different variable types and unit conversions</li><li>Work with IndexedTables data structures</li><li>Apply memory management best practices</li></ul><h2 id="Quick-Reference:-Essential-Hydro-Functions"><a class="docs-heading-anchor" href="#Quick-Reference:-Essential-Hydro-Functions">Quick Reference: Essential Hydro Functions</a><a id="Quick-Reference:-Essential-Hydro-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Reference:-Essential-Hydro-Functions" title="Permalink"></a></h2><p>This section provides a comprehensive reference of key Mera.jl functions for hydro data analysis.</p><h3 id="Data-Loading-Functions"><a class="docs-heading-anchor" href="#Data-Loading-Functions">Data Loading Functions</a><a id="Data-Loading-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Loading-Functions" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Load simulation metadata with hydro information
info = getinfo(output_number, &quot;path/to/simulation&quot;)
info = getinfo(300, &quot;/path/to/sim&quot;)                    # Specific output
info = getinfo(&quot;/path/to/sim&quot;)                         # First output

# Load hydro data - basic usage
gas = gethydro(info)                                   # Load all variables, all levels
</code></pre><h3 id="Data-Exploration-Functions"><a class="docs-heading-anchor" href="#Data-Exploration-Functions">Data Exploration Functions</a><a id="Data-Exploration-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Exploration-Functions" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze data structure and properties
overview_amr = amroverview(gas)                        # AMR grid structure analysis
data_overview = dataoverview(gas)                     # Statistical overview of variables
usedmemory(gas)                                        # Memory usage analysis

# Explore object structure
viewfields(gas)                                        # View HydroDataType structure
viewfields(info.descriptor)                           # View descriptor properties
propertynames(gas)                                     # List all available fields</code></pre><h3 id="Variable-and-Descriptor-Management"><a class="docs-heading-anchor" href="#Variable-and-Descriptor-Management">Variable and Descriptor Management</a><a id="Variable-and-Descriptor-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-and-Descriptor-Management" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Access and modify variable descriptors
info.descriptor.hydro                                  # Current hydro variable names
info.descriptor.hydro[2] = :vel_x                     # Customize variable names
propertynames(info.descriptor)                        # All descriptor properties

# Access predefined variables (always available)
# :rho, :vx, :vy, :vz, :p, :var6, :var7, ...</code></pre><h3 id="IndexedTables-Operations"><a class="docs-heading-anchor" href="#IndexedTables-Operations">IndexedTables Operations</a><a id="IndexedTables-Operations-1"></a><a class="docs-heading-anchor-permalink" href="#IndexedTables-Operations" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Work with data tables
using Mera.IndexedTables

# Select specific columns
select(gas.data, (:level, :cx, :cy, :cz, :rho))      # View spatial coordinates + density
select(data_overview, (:level, :mass, :rho_min, :rho_max)) # Statistical summary (table from before)

# Extract column data
column(data_overview, :mass)                          # Extract mass column as array
column(data_overview, :mass) * info.scale.Msol       # Convert to solar masses

# Transform data in-place
transform(data_overview, :mass =&gt; :mass =&gt; value-&gt;value * info.scale.Msol)</code></pre><h3 id="Unit-Conversion"><a class="docs-heading-anchor" href="#Unit-Conversion">Unit Conversion</a><a id="Unit-Conversion-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Conversion" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Access scaling factors
scale = gas.scale                                      # Shortcut to scaling factors
constants = gas.info.constants                        # Physical constants
create
</code></pre><h3 id="Memory-Management"><a class="docs-heading-anchor" href="#Memory-Management">Memory Management</a><a id="Memory-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Management" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Monitor and optimize memory usage
usedmemory(gas)                                        # Check current memory usage
gas = nothing; GC.gc()                                # Clear variable and garbage collect
</code></pre><h3 id="Common-Analysis-Workflow"><a class="docs-heading-anchor" href="#Common-Analysis-Workflow">Common Analysis Workflow</a><a id="Common-Analysis-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Common-Analysis-Workflow" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Standard hydro data analysis workflow
info = getinfo(300, &quot;/path/to/simulation&quot;)            # Load simulation metadata
gas = gethydro(info)                                  # Load hydro data
usedmemory(gas)                                        # Check memory usage

# Analyze structure and properties
amr_overview = amroverview(gas)                        # AMR grid analysis
data_overview = dataoverview(gas)                     # Variable statistics
viewfields(gas)                                        # Explore data structure

# Convert units and extract specific data
scale = gas.scale                                      # Create scaling shortcut
density_gcm3 = select(gas.data, :rho) * scale.g_cm3   # Physical density
mass_dist = select(data_overview, (:level, :mass))    # Mass distribution by level</code></pre><h3 id="Data-Quality-and-Constraints"><a class="docs-heading-anchor" href="#Data-Quality-and-Constraints">Data Quality and Constraints</a><a id="Data-Quality-and-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Quality-and-Constraints" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Set physical constraints during loading
gas = gethydro(info, smallr=1e-11)                    # Minimum density floor
gas = gethydro(info, smallc=1e5)                      # Minimum sound speed

# Check data integrity
data_overview = dataoverview(gas)                     # Look for unrealistic values
select(data_overview, (:rho_min, :rho_max))          # Check density ranges</code></pre><h2 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h2><p>This tutorial section will walk you through practical examples of hydro data analysis. We&#39;ll start with basic setup and progress through increasingly sophisticated analysis techniques.</p><h3 id="Initial-Setup-and-Data-Loading"><a class="docs-heading-anchor" href="#Initial-Setup-and-Data-Loading">Initial Setup and Data Loading</a><a id="Initial-Setup-and-Data-Loading-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-Setup-and-Data-Loading" title="Permalink"></a></h3><p>We&#39;ll begin by loading simulation data and exploring its properties to understand:</p><ul><li>Basic simulation parameters and hydro configuration</li><li>Available hydrodynamic variables and their organization</li><li>File structure and data layout</li><li>AMR grid properties and refinement levels</li></ul><h3 id="Package-Import-and-Initial-Setup"><a class="docs-heading-anchor" href="#Package-Import-and-Initial-Setup">Package Import and Initial Setup</a><a id="Package-Import-and-Initial-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Import-and-Initial-Setup" title="Permalink"></a></h3><p>Let&#39;s start by importing Mera.jl and loading simulation information for output 300:</p><pre><code class="language-julia hljs">using Mera
info = getinfo(300, &quot;/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10&quot;);</code></pre><pre><code class="nohighlight hljs">[Mera]: 2025-08-14T14:11:39.130

Code: RAMSES
output [300] summary:
mtime: 2023-04-09T05:34:09
ctime: 2025-06-21T18:31:24.020
=======================================================
simulation time: 445.89 [Myr]
boxlen: 48.0 [kpc]
ncpu: 640
ndim: 3
-------------------------------------------------------
amr:           true
level(s): 6 - 10 --&gt; cellsize(s): 750.0 [pc] - 46.88 [pc]
-------------------------------------------------------
hydro:         true
hydro-variables:  7  --&gt; (:rho, :vx, :vy, :vz, :p, :var6, :var7)
hydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)
Î³: 1.6667
-------------------------------------------------------
gravity:       true
gravity-variables: (:epot, :ax, :ay, :az)
-------------------------------------------------------
particles:     true
- Nstars:   5.445150e+05
particle-variables: 7  --&gt; (:vx, :vy, :vz, :mass, :family, :tag, :birth)
particle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)
-------------------------------------------------------
rt:            false
clumps:           false
-------------------------------------------------------
namelist-file: (&quot;&amp;COOLING_PARAMS&quot;, &quot;&amp;SF_PARAMS&quot;, &quot;&amp;AMR_PARAMS&quot;, &quot;&amp;BOUNDARY_PARAMS&quot;, &quot;&amp;OUTPUT_PARAMS&quot;, &quot;&amp;POISSON_PARAMS&quot;, &quot;&amp;RUN_PARAMS&quot;, &quot;&amp;FEEDBACK_PARAMS&quot;, &quot;&amp;HYDRO_PARAMS&quot;, &quot;&amp;INIT_PARAMS&quot;, &quot;&amp;REFINE_PARAMS&quot;)
-------------------------------------------------------
timer-file:       true
compilation-file: false
makefile:         true
patchfile:        true
=======================================================
</code></pre><h3 id="Understanding-Hydro-Properties"><a class="docs-heading-anchor" href="#Understanding-Hydro-Properties">Understanding Hydro Properties</a><a id="Understanding-Hydro-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-Hydro-Properties" title="Permalink"></a></h3><p>The output above provides a comprehensive overview of the loaded hydro data properties:</p><ul><li><strong>Hydro files status</strong> - Confirms existence and accessibility of hydro data files</li><li><strong>Variable count</strong> - Shows the number of predefined and available hydro variables</li><li><strong>Variable names</strong> - Lists the variable names from the RAMSES descriptor file</li><li><strong>Adiabatic index</strong> - Displays the thermodynamic properties used in the simulation</li><li><strong>Data organization</strong> - Reveals how the hydro data is structured and stored</li></ul><h2 id="Variable-Names-and-Descriptors"><a class="docs-heading-anchor" href="#Variable-Names-and-Descriptors">Variable Names and Descriptors</a><a id="Variable-Names-and-Descriptors-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Names-and-Descriptors" title="Permalink"></a></h2><p><strong>Predefined Variable Names</strong>: Mera.jl recognizes standard hydro variable names such as <code>:rho</code>, <code>:vx</code>, <code>:vy</code>, <code>:vz</code>, <code>:p</code>, <code>:var6</code>, <code>:var7</code>, etc. These provide a consistent interface for accessing common hydrodynamic quantities across different simulations.</p><p><strong>Custom Variable Descriptors</strong>: In future versions, you will be able to use variable names directly from the hydro descriptor by setting <code>info.descriptor.usehydro = true</code>. Currently, you can customize variable names by modifying the descriptor array manually.</p><p>Let&#39;s examine the current hydro descriptor configuration:</p><pre><code class="language-julia hljs">info.descriptor.hydro</code></pre><pre><code class="nohighlight hljs">7-element Vector{Symbol}:
 :density
 :velocity_x
 :velocity_y
 :velocity_z
 :pressure
 :scalar_00
 :scalar_01</code></pre><h3 id="Customizing-Variable-Names"><a class="docs-heading-anchor" href="#Customizing-Variable-Names">Customizing Variable Names</a><a id="Customizing-Variable-Names-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-Variable-Names" title="Permalink"></a></h3><p>You can modify variable names in the descriptor to better match your simulation setup or personal preferences. For example, changing the second hydro variable to a more descriptive name:</p><pre><code class="language-julia hljs">info.descriptor.hydro[2] = :vel_x;</code></pre><pre><code class="language-julia hljs">info.descriptor.hydro</code></pre><pre><code class="nohighlight hljs">7-element Vector{Symbol}:
 :density
 :vel_x
 :velocity_y
 :velocity_z
 :pressure
 :scalar_00
 :scalar_01</code></pre><h3 id="Exploring-Descriptor-Properties"><a class="docs-heading-anchor" href="#Exploring-Descriptor-Properties">Exploring Descriptor Properties</a><a id="Exploring-Descriptor-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Exploring-Descriptor-Properties" title="Permalink"></a></h3><p>Let&#39;s examine the complete structure of the descriptor object to understand all available configuration options:</p><pre><code class="language-julia hljs">viewfields(info.descriptor)</code></pre><pre><code class="nohighlight hljs">
[Mera]: Descriptor overview
=================================
hversion	= 1
hydro	= [:density, :vel_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01]
htypes	= [&quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;]
usehydro	= false
hydrofile	= true
pversion	= 1
particles	= [:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time]
ptypes	= [&quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;i&quot;, &quot;i&quot;, &quot;b&quot;, &quot;b&quot;, &quot;d&quot;]
useparticles	= false
particlesfile	= true
gravity	= [:epot, :ax, :ay, :az]
usegravity	= false
gravityfile	= false
rtversion	= 0
rt	= Dict{Any, Any}()
rtPhotonGroups	= Dict{Any, Any}()
usert	= false
rtfile	= false
clumps	= Symbol[]
useclumps	= false
clumpsfile	= false
sinks	= Symbol[]
usesinks	= false
sinksfile	= false
</code></pre><p>For a simple list of all available descriptor fields:</p><pre><code class="language-julia hljs">propertynames(info.descriptor)</code></pre><pre><code class="nohighlight hljs">(:hversion, :hydro, :htypes, :usehydro, :hydrofile, :pversion, :particles, :ptypes, :useparticles, :particlesfile, :gravity, :usegravity, :gravityfile, :rtversion, :rt, :rtPhotonGroups, :usert, :rtfile, :clumps, :useclumps, :clumpsfile, :sinks, :usesinks, :sinksfile)</code></pre><h2 id="Loading-Hydro-Data"><a class="docs-heading-anchor" href="#Loading-Hydro-Data">Loading Hydro Data</a><a id="Loading-Hydro-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-Hydro-Data" title="Permalink"></a></h2><p>Now that we understand our simulation&#39;s structure and variable organization, let&#39;s load the actual hydrodynamic data. We&#39;ll use Mera&#39;s powerful data loading capabilities to read both the AMR grid structure and the hydrodynamic variables.</p><h3 id="Data-Loading-Overview"><a class="docs-heading-anchor" href="#Data-Loading-Overview">Data Loading Overview</a><a id="Data-Loading-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Loading-Overview" title="Permalink"></a></h3><p>The <code>gethydro()</code> function is the primary tool for loading hydrodynamic data from RAMSES simulations. It provides extensive options for:</p><ul><li><strong>Variable selection</strong> - Choose specific hydro quantities</li><li><strong>Spatial filtering</strong> - Focus on regions of interest</li><li><strong>AMR level control</strong> - Select refinement levels</li><li><strong>Physical constraints</strong> - Set minimum values (e.g., density floors)</li></ul><h3 id="Resetting-Simulation-Information"><a class="docs-heading-anchor" href="#Resetting-Simulation-Information">Resetting Simulation Information</a><a id="Resetting-Simulation-Information-1"></a><a class="docs-heading-anchor-permalink" href="#Resetting-Simulation-Information" title="Permalink"></a></h3><p>First, let&#39;s reload the simulation information to reset any changes we made to the descriptor:</p><pre><code class="language-julia hljs">info = getinfo(300, &quot;/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10&quot;, verbose=false); # here, used to overwrite the previous changes</code></pre><h3 id="Loading-Complete-Hydro-Dataset"><a class="docs-heading-anchor" href="#Loading-Complete-Hydro-Dataset">Loading Complete Hydro Dataset</a><a id="Loading-Complete-Hydro-Dataset-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-Complete-Hydro-Dataset" title="Permalink"></a></h3><p>Now let&#39;s load the AMR and hydro data from all files. This will read:</p><ul><li><strong>Full simulation box</strong> - All spatial regions</li><li><strong>All available variables</strong> - All hydro quantities present in the files</li><li><strong>All AMR levels</strong> - Complete refinement hierarchy</li><li><strong>Cell positions</strong> - Only leaf cells (actual data cells, not parent cells)</li></ul><pre><code class="language-julia hljs">gas = gethydro(info);</code></pre><pre><code class="nohighlight hljs">[Mera]: Get hydro data: 2025-08-14T14:06:57.893

Key vars=(:level, :cx, :cy, :cz)
Using var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7)

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

ðŸ“Š Processing Configuration:
   Total CPU files available: 640
   Files to be processed: 640
   Compute threads: 8
   GC threads: 4
</code></pre><pre><code class="nohighlight hljs">Processing files: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:26 (40.85 ms/it)
</code></pre><pre><code class="nohighlight hljs">
âœ“ File processing complete! Combining results...
âœ“ Data combination complete!
Final data size: 28320979 cells, 7 variables
Creating Table from 28320979 cells with max 8 threads...
  Threading: 8 threads for 11 columns
  Max threads requested: 8
  Available threads: 8
  Using parallel processing with 8 threads
  Creating IndexedTable with 11 columns...
 29.318513 seconds (623.38 M allocations: 26.965 GiB, 5.35% gc time, 3.77% compilation time)
âœ“ Table created in 29.506 seconds
Memory used for data table :2.321086215786636 GB
-------------------------------------------------------
</code></pre><h3 id="Memory-Usage-Analysis"><a class="docs-heading-anchor" href="#Memory-Usage-Analysis">Memory Usage Analysis</a><a id="Memory-Usage-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Usage-Analysis" title="Permalink"></a></h3><p>The memory consumption of the loaded data is displayed automatically. For detailed memory analysis of any object, Mera.jl provides the <code>usedmemory()</code> function:</p><pre><code class="language-julia hljs">usedmemory(gas);</code></pre><pre><code class="nohighlight hljs">Memory used: 2.321 GB
</code></pre><h2 id="Understanding-Data-Types"><a class="docs-heading-anchor" href="#Understanding-Data-Types">Understanding Data Types</a><a id="Understanding-Data-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-Data-Types" title="Permalink"></a></h2><p>The loaded data object is now of type <code>HydroDataType</code>, which is specifically defined for hydro simulation data:</p><pre><code class="language-julia hljs">typeof(gas)</code></pre><pre><code class="nohighlight hljs">HydroDataType</code></pre><h3 id="Type-Hierarchy"><a class="docs-heading-anchor" href="#Type-Hierarchy">Type Hierarchy</a><a id="Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Hierarchy" title="Permalink"></a></h3><p><code>HydroDataType</code> is part of a well-organized type hierarchy. It&#39;s a sub-type of <code>ContainMassDataSetType</code>:</p><pre><code class="language-julia hljs"># Which in turn is a subtype of the general `DataSetType`.
supertype( ContainMassDataSetType )</code></pre><pre><code class="nohighlight hljs">DataSetType</code></pre><pre><code class="language-julia hljs"># HydroDataType is a subtype of the combined HydroPartType, useful for functions that can handle hydro and particle data
supertype( HydroDataType )</code></pre><pre><code class="nohighlight hljs">HydroPartType</code></pre><pre><code class="language-julia hljs">supertype( HydroPartType )</code></pre><pre><code class="nohighlight hljs">ContainMassDataSetType</code></pre><p><img src="../assets/TypeHierarchy.png" alt="TypeHierarchy"/></p><h2 id="Data-Organization-and-Structure"><a class="docs-heading-anchor" href="#Data-Organization-and-Structure">Data Organization and Structure</a><a id="Data-Organization-and-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Organization-and-Structure" title="Permalink"></a></h2><p>The hydro data is stored in an <strong>IndexedTables</strong> format, with user-selected variables and parameters organized into accessible fields. Let&#39;s explore the structure:</p><pre><code class="language-julia hljs">viewfields(gas)</code></pre><pre><code class="nohighlight hljs">
data ==&gt; IndexedTables: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)

info ==&gt; subfields: (:output, :path, :fnames, :simcode, :mtime, :ctime, :ncpu, :ndim, :levelmin, :levelmax, :boxlen, :time, :aexp, :H0, :omega_m, :omega_l, :omega_k, :omega_b, :unit_l, :unit_d, :unit_m, :unit_v, :unit_t, :gamma, :hydro, :nvarh, :nvarp, :nvarrt, :variable_list, :gravity_variable_list, :particles_variable_list, :rt_variable_list, :clumps_variable_list, :sinks_variable_list, :descriptor, :amr, :gravity, :particles, :rt, :clumps, :sinks, :namelist, :namelist_content, :headerfile, :makefile, :files_content, :timerfile, :compilationfile, :patchfile, :Narraysize, :scale, :grid_info, :part_info, :compilation, :constants)

lmin	= 6
lmax	= 10
boxlen	= 48.0
ranges	= [0.0, 1.0, 0.0, 1.0, 0.0, 1.0]
selected_hydrovars	= [1, 2, 3, 4, 5, 6, 7]
smallr	= 0.0
smallc	= 0.0

scale ==&gt; subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :Î¼m, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :Î¼m3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3, :erg_g_K, :keV_cm2, :erg_K, :J_K, :erg_cm3_K, :J_m3_K, :kB_per_particle, :J_s, :g_cm2_s, :kg_m2_s, :Gauss, :muG, :microG, :Tesla, :eV, :keV, :MeV, :erg_s, :Lsol, :Lsun, :cm_3, :pc_3, :n_e, :erg_g_s, :erg_cm3_s, :erg_cm2_s, :Jy, :mJy, :microJy, :atoms_cm2, :NH_cm2, :cm_s2, :m_s2, :km_s2, :pc_Myr2, :erg_g, :J_kg, :km2_s2, :u_grav, :erg_cell, :dyne, :s_2, :lambda_J, :M_J, :t_ff, :alpha_vir, :delta_rho, :a_mag, :v_esc, :ax, :ay, :az, :epot, :a_magnitude, :escape_speed, :gravitational_redshift, :gravitational_energy_density, :gravitational_binding_energy, :total_binding_energy, :specific_gravitational_energy, :gravitational_work, :jeans_length_gravity, :jeans_mass_gravity, :jeansmass, :freefall_time_gravity, :ekin, :etherm, :virial_parameter_local, :Fg, :poisson_source, :ar_cylinder, :aÏ•_cylinder, :ar_sphere, :aÎ¸_sphere, :aÏ•_sphere, :r_cylinder, :r_sphere, :Ï•, :dimensionless, :rad, :deg)
</code></pre><h3 id="Convenient-Data-Access"><a class="docs-heading-anchor" href="#Convenient-Data-Access">Convenient Data Access</a><a id="Convenient-Data-Access-1"></a><a class="docs-heading-anchor-permalink" href="#Convenient-Data-Access" title="Permalink"></a></h3><p>For convenience, all fields from the original <code>InfoType</code> object are now accessible through:</p><ul><li><strong><code>gas.info</code></strong> - All simulation metadata and parameters</li><li><strong><code>gas.scale</code></strong> - Scaling relations for converting from code units to physical units</li></ul><p>The data object also retains important structural information:</p><ul><li>Minimum and maximum AMR levels of the loaded data</li><li>Box dimensions and coordinate ranges</li><li>Selected spatial regions and filtering parameters</li><li>Number and names of loaded hydro variables</li></ul><h3 id="Setting-Physical-Constraints"><a class="docs-heading-anchor" href="#Setting-Physical-Constraints">Setting Physical Constraints</a><a id="Setting-Physical-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-Physical-Constraints" title="Permalink"></a></h3><p>You can set minimum values for density and sound speed when loading data. This is useful for:</p><ul><li><strong>Overwriting negative densities</strong> that may arise from numerical errors</li><li><strong>Setting physical floors</strong> to prevent unphysical values</li></ul><p>The constraints are stored in the <code>smallr</code> (density) and <code>smallc</code> (sound speed) fields. Example:</p><pre><code class="language-julia hljs">gas = gethydro(info, smallr=1e-11);</code></pre><pre><code class="nohighlight hljs">[Mera]: Get hydro data: 2025-08-14T14:07:58.059

Key vars=(:level, :cx, :cy, :cz)
Using var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7)

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

ðŸ“Š Processing Configuration:
   Total CPU files available: 640
   Files to be processed: 640
   Compute threads: 8
   GC threads: 4
</code></pre><pre><code class="nohighlight hljs">Processing files: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:00:26 (41.14 ms/it)
</code></pre><pre><code class="nohighlight hljs">
âœ“ File processing complete! Combining results...
âœ“ Data combination complete!
Final data size: 28320979 cells, 7 variables
Creating Table from 28320979 cells with max 8 threads...
  Threading: 8 threads for 11 columns
  Max threads requested: 8
  Available threads: 8
  Using parallel processing with 8 threads
  Creating IndexedTable with 11 columns...
 27.856846 seconds (618.29 M allocations: 26.622 GiB, 5.49% gc time)
âœ“ Table created in 28.061 seconds
Memory used for data table :2.321086215786636 GB
-------------------------------------------------------
</code></pre><h3 id="Quick-Field-Reference"><a class="docs-heading-anchor" href="#Quick-Field-Reference">Quick Field Reference</a><a id="Quick-Field-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Field-Reference" title="Permalink"></a></h3><p>For a simple list of all available fields in the hydro data object:</p><pre><code class="language-julia hljs">propertynames(gas)</code></pre><pre><code class="nohighlight hljs">(:data, :info, :lmin, :lmax, :boxlen, :ranges, :selected_hydrovars, :used_descriptors, :smallr, :smallc, :scale)</code></pre><h2 id="Data-Analysis-and-Exploration"><a class="docs-heading-anchor" href="#Data-Analysis-and-Exploration">Data Analysis and Exploration</a><a id="Data-Analysis-and-Exploration-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Analysis-and-Exploration" title="Permalink"></a></h2><p>Now that we have loaded our hydro data, let&#39;s explore its structure and properties in detail. This section demonstrates the key analysis functions available in Mera.jl.</p><h3 id="Analysis-Overview"><a class="docs-heading-anchor" href="#Analysis-Overview">Analysis Overview</a><a id="Analysis-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Analysis-Overview" title="Permalink"></a></h3><p>We&#39;ll cover two main types of analysis:</p><ul><li><p><strong>AMR Structure Analysis</strong> - Understanding the adaptive mesh refinement hierarchy, analyzing refinement level distribution, and examining grid properties and spatial organization</p></li><li><p><strong>Statistical Data Overview</strong> - Computing basic statistical properties of hydro variables, understanding data ranges and distributions, and assessing data quality</p></li></ul><h3 id="AMR-Grid-Structure-Analysis"><a class="docs-heading-anchor" href="#AMR-Grid-Structure-Analysis">AMR Grid Structure Analysis</a><a id="AMR-Grid-Structure-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#AMR-Grid-Structure-Analysis" title="Permalink"></a></h3><p>The <code>amroverview()</code> function provides detailed information about the adaptive mesh refinement structure associated with our hydro data. The analysis includes:</p><ul><li><strong>Level distribution</strong> - Number of cells at each refinement level</li></ul><p>The results are returned as an <strong>IndexedTables</strong> in code units, ready for further analysis:</p><pre><code class="language-julia hljs">overview_amr = amroverview(gas)</code></pre><pre><code class="nohighlight hljs">Counting...
</code></pre><pre><code class="nohighlight hljs">Table with 5 rows, 3 columns:
level  cells     cellsize
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6      66568     0.75
7      374908    0.375
8      7806793   0.1875
9      12774134  0.09375
10     7298576   0.046875</code></pre><h3 id="Statistical-Data-Analysis"><a class="docs-heading-anchor" href="#Statistical-Data-Analysis">Statistical Data Analysis</a><a id="Statistical-Data-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Statistical-Data-Analysis" title="Permalink"></a></h3><p>The <code>dataoverview()</code> function computes comprehensive statistics for all hydro variables in our dataset. This analysis provides:</p><ul><li><strong>Variable ranges</strong> - Minimum and maximum values for each quantity</li></ul><p>The calculated information is stored in code units and can be accessed for further analysis:</p><pre><code class="language-julia hljs">data_overview = dataoverview(gas)</code></pre><pre><code class="nohighlight hljs">Calculating...
</code></pre><pre><code class="nohighlight hljs"> 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| Time: 0:02:22
</code></pre><pre><code class="nohighlight hljs">Table with 5 rows, 16 columns:
Columns:
#   colname   type
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1   level     Any
2   mass      Any
3   rho_min   Any
4   rho_max   Any
5   vx_min    Any
6   vx_max    Any
7   vy_min    Any
8   vy_max    Any
9   vz_min    Any
10  vz_max    Any
11  p_min     Any
12  p_max     Any
13  var6_min  Any
14  var6_max  Any
15  var7_min  Any
16  var7_max  Any</code></pre><h3 id="Working-with-IndexedTables"><a class="docs-heading-anchor" href="#Working-with-IndexedTables">Working with IndexedTables</a><a id="Working-with-IndexedTables-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-IndexedTables" title="Permalink"></a></h3><p>When dealing with tables containing many columns, only a summary view is typically displayed. To access specific columns, use the <code>select()</code> function.</p><p><strong>Important Notes:</strong></p><ul><li>Column names are specified as quoted Symbols (<code>:column_name</code>)</li><li>For more details, see the <a href="https://docs.julialang.org/en/v1/manual/metaprogramming/#Symbols-1">Julia documentation on Symbols</a></li><li>The <code>select()</code> function maintains data order and relationships</li></ul><p>Let&#39;s select specific columns to examine level-wise mass and density statistics:</p><pre><code class="language-julia hljs">using Mera.IndexedTables # to import the IndexedTables package, which is a dependency of Mera</code></pre><pre><code class="language-julia hljs">select(data_overview, (:level,:mass, :rho_min, :rho_max ) )</code></pre><pre><code class="nohighlight hljs">Table with 5 rows, 4 columns:
level  mass         rho_min     rho_max
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6      0.000698165  2.61776e-9  1.16831e-7
7      0.00126374   1.15139e-8  2.21103e-7
8      0.0201245    2.44071e-8  0.000222309
9      0.204407     1.2142e-7   0.0141484
10     6.83618      4.49036e-7  3.32984</code></pre><h3 id="Unit-Conversion-Example"><a class="docs-heading-anchor" href="#Unit-Conversion-Example">Unit Conversion Example</a><a id="Unit-Conversion-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Conversion-Example" title="Permalink"></a></h3><p>Extract mass data from a specific column and convert it to solar masses. The <code>column()</code> function retrieves data from a specific table column, maintaining the order consistent with the table structure:</p><pre><code class="language-julia hljs">column(data_overview, :mass) * info.scale.Msol</code></pre><pre><code class="nohighlight hljs">5-element Vector{Float64}:
 697971.5415380469
      1.2633877595077453e6
      2.01189316548175e7
      2.0435047070331135e8
      6.834288803451587e9</code></pre><h3 id="In-Place-Unit-Conversion"><a class="docs-heading-anchor" href="#In-Place-Unit-Conversion">In-Place Unit Conversion</a><a id="In-Place-Unit-Conversion-1"></a><a class="docs-heading-anchor-permalink" href="#In-Place-Unit-Conversion" title="Permalink"></a></h3><p>Alternatively, you can directly convert the data within the table using the <code>transform()</code> function. This modifies the table in-place, converting the <code>:mass</code> column to solar mass units:</p><pre><code class="language-julia hljs">data_overview = transform(data_overview, :mass =&gt; :mass =&gt; value-&gt;value * info.scale.Msol);</code></pre><pre><code class="language-julia hljs">select(data_overview, (:level, :mass, :rho_min, :rho_max ) )</code></pre><pre><code class="nohighlight hljs">Table with 5 rows, 4 columns:
level  mass       rho_min     rho_max
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6      6.97972e5  2.61776e-9  1.16831e-7
7      1.26339e6  1.15139e-8  2.21103e-7
8      2.01189e7  2.44071e-8  0.000222309
9      2.0435e8   1.2142e-7   0.0141484
10     6.83429e9  4.49036e-7  3.32984</code></pre><h2 id="Data-Structure-Deep-Dive"><a class="docs-heading-anchor" href="#Data-Structure-Deep-Dive">Data Structure Deep Dive</a><a id="Data-Structure-Deep-Dive-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Structure-Deep-Dive" title="Permalink"></a></h2><p>Now let&#39;s examine the detailed structure of our hydro data. Understanding this organization is crucial for effective data manipulation and analysis.</p><h3 id="IndexedTables-Storage-Format"><a class="docs-heading-anchor" href="#IndexedTables-Storage-Format">IndexedTables Storage Format</a><a id="IndexedTables-Storage-Format-1"></a><a class="docs-heading-anchor-permalink" href="#IndexedTables-Storage-Format" title="Permalink"></a></h3><p>The data is stored in <code>gas.data</code> as an <strong>IndexedTables</strong> table (in code units), which provides several key advantages:</p><ul><li><strong>Row-based organization</strong>: Each row represents a single cell in the simulation</li><li><strong>Column-based access</strong>: Each column represents a specific physical property</li><li><strong>Efficient operations</strong>: Built-in support for filtering, mapping, and aggregation</li><li><strong>Memory efficiency</strong>: Optimized storage and access patterns</li><li><strong>Functional interface</strong>: Clean, composable operations for data manipulation</li></ul><p>For comprehensive information on working with this data structure:</p><ul><li>Mera.jl documentation and tutorials</li><li><a href="https://juliadb.juliadata.org/latest/">JuliaDB API Reference</a></li><li>IndexedTables.jl documentation</li></ul><h3 id="Understanding-the-Data-Layout"><a class="docs-heading-anchor" href="#Understanding-the-Data-Layout">Understanding the Data Layout</a><a id="Understanding-the-Data-Layout-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-the-Data-Layout" title="Permalink"></a></h3><p>The table structure reflects the AMR grid organization:</p><p><strong>Spatial Coordinates</strong></p><ul><li><strong>Integer cell positions</strong> (cx, cy, cz) form a uniform 3D array within each refinement level</li><li><strong>Level-specific ranges</strong>: Each refinement level has its own coordinate system<ul><li>Level 8: coordinates range from 1-256</li><li>Level 14: coordinates range from 1-16384</li></ul></li><li><strong>Sparse occupancy</strong>: Not all coordinate positions exist due to adaptive refinement</li></ul><p><strong>Critical Data Integrity Notes</strong></p><ul><li><strong>Coordinate preservation</strong>: The integers cx, cy, cz are essential for grid reconstruction</li><li><strong>Do not modify</strong>: These coordinates maintain the AMR spatial relationships</li><li><strong>Unique identifiers</strong>: Each (level, cx, cy, cz) combination uniquely identifies a cell</li></ul><p>Let&#39;s examine the complete data table:</p><pre><code class="language-julia hljs">gas.data</code></pre><pre><code class="nohighlight hljs">Table with 28320979 rows, 11 columns:
Columns:
#   colname  type
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1   level    Int64
2   cx       Int64
3   cy       Int64
4   cz       Int64
5   rho      Float64
6   vx       Float64
7   vy       Float64
8   vz       Float64
9   p        Float64
10  var6     Float64
11  var7     Float64</code></pre><h3 id="Focused-Data-Examination"><a class="docs-heading-anchor" href="#Focused-Data-Examination">Focused Data Examination</a><a id="Focused-Data-Examination-1"></a><a class="docs-heading-anchor-permalink" href="#Focused-Data-Examination" title="Permalink"></a></h3><p>For a more detailed view of specific columns, we can select key fields to understand the data organization better:</p><pre><code class="language-julia hljs">select(gas.data, (:level,:cx, :cy, :cz, :rho) )</code></pre><pre><code class="nohighlight hljs">Table with 28320979 rows, 5 columns:
level  cx   cy   cz   rho
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6      1    1    1    3.18647e-9
6      1    1    2    3.58591e-9
6      1    1    3    3.906e-9
6      1    1    4    4.27441e-9
6      1    1    5    4.61042e-9
6      1    1    6    4.83977e-9
6      1    1    7    4.974e-9
6      1    1    8    5.08112e-9
6      1    1    9    5.20596e-9
6      1    1    10   5.38372e-9
6      1    1    11   5.67209e-9
6      1    1    12   6.14423e-9
â‹®
10     814  493  514  0.000321702
10     814  494  509  1.42963e-6
10     814  494  510  1.4351e-6
10     814  494  511  0.00029515
10     814  494  512  0.000395273
10     814  494  513  0.000321133
10     814  494  514  0.000319678
10     814  495  511  0.00024646
10     814  495  512  0.000269009
10     814  496  511  0.000235329
10     814  496  512  0.000242422</code></pre><h2 id="Summary-and-Next-Steps"><a class="docs-heading-anchor" href="#Summary-and-Next-Steps">Summary and Next Steps</a><a id="Summary-and-Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Summary-and-Next-Steps" title="Permalink"></a></h2><h3 id="What-You&#39;ve-Learned"><a class="docs-heading-anchor" href="#What-You&#39;ve-Learned">What You&#39;ve Learned</a><a id="What-You&#39;ve-Learned-1"></a><a class="docs-heading-anchor-permalink" href="#What-You&#39;ve-Learned" title="Permalink"></a></h3><p>In this tutorial, you&#39;ve mastered the fundamentals of working with hydrodynamic data in Mera.jl:</p><ol><li><strong>Data Loading</strong>: How to load hydro data using <code>gethydro()</code> with various options</li><li><strong>Structure Understanding</strong>: The organization of AMR grids and IndexedTables</li><li><strong>Variable Management</strong>: Working with predefined and custom variable names</li><li><strong>Data Analysis</strong>: Using <code>amroverview()</code> and <code>dataoverview()</code> for comprehensive analysis</li><li><strong>Unit Handling</strong>: Converting between code units and physical units</li><li><strong>Memory Management</strong>: Monitoring and optimizing memory usage</li><li><strong>Data Manipulation</strong>: Using IndexedTables operations for efficient data processing</li></ol><h3 id="Key-Takeaways"><a class="docs-heading-anchor" href="#Key-Takeaways">Key Takeaways</a><a id="Key-Takeaways-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Takeaways" title="Permalink"></a></h3><ul><li>Hydro data is stored in IndexedTables format for efficient access and manipulation</li><li>AMR coordinates (level, cx, cy, cz) are critical for spatial relationships</li><li>Always be conscious of units - raw data is in code units</li><li>Memory management is crucial for large datasets</li><li>Mera.jl provides powerful tools for statistical analysis and data exploration</li></ul><h3 id="Continue-Your-Learning"><a class="docs-heading-anchor" href="#Continue-Your-Learning">Continue Your Learning</a><a id="Continue-Your-Learning-1"></a><a class="docs-heading-anchor-permalink" href="#Continue-Your-Learning" title="Permalink"></a></h3><p>Now that you understand hydro data fundamentals, you can explore:</p><ul><li><strong>Advanced hydro analysis</strong>: Spatial filtering, custom calculations, and derived quantities</li><li><strong>Data visualization</strong>: Creating plots and visualizations of your hydro data</li><li><strong>Multi-physics analysis</strong>: Combining hydro data with gravity and particle data</li><li><strong>Time series analysis</strong>: Working with multiple simulation outputs</li><li><strong>Performance optimization</strong>: Advanced techniques for large-scale data processing</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../00_multi_FirstSteps/">Â« Getting Started</a><a class="docs-footer-nextpage" href="../01_particles_First_Inspection/">Particles Â»</a><div class="flexbox-break"></div><p class="footer-message">Â© 2025 Manuel Behrendt. Built with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and <a href="https://julialang.org">Julia</a>. </p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 9 September 2025 18:38">Tuesday 9 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
