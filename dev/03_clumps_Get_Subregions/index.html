<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>3. Clumps: Get Sub-Regions of The Loaded Data Â· Mera.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Mera.jl logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../00_multi_FirstSteps/">First Steps</a></li><li><span class="tocitem">1-Data Inspection</span><ul><li><a class="tocitem" href="../01_hydro_First_Inspection/">Hydro</a></li><li><a class="tocitem" href="../01_particles_First_Inspection/">Particles</a></li><li><a class="tocitem" href="../01_clumps_First_Inspection/">Clumps</a></li></ul></li><li><span class="tocitem">2-Load by Selection</span><ul><li><a class="tocitem" href="../02_hydro_Load_Selections/">Hydro</a></li><li><a class="tocitem" href="../02_particles_Load_Selections/">Particles</a></li><li><a class="tocitem" href="../02_clumps_Load_Selections/">Clumps</a></li></ul></li><li><span class="tocitem">3-Get Subregions</span><ul><li><a class="tocitem" href="../03_hydro_Get_Subregions/03_hydro_Get_Subregions/">Hydro</a></li><li><a class="tocitem" href="../03_particles_Get_Subregions/03_particles_Get_Subregions/">Particles</a></li><li><a class="tocitem" href="03_clumps_Get_Subregions/">Clumps</a></li></ul></li><li><a class="tocitem" href="../04_multi_Basic_Calculations/">4-Basic Calculations</a></li><li><a class="tocitem" href="../05_multi_Masking_Filtering/05_multi_Masking_Filtering/">5-Mask/Filter/Meta</a></li><li><span class="tocitem">6-Projection</span><ul><li><a class="tocitem" href="../06_hydro_Projection/06_hydro_Projection/">Hydro</a></li><li><a class="tocitem" href="../06_particles_Projection/06_particles_Projection/">Particles</a></li></ul></li><li><a class="tocitem" href="../07_multi_Mera_Files/">7-MERA-Files</a></li><li><a class="tocitem" href="../Miscellaneous/">8-Miscellaneous</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>3. Clumps: Get Sub-Regions of The Loaded Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>3. Clumps: Get Sub-Regions of The Loaded Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ManuelBehrendt/Mera.jl/blob/master/docs/src/03_clumps_Get_Subregions.md" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id=".-Clumps:-Get-Sub-Regions-of-The-Loaded-Data"><a class="docs-heading-anchor" href="#.-Clumps:-Get-Sub-Regions-of-The-Loaded-Data">3. Clumps: Get Sub-Regions of The Loaded Data</a><a id=".-Clumps:-Get-Sub-Regions-of-The-Loaded-Data-1"></a><a class="docs-heading-anchor-permalink" href="#.-Clumps:-Get-Sub-Regions-of-The-Loaded-Data" title="Permalink"></a></h1><h2 id="Load-the-Data"><a class="docs-heading-anchor" href="#Load-the-Data">Load the Data</a><a id="Load-the-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Load-the-Data" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Mera, PyPlot
info = getinfo(400, &quot;../../testing/simulations/manu_sim_sf_L14&quot;)
clumps = getclumps(info);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:39:44.033

Code: RAMSES
output [400] summary:
mtime: 2018-09-05T09:51:55.041
ctime: 2019-11-01T17:35:21.051
 =======================================================
simulation time: 594.98 [Myr]
boxlen: 48.0 [kpc]
ncpu: 2048
ndim: 3
-------------------------------------------------------
amr:           true
level(s): 6 - 14 --&gt; cellsize(s): 750.0 [pc] - 2.93 [pc]
-------------------------------------------------------
hydro:         true
hydro-variables:  7  --&gt; (:rho, :vx, :vy, :vz, :p, :var6, :var7)
hydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)
Î³: 1.6667
-------------------------------------------------------
gravity:       true
gravity-variables: (:epot, :ax, :ay, :az)
-------------------------------------------------------
particles:     true
- Npart:    5.091500e+05
- Nstars:   5.066030e+05
- Ndm:      2.547000e+03
particle variables: (:vx, :vy, :vz, :mass, :birth)
-------------------------------------------------------
clumps:        true
clump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance)
-------------------------------------------------------
namelist-file: false
timer-file:       false
compilation-file: true
makefile:         true
patchfile:        true
 =======================================================

 [Mera]: Get clump data: 2020-02-08T20:39:48.496

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Read 12 colums:
Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance]
Memory used for data table :61.77734375 KB
-------------------------------------------------------</code></pre><h2 id="Cuboid-Region"><a class="docs-heading-anchor" href="#Cuboid-Region">Cuboid Region</a><a id="Cuboid-Region-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region" title="Permalink"></a></h2><h3 id="Create-scatter-plots-of-the-full-box:"><a class="docs-heading-anchor" href="#Create-scatter-plots-of-the-full-box:">Create scatter plots of the full box:</a><a id="Create-scatter-plots-of-the-full-box:-1"></a><a class="docs-heading-anchor-permalink" href="#Create-scatter-plots-of-the-full-box:" title="Permalink"></a></h3><p>Use the <code>getvar</code> function to extract the positions of the clumps relative to the box center. It returns a dictionary of arrays:</p><pre><code class="language-julia hljs">positions = getvar(clumps, [:x, :y, :z], :kpc, center=[:boxcenter], center_unit=:kpc) # units=[:kpc, :kpc, :kpc]
x, y, z = positions[:x], positions[:y], positions[:z]; # assign the three components of the dictionary to three arrays</code></pre><p>Alternatively, use the <code>getposition</code> function to extract the positions of the clumps. It returns a tuple of the three components:</p><pre><code class="language-julia hljs">x, y, z = getpositions(clumps, :kpc, center=[:boxcenter], center_unit=:kpc); # assign the three components of the tuple to three arrays</code></pre><p>Get the extent of the processed domain with respect to a given center. The returned tuple is useful declare the specific range of the plots.</p><pre><code class="language-julia hljs">rx, ry, rz = getextent(clumps, :kpc,  center=[:boxcenter]);</code></pre><h4 id="Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:"><a class="docs-heading-anchor" href="#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:">Cuboid Region: The red lines show the region that we want to cut-out as a sub-region from the full data:</a><a id="Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:" title="Permalink"></a></h4><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

subplot(1,3,1)
scatter(x,y)
plot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_11_0.png" alt="png"/></p><h4 id="Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps"><a class="docs-heading-anchor" href="#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps">Cuboid Region: Cutout the data assigned to the object <code>clumps</code></a><a id="Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps" title="Permalink"></a></h4><p>Note: The selected regions can be given relative to a user given center or to the box corner [0., 0., 0.] by default. The user can choose between standard notation <a href="default">0:1</a> or physical length-units, defined in e.g. info.scale :</p><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :cuboid,
                                    xrange=[-4., 0.],
                                    yrange=[-15. ,15.],
                                    zrange=[-2. ,2.],
                                    center=[:boxcenter],
                                    range_unit=:kpc);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:40:04.755

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.4166667 :: 0.5  	==&gt; 20.0 [kpc] :: 24.0 [kpc]
ymin::ymax: 0.1875 :: 0.8125  	==&gt; 9.0 [kpc] :: 39.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Memory used for data table :29.52734375 KB
-------------------------------------------------------</code></pre><p>The function <code>subregion</code> creates a new object with the same type as the object created by the function <code>getclumps</code> :</p><pre><code class="language-julia hljs">typeof(clumps_subregion)</code></pre><pre><code class="nohighlight hljs">ClumpDataType</code></pre><h4 id="Cuboid-Region:-Scatter-Plots-of-the-sub-region."><a class="docs-heading-anchor" href="#Cuboid-Region:-Scatter-Plots-of-the-sub-region.">Cuboid Region: Scatter-Plots of the sub-region.</a><a id="Cuboid-Region:-Scatter-Plots-of-the-sub-region.-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Scatter-Plots-of-the-sub-region." title="Permalink"></a></h4><p>The coordinates center is the center of the box by default:</p><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # clump positions of the subregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # extent of the box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

subplot(1,3,1)
scatter(x,y)
plot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_19_0.png" alt="png"/></p><h4 id="Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges"><a class="docs-heading-anchor" href="#Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges">Cuboid Region: Get the extent of the subregion data ranges</a><a id="Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges" title="Permalink"></a></h4><pre><code class="language-julia hljs">rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]); # extent of the subregion</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

subplot(1,3,1)
scatter(x,y)
xlim(rx_sub)
ylim(ry_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
xlim(rx_sub)
ylim(rz_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
xlim(ry_sub)
ylim(rz_sub)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_22_0.png" alt="png"/></p><h4 id="Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):"><a class="docs-heading-anchor" href="#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):">Cuboid Region: Get the data outside of the selected region (inverse selection):</a><a id="Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"></a><a class="docs-heading-anchor-permalink" href="#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):" title="Permalink"></a></h4><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :cuboid,
                                    xrange=[-4., 0.],
                                    yrange=[-15. ,15.],
                                    zrange=[-2. ,2.],
                                    center=[:boxcenter],
                                    range_unit=:kpc,
                                    inverse=true);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:40:36.521

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.4166667 :: 0.5  	==&gt; 20.0 [kpc] :: 24.0 [kpc]
ymin::ymax: 0.1875 :: 0.8125  	==&gt; 9.0 [kpc] :: 39.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Memory used for data table :33.65234375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);
rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

subplot(1,3,1)
scatter(x,y)
plot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=&quot;red&quot;)
xlim(rx_sub)
ylim(ry_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx_sub)
ylim(rz_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry_sub)
ylim(rz_sub)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_26_0.png" alt="png"/></p><h2 id="Cylindrical-Region"><a class="docs-heading-anchor" href="#Cylindrical-Region">Cylindrical Region</a><a id="Cylindrical-Region-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region" title="Permalink"></a></h2><p>Extract the the clump positions and the extent of the full box:</p><pre><code class="language-julia hljs">clumps  = getclumps(info);
x, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: Get clump data: 2020-02-08T20:40:43.377

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Read 12 colums:
Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance]
Memory used for data table :61.77734375 KB
-------------------------------------------------------</code></pre><h4 id="Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:"><a class="docs-heading-anchor" href="#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:">Cylindrical Region: The red lines show the region that we want to cut-out as a sub-region from the full data:</a><a id="Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:" title="Permalink"></a></h4><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_31_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps">Cylindrical Region: Cutout the data assigned to the object <code>clumps</code></a><a id="Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps" title="Permalink"></a></h4><p>Select the ranges of the cylinder in the unit &quot;kpc&quot;, relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.</p><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :cylinder,
                                radius=3.,
                                height=2.,
                                range_unit=:kpc,
                                center=[(24. -11.), :bc, :bc]); # direction=:z, by default</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:40:50.168

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2083333 :: 0.3333333  	==&gt; 10.0 [kpc] :: 16.0 [kpc]
ymin::ymax: 0.4375 :: 0.5625  	==&gt; 21.0 [kpc] :: 27.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Radius: 3.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :5.24609375 KB
-------------------------------------------------------</code></pre><p>Extract the the clump positions of the subregion and the extent of the full box:</p><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter])
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_36_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:">Cylindrical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:</a><a id="Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:" title="Permalink"></a></h4><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc,
                            center=[ (24. -11.), :bc, :bc],
                            center_unit=:kpc);
rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc,
                                    center=[ (24. -11.), :bc, :bc],
                                    center_unit=:kpc);</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 3. .* sin.(theta), 3 .* cos.(theta), color=&quot;red&quot;)
xlim(rx_sub)
ylim(ry_sub)
xlabel(&quot;kpc&quot;)
ylabel(&quot;kpc&quot;)


subplot(1,3,2)
scatter(x,z)
xlim(rx_sub)
ylim(rz_sub)
xlabel(&quot;kpc&quot;)
ylabel(&quot;kpc&quot;)


subplot(1,3,3)
scatter(y,z)
xlim(ry_sub)
ylim(rz_sub)
xlabel(&quot;kpc&quot;)
ylabel(&quot;kpc&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_39_0.png" alt="png"/></p><h4 id="Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):"><a class="docs-heading-anchor" href="#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):">Cylindrical Region: Get the data outside of the selected region (inverse selection):</a><a id="Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):" title="Permalink"></a></h4><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :cylinder,
                            radius=3.,
                            height=2.,
                            range_unit=:kpc,
                            center=[ (24. -11.),:bc,:bc],
                            inverse=true);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:41:13.553

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2083333 :: 0.3333333  	==&gt; 10.0 [kpc] :: 16.0 [kpc]
ymin::ymax: 0.4375 :: 0.5625  	==&gt; 21.0 [kpc] :: 27.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Radius: 3.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :57.93359375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);
rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_43_0.png" alt="png"/></p><h2 id="Spherical-Region"><a class="docs-heading-anchor" href="#Spherical-Region">Spherical Region</a><a id="Spherical-Region-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Region" title="Permalink"></a></h2><p>Extract the the clump positions and the extent of the full box:</p><pre><code class="language-julia hljs">clumps  = getclumps(info);
x, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: Get clump data: 2020-02-08T20:41:17.127

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Read 12 colums:
Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance]
Memory used for data table :61.77734375 KB
-------------------------------------------------------</code></pre><h4 id="The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:"><a class="docs-heading-anchor" href="#The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:">The red lines show the region that we want to cut-out as a sub-region from the full data:</a><a id="The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-1"></a><a class="docs-heading-anchor-permalink" href="#The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:" title="Permalink"></a></h4><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_48_0.png" alt="png"/></p><pre><code class="nohighlight hljs">PyObject Text(871.9411764705884, 0.5, &#39;z [kpc]&#39;)</code></pre><h4 id="Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps"><a class="docs-heading-anchor" href="#Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps">Spherical Region: Cutout the data assigned to the object <code>clumps</code></a><a id="Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps" title="Permalink"></a></h4><p>Select the radius of the sphere in the unit &quot;kpc&quot;, relative to the given center [13., 24., 24.]:</p><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :sphere,
                                     radius=10.,
                                     range_unit=:kpc,
                                     center=[ (24. -11.),:bc, :bc]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:41:21.728

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.0625 :: 0.4791667  	==&gt; 3.0 [kpc] :: 23.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Radius: 10.0 [kpc]
Memory used for data table :28.68359375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # subregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_52_0.png" alt="png"/></p><h4 id="Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:"><a class="docs-heading-anchor" href="#Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:">Spherical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:</a><a id="Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:" title="Permalink"></a></h4><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc,
                            center=[ (24. -11.), :bc, :bc],
                            center_unit=:kpc); # subregion
rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc,
                            center=[(24. -11.), :bc, :bc],
                            center_unit=:kpc); # subregion</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta), 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx_sub)
ylim(ry_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta), 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx_sub)
ylim(rz_sub)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta), 10 .* cos.(theta), color=&quot;red&quot;)
xlim(ry_sub)
ylim(rz_sub)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_55_0.png" alt="png"/></p><h4 id="Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):"><a class="docs-heading-anchor" href="#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):">Spherical Region: Get the data outside of the selected region (inverse selection):</a><a id="Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):" title="Permalink"></a></h4><pre><code class="language-julia hljs">clumps_subregion = subregion( clumps, :sphere,
                                     radius=10.,
                                     range_unit=:kpc,
                                     center=[ (24. -11.),:bc,:bc],
                                     inverse=true);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:41:43.641

center: [0.2708333, 0.5, 0.5] ==&gt; [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.0625 :: 0.4791667  	==&gt; 3.0 [kpc] :: 23.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Radius: 10.0 [kpc]
Memory used for data table :34.49609375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);
rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))

theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=&quot;red&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_59_0.png" alt="png"/></p><pre><code class="nohighlight hljs">PyObject Text(871.9411764705884, 0.5, &#39;z [kpc]&#39;)</code></pre><h2 id="Combined/Nested/Shell-Sub-Regions"><a class="docs-heading-anchor" href="#Combined/Nested/Shell-Sub-Regions">Combined/Nested/Shell Sub-Regions</a><a id="Combined/Nested/Shell-Sub-Regions-1"></a><a class="docs-heading-anchor-permalink" href="#Combined/Nested/Shell-Sub-Regions" title="Permalink"></a></h2><h4 id="The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)"><a class="docs-heading-anchor" href="#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)">The sub-region functions can be used in any combination with each other! (Combined with overlapping ranges or nested)</a><a id="The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)-1"></a><a class="docs-heading-anchor-permalink" href="#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)" title="Permalink"></a></h4><h2 id="Cylindrical-Shell"><a class="docs-heading-anchor" href="#Cylindrical-Shell">Cylindrical Shell</a><a id="Cylindrical-Shell-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell" title="Permalink"></a></h2><p>Extract the the clump positions and the extent of the full box:</p><pre><code class="language-julia hljs">clumps = getclumps(info);
x, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: Get clump data: 2020-02-08T20:41:52.553

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Read 12 colums:
Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance]
Memory used for data table :61.77734375 KB
-------------------------------------------------------</code></pre><h4 id="The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:"><a class="docs-heading-anchor" href="#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:">The red lines show the shell that we want to cut-out as a sub-region from the full data:</a><a id="The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-1"></a><a class="docs-heading-anchor-permalink" href="#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:" title="Permalink"></a></h4><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;,ls = &quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_66_0.png" alt="png"/></p><h4 id="Cylindrical-Shell:"><a class="docs-heading-anchor" href="#Cylindrical-Shell:">Cylindrical Shell:</a><a id="Cylindrical-Shell:-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell:" title="Permalink"></a></h4><p>Pass the height of the cylinder and the inner/outer radius of the shell in the unit &quot;kpc&quot;, relative to the box center [24., 24., 24.]:</p><pre><code class="language-julia hljs">clumps_subregion = shellregion( clumps, :cylinder,
                                         radius=[5.,10.],
                                         height=2.,
                                         range_unit=:kpc,
                                         center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:42:00.413

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :18.55859375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_70_0.png" alt="png"/></p><h4 id="Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):"><a class="docs-heading-anchor" href="#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):">Cylindrical Shell: Get the data outside of the selected shell-region (inverse selection):</a><a id="Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):-1"></a><a class="docs-heading-anchor-permalink" href="#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):" title="Permalink"></a></h4><pre><code class="language-julia hljs">clumps_subregion = shellregion( clumps, :cylinder,
                                         radius=[5.,10.],
                                         height=2.,
                                         range_unit=:kpc,
                                         center=[:boxcenter],
                                         inverse=true);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:42:10.055

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.4583333 :: 0.5416667  	==&gt; 22.0 [kpc] :: 26.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Height: 2.0 [kpc]
Memory used for data table :44.62109375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;)
plot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_74_0.png" alt="png"/></p><h2 id="Spherical-Shell"><a class="docs-heading-anchor" href="#Spherical-Shell">Spherical Shell</a><a id="Spherical-Shell-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell" title="Permalink"></a></h2><p>Extract the the clump positions and the extent of the full box:</p><pre><code class="language-julia hljs">clumps  = getclumps(info);
x, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: Get clump data: 2020-02-08T20:42:14.641

domain:
xmin::xmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
ymin::ymax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]
zmin::zmax: 0.0 :: 1.0  	==&gt; 0.0 [kpc] :: 48.0 [kpc]

Read 12 colums:
Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(&quot;rho-&quot;), Symbol(&quot;rho+&quot;), :rho_av, :mass_cl, :relevance]
Memory used for data table :61.77734375 KB
-------------------------------------------------------</code></pre><h4 id="The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-2"><a class="docs-heading-anchor" href="#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-2">The red lines show the shell that we want to cut-out as a sub-region from the full data:</a><a class="docs-heading-anchor-permalink" href="#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-2" title="Permalink"></a></h4><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_79_0.png" alt="png"/></p><h4 id="Spherical-Shell:"><a class="docs-heading-anchor" href="#Spherical-Shell:">Spherical Shell:</a><a id="Spherical-Shell:-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:" title="Permalink"></a></h4><p>Select the inner and outer radius of the spherical shell in unit &quot;kpc&quot;, relative to the box center [24., 24., 24.]:</p><pre><code class="language-julia hljs">clumps_subregion = shellregion( clumps, :sphere,
                                radius=[5.,10.],
                                range_unit=:kpc,
                                center=[:boxcenter]);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:42:19.499

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Memory used for data table :18.55859375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;,  ls=&quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_83_0.png" alt="png"/></p><h4 id="Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):"><a class="docs-heading-anchor" href="#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):">Spherical Shell: Get the data outside of the selected shell-region (inverse selection):</a><a id="Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):" title="Permalink"></a></h4><pre><code class="language-julia hljs">clumps_subregion = shellregion( clumps, :sphere,
                                radius=[5.,10.],
                                range_unit=:kpc,
                                center=[:boxcenter],
                                inverse=true);</code></pre><pre><code class="nohighlight hljs"> [Mera]: 2020-02-08T20:42:23.949 

center: [0.5, 0.5, 0.5] ==&gt; [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]

domain:
xmin::xmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
ymin::ymax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]
zmin::zmax: 0.2916667 :: 0.7083333  	==&gt; 14.0 [kpc] :: 34.0 [kpc]

Inner radius: 5.0 [kpc]
Outer radius: 10.0 [kpc]
Radius diff: 5.0 [kpc]
Memory used for data table :44.62109375 KB
-------------------------------------------------------</code></pre><pre><code class="language-julia hljs">x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion
rx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # full box</code></pre><pre><code class="language-julia hljs">figure(figsize=(15.5, 3.5))
theta = range(-pi, stop=pi, length=100)

subplot(1,3,1)
scatter(x,y)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(ry)
xlabel(&quot;x k[pc]&quot;)
ylabel(&quot;y [kpc]&quot;)


subplot(1,3,2)
scatter(x,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(rx)
ylim(rz)
xlabel(&quot;x [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;)


subplot(1,3,3)
scatter(y,z)
plot( 10. .* sin.(theta) , 10 .* cos.(theta), color=&quot;red&quot;)
plot( 5. .* sin.(theta) , 5. .* cos.(theta), color=&quot;red&quot;, ls=&quot;--&quot;)
xlim(ry)
ylim(rz)
xlabel(&quot;y [kpc]&quot;)
ylabel(&quot;z [kpc]&quot;);</code></pre><p><img src="../03_clumps_Get_Subregions_files/03_clumps_Get_Subregions_87_0.png" alt="png"/></p><pre><code class="language-julia hljs"></code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 8 May 2023 10:42">Monday 8 May 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
