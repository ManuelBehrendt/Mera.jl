var documenterSearchIndex = {"docs":
[{"location":"01_particles_First_Inspection/#1.-Particles:-First-Data-Inspection","page":"Particles","title":"1. Particles: First Data Inspection","text":"","category":"section"},{"location":"01_particles_First_Inspection/#Simulation-Overview","page":"Particles","title":"Simulation Overview","text":"","category":"section"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"using Mera\ninfo = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T20:56:51.655\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"A short overview of the loaded particle properties is printed:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"existence of particle files\nthe predefined variables\nthe number of particles for each id/family (if exist)\nthe variable names from the descriptor file (if exist)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The functions in Mera \"know\" the predefined particle variable names: ","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"From >= ramses-version-2018: :vx, :vy, :vz, :mass, :family, :tag, :birth, :metals :var9,.... \nFor  =< ramses-version-2017: :vx, :vy, :vz, :mass, :birth, :var6, :var7,.... \nCurrently, the following variables are loaded by default (if exist): :level, :x, :y, :z, :id, :family, :tag.\nThe cpu number associated with the particles can be loaded with the variable names: :cpu or :varn1\nIn a future version the variable names from the particle descriptor can be used by setting the field info.descriptor.useparticles = true . ","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Get an overview of the loaded particle properties:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"viewfields(info.part_info)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"[Mera]: Particle overview\n===============================\neta_sn\t= 0.0\nage_sn\t= 0.6706464407596582\nf_w\t= 0.0\nNpart\t= 0\nNdm\t= 0\nNstars\t= 544515\nNsinks\t= 0\nNcloud\t= 0\nNdebris\t= 0\nNother\t= 0\nNundefined\t= 0\nother_tracer1\t= 0\ndebris_tracer\t= 0\ncloud_tracer\t= 0\nstar_tracer\t= 0\nother_tracer2\t= 0\ngas_tracer\t= 0","category":"page"},{"location":"01_particles_First_Inspection/#Load-AMR/Particle-Data","page":"Particles","title":"Load AMR/Particle Data","text":"","category":"section"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Read the AMR and the Particle data from all files of the full box with all existing variables and particle positions:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"particles = getparticles(info);","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T20:56:56.574\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\nProgress: 100%|█████████████████████████████████████████| Time: 0:00:08\n\n\nFound 5.445150e+05 particles\nMemory used for data table :38.428720474243164 MB\n-------------------------------------------------------","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The memory consumption of the data table is printed at the end. We provide a function which gives the possibility to print the used memory of any object: ","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"usedmemory(particles);","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Memory used: 38.449 MB","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The assigned object is now of type PartDataType:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"typeof(particles)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"PartDataType","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"It is a sub-type of ContainMassDataSetType","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"supertype( ContainMassDataSetType )","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"DataSetType","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"ContainMassDataSetType is a sub-type of to the super-type DataSetType","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"supertype( PartDataType )","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"HydroPartType","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The data is stored in a IndexedTables table and the user selected particle variables and parameters are assigned to fields:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"viewfields(particles)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"data ==> JuliaDB table: (:level, :x, :y, :z, :id, :family, :tag, :vx, :vy, :vz, :mass, :birth)\n\ninfo ==> subfields: (:output, :path, :fnames, :simcode, :mtime, :ctime, :ncpu, :ndim, :levelmin, :levelmax, :boxlen, :time, :aexp, :H0, :omega_m, :omega_l, :omega_k, :omega_b, :unit_l, :unit_d, :unit_m, :unit_v, :unit_t, :gamma, :hydro, :nvarh, :nvarp, :nvarrt, :variable_list, :gravity_variable_list, :particles_variable_list, :rt_variable_list, :clumps_variable_list, :sinks_variable_list, :descriptor, :amr, :gravity, :particles, :rt, :clumps, :sinks, :namelist, :namelist_content, :headerfile, :makefile, :files_content, :timerfile, :compilationfile, :patchfile, :Narraysize, :scale, :grid_info, :part_info, :compilation, :constants)\n\nlmin\t= 6\nlmax\t= 10\nboxlen\t= 48.0\nranges\t= [0.0, 1.0, 0.0, 1.0, 0.0, 1.0]\nselected_partvars\t= [:level, :x, :y, :z, :id, :family, :tag, :vx, :vy, :vz, :mass, :birth]\n\nscale ==> subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :μm3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"For convenience, all the fields from the info-object above (InfoType) are now also accessible from the object with \"particles.info\" and the scaling relations from code to cgs units in \"particles.scale\".","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Print the fields of an object (composite type) in a simple list:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"propertynames(particles)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"(:data, :info, :lmin, :lmax, :boxlen, :ranges, :selected_partvars, :used_descriptors, :scale)","category":"page"},{"location":"01_particles_First_Inspection/#Overview-of-AMR/Particles","page":"Particles","title":"Overview of AMR/Particles","text":"","category":"section"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Get an overview of the AMR structure associated with the object particles (PartDataType). The printed information is stored into the object overview_amr as a IndexedTables table (code units)  and can be used for further calculations:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"amr_overview = amroverview(particles)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Counting...\n\n\n\n\n\nTable with 5 rows, 2 columns:\nlevel  particles\n────────────────\n6      1389\n7      543126\n8      0\n9      0\n10     0","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Get some overview of the data that is associated with the object particles. The calculated information can be accessed from the object data_overview (here) in code units for further calculations:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"data_overview = dataoverview(particles)","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Calculating...\n\n\n\n\n\nTable with 5 rows, 23 columns:\nColumns:\n\u001b#   \u001bcolname     \u001btype\n────────────────────\n1   level       Any\n2   x_min       Any\n3   x_max       Any\n4   y_min       Any\n5   y_max       Any\n6   z_min       Any\n7   z_max       Any\n8   id_min      Any\n9   id_max      Any\n10  family_min  Any\n11  family_max  Any\n12  tag_min     Any\n13  tag_max     Any\n14  vx_min      Any\n15  vx_max      Any\n16  vy_min      Any\n17  vy_max      Any\n18  vz_min      Any\n19  vz_max      Any\n20  mass_min    Any\n21  mass_max    Any\n22  birth_min   Any\n23  birth_max   Any","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"If the number of columns is relatively long, the table is typically represented by an overview. To access certain columns, use the select function. The representation \":birth_max\" is called a quoted Symbol (see in Julia documentation):","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"using Mera.IndexedTables","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"select(data_overview, (:level,:mass_min, :mass_max, :birth_min, :birth_max ) )","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Table with 5 rows, 5 columns:\nlevel  mass_min    mass_max    birth_min  birth_max\n───────────────────────────────────────────────────\n6      0.0         0.0         0.0        0.0\n7      0.0         0.0         0.0        0.0\n8      0.0         0.0         0.0        0.0\n9      8.00221e-7  8.00221e-7  5.56525    22.126\n10     8.00221e-7  2.00055e-6  0.0951753  29.9032","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Get an array from the column \":birth\" in data_overview and scale it to the units Myr. The order of the calculated data is consistent with the table above:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"column(data_overview, :birth_min) * info.scale.Myr ","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"5-element Vector{Float64}:\n  0.0\n  0.0\n  0.0\n 82.98342559299353\n  1.419158337486011","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Or simply convert the birth_max data in the table to Myr units by manipulating the column:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"data_overview = transform(data_overview, :birth_max => :birth_max => value->value * info.scale.Myr);","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"select(data_overview, (:level,:mass_min, :mass_max, :birth_min, :birth_max ) )","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Table with 5 rows, 5 columns:\nlevel  mass_min    mass_max    birth_min  birth_max\n───────────────────────────────────────────────────\n6      0.0         0.0         0.0        0.0\n7      0.0         0.0         0.0        0.0\n8      0.0         0.0         0.0        0.0\n9      8.00221e-7  8.00221e-7  5.56525    329.92\n10     8.00221e-7  2.00055e-6  0.0951753  445.886","category":"page"},{"location":"01_particles_First_Inspection/#Data-inspection","page":"Particles","title":"Data inspection","text":"","category":"section"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The data is associated with the field particles.data as a IndexedTables table (code units).  Each row corresponds to a particle and each column to a property which makes it easy to find, filter, map, aggregate, group the data, etc. More information can be found in the Mera tutorials or in: JuliaDB API Reference","category":"page"},{"location":"01_particles_First_Inspection/#Table-View","page":"Particles","title":"Table View","text":"","category":"section"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"The particle positions x,y,z are given in code units and used in many functions of MERA and should not be modified.","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"particles.data","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int32\n2   x        Float64\n3   y        Float64\n4   z        Float64\n5   id       Int32\n6   family   Int8\n7   tag      Int8\n8   vx       Float64\n9   vy       Float64\n10  vz       Float64\n11  mass     Float64\n12  birth    Float64","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"A more detailed view into the data:","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"select(particles.data, (:level,:x, :y, :z, :birth) )","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 5 columns:\n\u001blevel  \u001bx        \u001by        \u001bz        birth\n─────────────────────────────────────────\n9      9.17918  22.4404  24.0107  8.86726\n9      9.23642  21.5559  24.0144  8.71495\n9      9.35638  20.7472  24.0475  7.91459\n9      9.39529  21.1854  24.0155  7.85302\n9      9.42686  20.9697  24.0162  8.2184\n9      9.42691  22.2181  24.0137  8.6199\n9      9.48834  22.0913  24.0137  8.70493\n9      9.5262   20.652   24.0179  7.96008\n9      9.60376  21.2814  24.0155  8.03346\n9      9.6162   20.6243  24.0506  8.56482\n9      9.62155  20.6248  24.0173  7.78062\n9      9.62252  24.4396  24.0206  9.44825\n⋮\n10     37.7913  25.6793  24.018   9.78881\n10     37.8255  22.6271  24.0279  9.89052\n10     37.8451  22.7506  24.027   9.61716\n10     37.8799  25.5668  24.0193  10.2294\n10     37.969   23.2135  24.0273  9.85439\n10     37.9754  22.6288  24.0265  9.4959\n10     37.9811  23.2854  24.0283  9.9782\n10     37.9919  22.873   24.0271  9.12003\n10     37.9966  23.092   24.0281  9.45574\n10     38.0328  22.8404  24.0265  9.77493\n10     38.0953  22.8757  24.0231  9.20251","category":"page"},{"location":"01_particles_First_Inspection/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#3.-Clumps:-Get-Sub-Regions-of-The-Loaded-Data","page":"Clumps","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Load-the-Data","page":"Clumps","title":"Load the Data","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"using Mera, PyPlot\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\")\nclumps = getclumps(info);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:39:44.033\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get clump data: 2020-02-08T20:39:48.496\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region","page":"Clumps","title":"Cuboid Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Create-scatter-plots-of-the-full-box:","page":"Clumps","title":"Create scatter plots of the full box:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Use the getvar function to extract the positions of the clumps relative to the box center. It returns a dictionary of arrays:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"positions = getvar(clumps, [:x, :y, :z], :kpc, center=[:boxcenter], center_unit=:kpc) # units=[:kpc, :kpc, :kpc]\nx, y, z = positions[:x], positions[:y], positions[:z]; # assign the three components of the dictionary to three arrays","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Alternatively, use the getposition function to extract the positions of the clumps. It returns a tuple of the three components:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z = getpositions(clumps, :kpc, center=[:boxcenter], center_unit=:kpc); # assign the three components of the tuple to three arrays","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Get the extent of the processed domain with respect to a given center. The returned tuple is useful declare the specific range of the plots. ","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"rx, ry, rz = getextent(clumps, :kpc,  center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"Clumps","title":"Cuboid Region: The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"Clumps","title":"Cuboid Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Note: The selected regions can be given relative to a user given center or to the box corner [0., 0., 0.] by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :cuboid,\n                                    xrange=[-4., 0.], \n                                    yrange=[-15. ,15.], \n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:40:04.755\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :29.52734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"The function subregion creates a new object with the same type as the object created by the function getclumps :","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"typeof(clumps_subregion)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"ClumpDataType","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region:-Scatter-Plots-of-the-sub-region.","page":"Clumps","title":"Cuboid Region: Scatter-Plots of the sub-region.","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"The coordinates center is the center of the box by default:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # clump positions of the subregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # extent of the box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges","page":"Clumps","title":"Cuboid Region: Get the extent of the subregion data ranges","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]); # extent of the subregion","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Clumps","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :cuboid,\n                                    xrange=[-4., 0.], \n                                    yrange=[-15. ,15.], \n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc,\n                                    inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:40:36.521\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :33.65234375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Region","page":"Clumps","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T20:40:43.377\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"Clumps","title":"Cylindrical Region: The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"Clumps","title":"Cylindrical Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :cylinder,\n                                radius=3., \n                                height=2.,\n                                range_unit=:kpc, \n                                center=[(24. -11.), :bc, :bc]); # direction=:z, by default","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:40:50.168\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :5.24609375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Extract the the clump positions of the subregion and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter])\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:","page":"Clumps","title":"Cylindrical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc,\n                            center=[ (24. -11.), :bc, :bc], \n                            center_unit=:kpc);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc,\n                                    center=[ (24. -11.), :bc, :bc], \n                                    center_unit=:kpc);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Clumps","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :cylinder,\n                            radius=3., \n                            height=2.,\n                            range_unit=:kpc, \n                            center=[ (24. -11.),:bc,:bc],\n                            inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:41:13.553\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :57.93359375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Region","page":"Clumps","title":"Spherical Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T20:41:17.127\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"Clumps","title":"The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"PyObject Text(871.9411764705884, 0.5, 'z [kpc]')","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"Clumps","title":"Spherical Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :sphere,\n                                     radius=10.,\n                                     range_unit=:kpc, \n                                     center=[ (24. -11.),:bc, :bc]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:41:21.728\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :28.68359375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # subregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:","page":"Clumps","title":"Spherical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, \n                            center=[ (24. -11.), :bc, :bc], \n                            center_unit=:kpc); # subregion\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, \n                            center=[(24. -11.), :bc, :bc], \n                            center_unit=:kpc); # subregion","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Clumps","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = subregion( clumps, :sphere,\n                                     radius=10.,\n                                     range_unit=:kpc, \n                                     center=[ (24. -11.),:bc,:bc],\n                                     inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:41:43.641\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :34.49609375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"PyObject Text(871.9411764705884, 0.5, 'z [kpc]')","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"Clumps","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)","page":"Clumps","title":"The sub-region functions can be used in any combination with each other! (Combined with overlapping ranges or nested)","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Shell","page":"Clumps","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T20:41:52.553\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"Clumps","title":"The red lines show the shell that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\",ls = \"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Shell:","page":"Clumps","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = shellregion( clumps, :cylinder,\n                                         radius=[5.,10.], \n                                         height=2., \n                                         range_unit=:kpc, \n                                         center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:42:00.413\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :18.55859375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"Clumps","title":"Cylindrical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = shellregion( clumps, :cylinder,\n                                         radius=[5.,10.], \n                                         height=2., \n                                         range_unit=:kpc, \n                                         center=[:boxcenter],\n                                         inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:42:10.055\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :44.62109375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Shell","page":"Clumps","title":"Spherical Shell","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T20:42:14.641\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-2","page":"Clumps","title":"The red lines show the shell that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Shell:","page":"Clumps","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = shellregion( clumps, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc, \n                                center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:42:19.499\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :18.55859375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",  ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"Clumps","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"clumps_subregion = shellregion( clumps, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc, \n                                center=[:boxcenter],\n                                inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T20:42:23.949\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :44.62109375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/03_clumps_Get_Subregions/","page":"Clumps","title":"Clumps","text":"","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#6.-Particles:-Projections","page":"Particles","title":"6. Particles: Projections","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/#Load-The-Data","page":"Particles","title":"Load The Data","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"using Mera\ninfo = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");\nparticles  = getparticles(info); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:47:29.965\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get particle data: 2025-06-21T21:47:34.816\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:11\n\n\nFound 5.445150e+05 particles\nMemory used for data table :38.428720474243164 MB\n-------------------------------------------------------","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"particles.data","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int32\n2   x        Float64\n3   y        Float64\n4   z        Float64\n5   id       Int32\n6   family   Int8\n7   tag      Int8\n8   vx       Float64\n9   vy       Float64\n10  vz       Float64\n11  mass     Float64\n12  birth    Float64","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Projection-of-Predefined-Quantities","page":"Particles","title":"Projection of Predefined Quantities","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"See the possible variables:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projection()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Predefined vars for projections:\n------------------------------------------------\n=====================[gas]:=====================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\nfurther possibilities: :rho, :density, :ρ\n              -derived hydro vars-\n:x, :y, :z\n:sd or :Σ or :surfacedensity\n:mass, :cellsize, :freefall_time\n:cs, :mach, :machx, :machy, :machz, :jeanslength, :jeansnumber\n:t, :Temp, :Temperature with p/rho\n\n==================[particles]:==================\n        all the non derived  vars:\n:cpu, :level, :id, :family, :tag \n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n==============[gas or particles]:===============\n:v, :ekin\nsquared => :vx2, :vy2, :vz2\nvelocity dispersion => σx, σy, σz, σ\n\nrelated to a given center:\n---------------------------\n:vr_cylinder, vr_sphere (radial components)\n:vϕ_cylinder, :vθ\nsquared => :vr_cylinder2, :vϕ_cylinder2\nvelocity dispersion => σr_cylinder, σϕ_cylinder \n\n2d maps (not projected) => :r_cylinder, :ϕ\n\n------------------------------------------------","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)","page":"Particles","title":"Projection of a Single Quantity in Different Directions (z,y,x)","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Here we project the surface density in the z-direction of the data within a particular vertical range (domain=[0:1]) on a grid corresponding to level=9.  Pass any object of PartDataType (here: \"particles\") to the projection-function and select a variable by a Symbol (here: :sd = :surfacedensity = :Σ in Msol/pc^3)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, lmax=9, zrange=[0.45,0.55])\nproj_z = projection(particles, :sd, :Msol_pc2, lmax=9, zrange=[0.45,0.55], verbose=false) # The keyword \"unit\" (singular) can be omit if the following order is preserved: data-object, quantity, unit.\nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9, direction = :x, zrange=[0.45,0.55], verbose=false); # Project the surface density in x-direction","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:47:54.293\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Select-a-Range-Related-to-a-Center","page":"Particles","title":"Select a Range Related to a Center","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"See also in the documentation for: load data by selection","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"cv = (particles.boxlen / 2.) * particles.scale.kpc # provide the box-center in kpc\nproj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                    center=[cv,cv,cv], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:01.995\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:04.467\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:bc], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:06.341\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9, \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:bc, 24., :bc], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:08.585\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Get-Multiple-Quantities","page":"Particles","title":"Get Multiple Quantities","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Get several quantities with one function call by passing an array containing the selected variables (at least one entry). The keyword name for the units is now in plural.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj1_x = projection(particles, [:sd], units=[:Msol_pc2], lmax=9,\n                        direction = :x, \n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:10.492\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Pass an array containing several quantities to process and their corresponding units:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj1_z = projection(particles, [:sd, :vx], units=[:Msol_pc2, :km_s], lmax=9,\n                        direction = :x,\n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:12.140\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The function can be called without any keywords by preserving the following order: dataobject, variables, units","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj1_z = projection(particles, [:sd , :vx], [:Msol_pc2, :km_s], lmax=9,\n                        direction = :x,\n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:14.377\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z = projection(particles, [:vx, :vy, :vz], :km_s, lmax=9,\n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:16.103\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Function-Output","page":"Particles","title":"Function Output","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"List the fields of the assigned object:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"propertynames(projvel_z)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ref_time, :ranges, :extent, :cextent, :ratio, :effres, :pixsize, :boxlen, :scale, :info)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The projected 2D maps are stored in a dictionary:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z.maps # NaN for empty regions","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 4 entries:\n  :sd => [0.0 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … 0.0 0.0; 0.0 0.0 …\n  :vx => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN NaN …\n  :vy => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN NaN …\n  :vz => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN NaN …","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The maps can be accessed by giving the name of the dictionary:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj1_z.maps[:sd]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"214×44 Matrix{Float64}:\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n ⋮                        ⋮              ⋱                 ⋮              \n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0  0.0  0.0  0.0","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The units of the maps are stored in:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z.maps_unit","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 4 entries:\n  :sd => :standard\n  :vx => :km_s\n  :vy => :km_s\n  :vz => :km_s","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The following fields are helpful for further calculations or plots.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z.ranges # normalized to the domain=[0:1]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"6-element Vector{Float64}:\n 0.29166666666647767\n 0.7083333333328743\n 0.29166666666647767\n 0.7083333333328743\n 0.4583333333330363\n 0.5416666666663156","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z.extent # ranges in code units","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"4-element Vector{Float64}:\n 13.96875\n 34.03125\n 13.96875\n 34.03125","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"projvel_z.cextent # ranges in code units relative to a given center (by default: box center)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"4-element Vector{Float64}:\n -10.031250000015554\n  10.031249999984446\n -10.031250000015554\n  10.031249999984446","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj1_z.ratio # the ratio between the two ranges","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"4.863636363636363","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Plot-Maps-with-Python","page":"Particles","title":"Plot Maps with Python","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false) \nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Python functions can be directly called in Julia, which gives the opportunity, e.g. to use the Matplotlib library.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"using PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\ncmap2 = ColorMap(reverse(ColorSchemes.roma.colors))","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: svg)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=-0.5, vmax=1.5)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=-0.5, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Project a specific spatial range and plot the axes of the map relative to the box-center (given by keyword: data_center):","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9, \n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[24.,24.,24.], data_center_unit=:kpc) \nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[24.,24.,24.], data_center_unit=:kpc, \n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=-0.5, vmax=2.)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=-0.5, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Plot the axes of the map relative to the map-center (given by keyword: data_center):","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[19.,19.,24.], data_center_unit=:kpc) \nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[19.,19.,24.], data_center_unit=:kpc, \n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=-0.5, vmax=2.)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=-0.5, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Projections-of-Derived-Kinematic-Data","page":"Particles","title":"Projections of Derived Kinematic Data","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/#Use-quantities-in-cartesian-coordinates:","page":"Particles","title":"Use quantities in cartesian coordinates:","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Project the following derived data (mass weighted by default): The absolute value of the velocity :v, the velocity dispersion :σ in different directions and the kinetic energy :ekin. The Julia language supports Unicode characters and can be inserted by e.g. \"\\sigma + tab-key\" leading to: σ.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, [:v, :σ, :σx, :σy, :σz, :ekin], \n                    units=[:km_s,:km_s,:km_s,:km_s,:km_s,:erg], \n                    lmax=9,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                    center=[24.,24.,24.], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:36.022\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 512^2\nPixel size: 93.75 [pc]\nSimulation min.: 46.875 [pc]\n\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:01","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"For the velocity dispersion additional maps are created to created the mass-weighted quantity: E. g.: σx = sqrt( <vx^2> - < vx >^2 )","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 14 entries:\n  :ekin => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :sd   => [0.0 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … 0.0 0.0; 0.0 0.…\n  :v    => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :v2   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vx   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vx2  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vy   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vy2  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vz   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :vz2  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σ    => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σx   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σy   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σz   => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 14 entries:\n  :ekin => :erg\n  :sd   => :standard\n  :v    => :km_s\n  :v2   => :standard\n  :vx   => :standard\n  :vx2  => :standard\n  :vy   => :standard\n  :vy2  => :standard\n  :vz   => :standard\n  :vz2  => :standard\n  :σ    => :km_s\n  :σx   => :km_s\n  :σy   => :km_s\n  :σz   => :km_s","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"usedmemory(proj_z);","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Memory used: 4.918 MB","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 5.5))\n\nsubplot(2, 3, 1)\ntitle(\"v [km/s]\")\nimshow( (permutedims(proj_z.maps[:v])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmax=300.)\ncolorbar()\n\n\nsubplot(2, 3, 2)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 3)\ntitle(\"Ekin [erg]\")\nimshow( log10.(permutedims(proj_z.maps[:ekin]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 4)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 5)\ntitle(\"σy [km/s]\")\nimshow( (permutedims(proj_z.maps[:σy])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 6)\ntitle(\"σz [km/s]\")\nimshow( (permutedims(proj_z.maps[:σz])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();\n","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Use-quantities-in-cylindrical-coordinates:","page":"Particles","title":"Use quantities in cylindrical coordinates:","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/#Face-on-disc-(z-direction)","page":"Particles","title":"Face-on disc (z-direction)","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"For the cylindrical or spherical components of a quantity, the center of the coordinate system is used (keywords: datacenter = center default) and can be given with the keyword \"datacenter\" and its units with \"datacenterunit\". Additionally, the quantities that are based on cartesian coordinates can be given.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, [:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],                    \n                    units=[:km_s,:km_s,:km_s, :km_s, :standard, :kpc, :km_s, :km_s, :km_s, :km_s], \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                    center=[:boxcenter], range_unit=:kpc,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:40.170\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 1024^2\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => [14.0758 14.0427 … 14.1201 14.1534; 14.0427 14.0096 … 14.087…\n  :sd           => [0.0 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … 0.0 0.0…\n  :v            => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :v2           => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vr_cylinder  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vr_cylinder2 => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vx           => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vx2          => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vy           => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vy2          => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vϕ_cylinder  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :vϕ_cylinder2 => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σ            => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σr_cylinder  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σx           => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σy           => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σϕ_cylinder  => [NaN NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :ϕ            => [3.92699 3.92463 … 2.35306 2.35073; 3.92935 3.92699 … 2.3507…","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => :kpc\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σϕ_cylinder  => :km_s\n  :ϕ            => :radian","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"Radius [kpc]\")\nimshow( permutedims(proj_z.maps[:r_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=\"seismic\", origin=\"lower\", extent=proj_z.cextent, vmin=-50.,vmax=50.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"ϕ-angle\")\nimshow( (permutedims(proj_z.maps[:ϕ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps[:σx]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Project-on-a-Coarser-Grid","page":"Particles","title":"Project on a Coarser Grid","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/#lmax","page":"Particles","title":"lmax","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The default is the projection on the maximum loaded grid level (always provided in the output). Choose a smaller/larger level with the keyword lmax (independend on the maximum level of the simulation) to project on a coarser/finer grid. By default, the data is assumed to be in the center of the simulation box.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, \n                    [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s, \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    lmax=6); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:44.484\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 64^2\nPixel size: 750.0 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The projection onto the maximum loaded grid is always provided:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => [3.6988e-5 6.11725e-5 … 2.84523e-5 4.26785e-6; 0.000146885 8…\n  :v            => [215.727 217.893 … 213.689 211.398; 211.909 214.371 … 215.29…\n  :v2           => [10.8327 11.0472 … 10.6218 10.3945; 10.4511 10.6909 … 10.782…\n  :vr_cylinder  => [-4.97035 9.83744 … 0.326624 -5.23378; -8.36334 3.71396 … 7.…\n  :vr_cylinder2 => [0.0231364 0.0346302 … 0.0196151 0.0344127; 0.0339309 0.0312…\n  :vx           => [2.38824 2.13472 … -2.30736 -2.28246; 2.4166 2.28742 … -2.49…\n  :vx2          => [5.71099 4.56492 … 5.33794 5.23511; 5.844 5.24859 … 6.2532 6…\n  :vy           => [-2.25778 -2.54366 … -2.29652 -2.26901; -2.14059 -2.32778 … …\n  :vy2          => [5.12035 6.48209 … 5.28291 5.15929; 4.60593 5.44099 … 4.5285…\n  :vz           => [-0.032174 0.00624848 … -0.0229633 0.00636579; -0.0269481 -0…\n  :vz2          => [0.00140393 0.000219812 … 0.000962049 0.000127987; 0.0011519…\n  :vϕ_cylinder  => [215.479 217.553 … 213.481 211.046; 211.546 214.042 … 214.91…\n  :vϕ_cylinder2 => [10.8082 11.0124 … 10.6012 10.36; 10.416 10.6583 … 10.7443 1…\n  :σ            => [6.62266 5.19183 … 3.45808 2.9201; 5.96424 4.11213 … 3.61926…\n  :σr_cylinder  => [8.64782 7.22072 … 9.17826 10.9812; 8.71558 10.9816 … 10.005…\n  :σx           => [5.59831 5.83217 … 7.77318 10.4683; 4.16244 8.36784 … 6.5268…\n  :σy           => [9.89835 7.14297 … 6.19364 6.84324; 10.118 9.82426 … 9.42142…\n  :σz           => [1.25926 0.88166 … 1.36727 0.613275; 1.35303 2.02241 … 1.188…\n  :σϕ_cylinder  => [6.7421 5.02267 … 3.52611 2.97303; 6.19423 4.23835 … 3.69795…","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vz           => :standard\n  :vz2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σz           => :km_s\n  :σϕ_cylinder  => :km_s","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"|v| [km/s]\")\nimshow( permutedims(proj_z.maps[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmax=300.)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmin=-200.,vmax=200.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"σz [km/s]\")\nimshow( (permutedims(proj_z.maps[:σz]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( (permutedims(proj_z.maps[:σr_cylinder]  )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σϕ_cylinder] )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx]  )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( (permutedims(proj_z.maps[:σy] )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#res","page":"Particles","title":"res","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Choose the effective resolution (related to the full box) of the projected grid:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, \n                    [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s, \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    res=100); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:48.143\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 100^2\nPixel size: 480.0 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#pxsize","page":"Particles","title":"pxsize","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Choose the pixel size in a physical unit, e.g. pixel-size=100 pc. The data is projected to a grid with a pixel-size that is closest to the given number, but not larger:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, \n                    [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s, \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    pxsize=[100., :pc]); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:48:50.936\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nEffective resolution: 481^2\nPixel size: 99.792 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Projection-of-the-Birth/Age-Time","page":"Particles","title":"Projection of the Birth/Age-Time","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Project the average birth-time of the particles to the grid:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :birth, :Myr,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false); \nproj_x = projection(particles, :birth, :Myr,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x, verbose=false); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:birth])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Birth) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:birth])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Birth) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Project the average age of the particles to the grid. The age is taken relative to the loaded snapshot time by default.","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :age, :Myr,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false); \nproj_x = projection(particles, :age, :Myr,\n                    lmax=8,  zrange=[0.45,0.55], direction=:x,  center=[0.,0.,0.], verbose=false); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The reference time (code units) for the age calculation:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.ref_time","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"29.9031937665063","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Project the average age of the particles relative to a given reference time:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :age, :Myr, ref_time=0.,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false); \nproj_x = projection(particles, :age, :Myr, ref_time = 0.,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x, verbose=false); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"The reference time (code units) for the age calculation:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z.ref_time","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"0.0","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( ( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{Age \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( ( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{Age \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/#Projection-of-Masked-Data","page":"Particles","title":"Projection of Masked Data","text":"","category":"section"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"Mask particles with ages higher than 400 Myr by creating a Bool-array where the smaller ages correspond to false entries:","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"mask = getvar(particles, :age, :Myr) .> 400. ;","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :age, :Myr, mask=mask,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.]); \nproj_x = projection(particles, :age, :Myr, mask=mask,\n                    lmax=8,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x); ","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:49:05.506\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nEffective resolution: 256^2\nPixel size: 187.5 [pc]\nSimulation min.: 46.875 [pc]\n\n:mask provided by function\n\n[Mera]: 2025-06-21T21:49:08.820\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nEffective resolution: 256^2\nPixel size: 187.5 [pc]\nSimulation min.: 46.875 [pc]\n\n:mask provided by function","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/06_particles_Projection/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"examples/LoadFromExistingOutputs/#Load-Data-from-Existing-Outputs","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"","category":"section"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"using Mera","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"*__   __ _______ ______   _______\n|  |_|  |       |    _ | |   _   |\n|       |    ___|   | || |  |_|  |\n|       |   |___|   |_||_|       |\n|       |    ___|    __  |       |\n| ||_|| |   |___|   |  | |   _   |\n|_|   |_|_______|___|  |_|__| |__|","category":"page"},{"location":"examples/LoadFromExistingOutputs/#Load-data-from-a-sequence-of-snapshots","page":"Load Data from Existing Outputs","title":"Load data from a sequence of snapshots","text":"","category":"section"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"for i = 1:10\n    info = getinfo(output=i, \"../../../testing/simulations/manu_sim_sf_L10\", verbose=false)\n    #...gethydro(info)...getparticles(info)... etc.\nend","category":"page"},{"location":"examples/LoadFromExistingOutputs/#Load-data-from-existing-simulations-in-a-given-folder","page":"Load Data from Existing Outputs","title":"Load data from existing simulations in a given folder","text":"","category":"section"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"List the content of a given folder:","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"path = \"../../../testing/simulations/ramses_star_formation\"\nreaddir(path)","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"9-element Array{String,1}:\n \".ipynb_checkpoints\"\n \"output_00001\"      \n \"output_00003\"      \n \"output_00004\"      \n \"output_00007\"      \n \"output_00010\"      \n \"output_00013\"      \n \"output_00016\"      \n \"output_00019\"","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"Get the relevant simulation output-numbers:","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"N = checkoutputs(path);","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"N.outputs","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"7-element Array{Int64,1}:\n  1\n  4\n  7\n 10\n 13\n 16\n 19","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"List of empty simulation folders:","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"N.missing","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"1-element Array{Int64,1}:\n 3","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"Load the data:","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"for i in N.outputs\n    println(\"Output: $i\")\n    info = getinfo(output=i, path, verbose=false)\n    #...gethydro(info)...getparticles(info)... etc.\nend","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"Output: 1\nOutput: 4\nOutput: 7\nOutput: 10\nOutput: 13\nOutput: 16\nOutput: 19","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"Get the physical time of all existing outputs:","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"gettime.(N.outputs, path, :Myr)","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"7-element Array{Float64,1}:\n 0.0               \n 0.6974071892328049\n 0.8722968605999833\n 1.0432588470755855\n 1.2217932462903247\n 1.4016810597086558\n 1.5865234202798626","category":"page"},{"location":"examples/LoadFromExistingOutputs/","page":"Load Data from Existing Outputs","title":"Load Data from Existing Outputs","text":"","category":"page"},{"location":"08_particles_VTK_export/#Particles:-Export-Selected-Variables-to-VTK","page":"Particles","title":"Particles: Export Selected Variables to VTK","text":"","category":"section"},{"location":"08_particles_VTK_export/#Simulation-Overview-and-Load-Particle-Data","page":"Particles","title":"Simulation Overview & Load Particle Data","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"using Mera\n# use compressed Mera file\npath = \"/Volumes/FASTStorage/Simulations/Mera-Tests/AV5CDhr/\";\ninfo = infodata(600, path)\nparticles = loaddata(600, path, :particles); # load full box","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"\u001b[Mera]: 2025-06-28T16:52:16.672\u001b\n\nUse datatype: hydro\nCode: RAMSES\noutput [600] summary:\nmtime: 2024-09-08T15:29:04\nctime: 2024-09-10T11:23:16.230\n\u001b=======================================================\u001b\nsimulation time: 891.71 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 5120\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 13 --> cellsize(s): 750.0 [pc] - 5.86 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   1.353087e+06 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&HYDRO_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&INIT_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b=======================================================\u001b\n\n\u001b[Mera]: 2025-06-28T16:52:22.750\u001b\n\nOpen Mera-file output_00600.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :95.81350612640381 MB\n-------------------------------------------------------","category":"page"},{"location":"08_particles_VTK_export/#Export-Scalars","page":"Particles","title":"Export Scalars","text":"","category":"section"},{"location":"08_particles_VTK_export/#Standard-Export","page":"Particles","title":"Standard Export","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# Export full box with all particles (here only stellar particles)\n\nexport_vtk(\n    particles,                      # loaded data\n    \"output_part01/0600_galaxy\";    # prefix for outputfiles; creates folder output_part01 (if not existing) \n    scalars=[:mass, :age],          # load mass data in Msun and particle age data in Myr\n    scalars_unit=[:Msun, :Myr],\n    scalars_log10=true,             # apply log10 on the scalars\n    positions_unit=:kpc,            # particle positions in kpc (useful in Paraview for region selection)                   \n);","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"\u001b[Mera]: 2025-06-28T16:54:51.056\u001b\n\nAvailable Threads: 1\nTotal particles in dataset: 1353087\nExtracting particle positions...\nExtracting scalar data...\nWriting particle VTU file...\n  wrote 0600_galaxy.vtu (Size: 73.55 MB)\nMemory cleaned\n\n=== Export Summary ===\nParticles exported: 1353087\nParticle VTU file: 0600_galaxy.vtu\nAvailable scalars: mass, age","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"readdir(\"output_part01\")","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"1-element Vector{String}:\n \"0600_galaxy.vtu\"","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# => in Paraview open the vtu file to load all level data","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"08_particles_VTK_export/#Export-Maximum-Number-of-Particles","page":"Particles","title":"Export Maximum Number of Particles","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# Export full box (here only stellar particles)\n# -> limit the number of particles\n\nexport_vtk(\n    particles,                      # loaded data\n    \"output_part03/0600_galaxy\";    # prefix for outputfiles; creates folder output_part03 (if not existing) \n    scalars=[:age],                 # load age data in Myra\n    scalars_unit=[:Myr],\n    scalars_log10=true,             # apply log10 on the scalars\n    positions_unit=:kpc,            # particle positions in kpc (useful in Paraview for region selection)\n\n    max_particles=1_000             # (caps output if exceeded)\n);","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"\u001b[Mera]: 2025-06-28T16:57:30.111\u001b\n\nAvailable Threads: 1\nTotal particles in dataset: 1353087\nLimiting export to 1000 particles (from 1353087)\nExtracting particle positions...\nExtracting scalar data...\nWriting particle VTU file...\n  wrote 0600_galaxy.vtu (Size: 0.05 MB)\nMemory cleaned\n\n=== Export Summary ===\nParticles exported: 1000\nParticle VTU file: 0600_galaxy.vtu\nAvailable scalars: age","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"readdir(\"output_part03\")","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"1-element Vector{String}:\n \"0600_galaxy.vtu\"","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# => in Paraview open the vtu file to load all level data","category":"page"},{"location":"08_particles_VTK_export/#Export-Scalars-and-Vector","page":"Particles","title":"Export Scalars and Vector","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# Export full box with particles (here only stellar particles)\n\nexport_vtk(\n    particles,                      # loaded data\n    \"output_part04/0600_galaxy\";    # prefix for outputfiles; creates folder output_part04 (if not existing) \n    scalars=[:age],                 # load age data in Myr\n    scalars_unit=[:Msun],\n    scalars_log10=true,             # apply log10 on the scalars\n    positions_unit=:kpc,            # particle positions in kpc (useful in Paraview for region selection)\n\n    vector=[:vx, :vy, :vz],         # velocity components and its units\n    vector_unit=:km_s,\n    vector_name=\"velocity\"          # vector name recognized by Paraview\n);","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"\u001b[Mera]: 2025-06-28T16:58:14.003\u001b\n\nAvailable Threads: 1\nCreated directory: output_part04\nTotal particles in dataset: 1353087\nExtracting particle positions...\nExtracting scalar data...\nExtracting vector data...\nVector matrix dimensions: (3, 1353087) (should be 3×1353087)\nWriting particle VTU file...\n  wrote 0600_galaxy.vtu (Size: 94.2 MB)\nMemory cleaned\n\n=== Export Summary ===\nParticles exported: 1353087\nParticle VTU file: 0600_galaxy.vtu\nAvailable scalars: age\nAvailable vector: velocity","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"readdir(\"output_part04\")","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"1-element Vector{String}:\n \"0600_galaxy.vtu\"","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# => in Paraview open\n# - the vtu file to load all particle scalar and vector data","category":"page"},{"location":"08_particles_VTK_export/#Visualisation-in-Paraview","page":"Particles","title":"Visualisation in Paraview","text":"","category":"section"},{"location":"08_particles_VTK_export/#Visualize-Particles-in-3D","page":"Particles","title":"Visualize Particles in 3D","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# Export full box with scalars and vector data\n\nexport_vtk(\n    particles,                      # loaded data\n    \"output_part05/0600_galaxy\";    # prefix for outputfiles; creates folder output05 (if not existing) \n    scalars=[:id, :age],            # load density data in cm^-3 \n    scalars_unit=[:standard, :Myr],\n    positions_unit=:kpc,            # particle positions in kpc (useful in Paraview for region selection)\n\n    vector=[:vx, :vy, :vz],         # velocity components and its units\n    vector_unit=:km_s,\n    vector_name=\"velocity\"          # vector name recognized by Paraview\n);","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"\u001b[Mera]: 2025-06-28T17:02:48.237\u001b\n\nAvailable Threads: 1\nCreated directory: output_part05\nTotal particles in dataset: 1353087\nExtracting particle positions...\nExtracting scalar data...\nExtracting vector data...\nVector matrix dimensions: (3, 1353087) (should be 3×1353087)\nWriting particle VTU file...\n  wrote 0600_galaxy.vtu (Size: 104.52 MB)\nMemory cleaned\n\n=== Export Summary ===\nParticles exported: 1353087\nParticle VTU file: 0600_galaxy.vtu\nAvailable scalars: id, age\nAvailable vector: velocity","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"readdir(\"output_part05\")","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"1-element Vector{String}:\n \"0600_galaxy.vtu\"","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"Load Data-File","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"(Image: )","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"Select age information","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"(Image: )","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# => save state","category":"page"},{"location":"08_particles_VTK_export/#Visualize-Particles-and-Vectors","page":"Particles","title":"Visualize Particles & Vectors","text":"","category":"section"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"Select Glyphs, arrow orientation, number of sample points","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"(Image: )","category":"page"},{"location":"08_particles_VTK_export/","page":"Particles","title":"Particles","text":"# => save state","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#6.-Hydro:-Projections","page":"Hydro","title":"6. Hydro: Projections","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/#Load-The-Data","page":"Hydro","title":"Load The Data","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"using Mera\ninfo = getinfo(300,  \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");\ngas  = gethydro(info, lmax=10); ","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:41:13.424\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get hydro data: 2025-06-21T21:41:16.897\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:58\n\n\nMemory used for data table :2.321086215786636 GB\n-------------------------------------------------------","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"gas.data","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Projection-of-Predefined-Quantities","page":"Hydro","title":"Projection of Predefined Quantities","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"See the possible variables:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"projection()","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Predefined vars for projections:\n------------------------------------------------\n=====================[gas]:=====================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\nfurther possibilities: :rho, :density, :ρ\n              -derived hydro vars-\n:x, :y, :z\n:sd or :Σ or :surfacedensity\n:mass, :cellsize, :freefall_time\n:cs, :mach, :machx, :machy, :machz, :jeanslength, :jeansnumber\n:t, :Temp, :Temperature with p/rho\n\n==================[particles]:==================\n        all the non derived  vars:\n:cpu, :level, :id, :family, :tag \n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n==============[gas or particles]:===============\n:v, :ekin\nsquared => :vx2, :vy2, :vz2\nvelocity dispersion => σx, σy, σz, σ\n\nrelated to a given center:\n---------------------------\n:vr_cylinder, vr_sphere (radial components)\n:vϕ_cylinder, :vθ\nsquared => :vr_cylinder2, :vϕ_cylinder2\nvelocity dispersion => σr_cylinder, σϕ_cylinder \n\n2d maps (not projected) => :r_cylinder, :ϕ\n\n------------------------------------------------","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)","page":"Hydro","title":"Projection of a Single Quantity in Different Directions (z,y,x)","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Here we project the surface density in the z-direction of the data within a particular vertical range (domain=[0:1]) onto a grid corresponding to the maximum loaded level.  Pass any object of HydroDataType (here: \"gas\") to the projection-function and select a variable by a Symbol (here: :sd = :surfacedensity = :Σ in Msol/pc^3)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, zrange=[0.45,0.55])\nproj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], verbose=false) # The keyword \"unit\" (singular) can be omit if the following order is preserved: data-object, quantity, unit.\nproj_x = projection(gas, :sd, :Msol_pc2, direction = :x, zrange=[0.45,0.55], verbose=false); # Project the surface density in x-direction","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:42:56.064\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 1024 x 1024\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Select-a-Range-Related-to-a-Center","page":"Hydro","title":"Select a Range Related to a Center","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"See also in the documentation for: load data by selection","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"cv = (gas.boxlen / 2.) * gas.scale.kpc # provide the box-center in kpc\nproj_z = projection(gas, :sd, :Msol_pc2, \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                    center=[cv,cv,cv], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:05.692\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:08.371\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:bc], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:10.456\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                        center=[:bc, 24., :bc], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:12.889\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Get-Multiple-Quantities","page":"Hydro","title":"Get Multiple Quantities","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Get several quantities with one function call by passing an array containing the selected variables (at least one entry). The keyword name for the units is now in plural.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_x = projection(gas, [:sd], units=[:Msol_pc2], \n                        direction = :x, \n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:15.377\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 86\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Pass an array containing several quantities to process and their corresponding units:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z = projection(gas, [:sd, :vx], units=[:Msol_pc2, :km_s], \n                        direction = :x,\n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:18.038\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd, :vx) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 86\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The function can be called without any keywords by preserving the following order: dataobject, variables, units","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z = projection(gas, [:sd , :vx], [:Msol_pc2, :km_s], \n                        direction = :x,\n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:21.222\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd, :vx) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 86\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"projvel_z = projection(gas, [:vx, :vy, :vz], :km_s, \n                        xrange=[-10.,10.], \n                        yrange=[-10.,10.], \n                        zrange=[-2.,2.], \n                        center=[24.,24.,24.], \n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:23.865\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:vx, :vy, :vz, :sd) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Function-Output","page":"Hydro","title":"Function Output","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"List the fields of the assigned object:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"propertynames(proj1_z)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(:maps, :maps_unit, :maps_lmax, :maps_weight, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :effres, :pixsize, :boxlen, :smallr, :smallc, :scale, :info)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The projected 2D maps are stored in a dictionary:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.maps","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 2 entries:\n  :sd => [0.140277 0.140277 … 0.101278 0.101278; 0.140277 0.140277 … 0.101278 0…\n  :vx => [77.1704 77.1704 … 129.681 129.681; 77.1704 77.1704 … 129.681 129.681;…","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The maps can be accessed by giving the name of the dictionary:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.maps[:sd]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"428×86 Matrix{Float64}:\n 0.140277   0.140277   0.129794   …  0.343855   0.101278   0.101278\n 0.140277   0.140277   0.129794      0.343855   0.101278   0.101278\n 0.137395   0.137395   0.136911      0.281761   0.0723861  0.0723861\n 0.137395   0.137395   0.136911      0.281761   0.0723861  0.0723861\n 0.111983   0.111983   0.136992      0.202348   0.051991   0.051991\n 0.111983   0.111983   0.136992   …  0.202348   0.051991   0.051991\n 0.0716589  0.0716589  0.122821      0.124959   0.0443155  0.0443155\n 0.0716589  0.0716589  0.122821      0.124959   0.0443155  0.0443155\n 0.0542019  0.0542019  0.0880136     0.0762129  0.0425661  0.0425661\n 0.0542019  0.0542019  0.0880136     0.0762129  0.0425661  0.0425661\n 0.0525677  0.0525677  0.0667757  …  0.0554828  0.0435821  0.0435821\n 0.0525677  0.0525677  0.0667757     0.0554828  0.0435821  0.0435821\n 0.0550184  0.0550184  0.0604652     0.0506024  0.0440759  0.0440759\n ⋮                                ⋱                        ⋮\n 0.34605    0.34605    0.436999      0.640066   0.634126   0.634126\n 0.34605    0.34605    0.436999      0.640066   0.634126   0.634126\n 0.286503   0.286503   0.39705       0.658142   0.639295   0.639295\n 0.286503   0.286503   0.39705       0.658142   0.639295   0.639295\n 0.199275   0.199275   0.302888   …  0.667026   0.640109   0.640109\n 0.199275   0.199275   0.302888      0.667026   0.640109   0.640109\n 0.128232   0.128232   0.211891      0.656377   0.612723   0.612723\n 0.128232   0.128232   0.211891      0.656377   0.612723   0.612723\n 0.0817203  0.0817203  0.132222      0.631934   0.558517   0.558517\n 0.0817203  0.0817203  0.132222   …  0.631934   0.558517   0.558517\n 0.056342   0.056342   0.0796691     0.567965   0.484554   0.484554\n 0.056342   0.056342   0.0796691     0.567965   0.484554   0.484554","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The units of the maps are stored in:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 2 entries:\n  :sd => :Msol_pc2\n  :vx => :km_s","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Projections on a different grid size (see subject below):","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.maps_lmax","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering}()","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The following fields are helpful for further calculations or plots.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.ranges # normalized to the domain=[0:1]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"6-element Vector{Float64}:\n 0.29166666666647767\n 0.7083333333328743\n 0.29166666666647767\n 0.7083333333328743\n 0.4583333333330363\n 0.5416666666663156","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.extent # ranges in code units","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"4-element Vector{Float64}:\n 13.96875\n 34.03125\n 21.984375\n 26.015625","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.cextent # ranges in code units relative to a given center (by default: box center)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"4-element Vector{Float64}:\n -10.031250000015556\n  10.031249999984444\n  -2.0156250000155556\n   2.0156249999844444","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj1_z.ratio # the ratio between the two ranges","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"4.976744186046512","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Plot-Maps-with-Python","page":"Hydro","title":"Plot Maps with Python","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, \n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false) \nproj_x = projection(gas, :sd, :Msol_pc2, \n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Python functions can be directly called in Julia, which gives the opportunity, e.g. to use the Matplotlib library.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"using PyPlot\nusing ColorSchemes\ncmap3 = ColorMap(ColorSchemes.Blues.colors)\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\ncmap2 = ColorMap(reverse(ColorSchemes.roma.colors))\n","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: svg)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Project a specific spatial range and plot the axes of the map relative to the box-center (given by keyword: data_center):","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, \n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[24.,24.,24.], data_center_unit=:kpc) \nproj_x = projection(gas, :sd, :Msol_pc2, \n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[24.,24.,24.], data_center_unit=:kpc, \n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Plot the axes of the map relative to the map-center (given by keyword: data_center):","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, \n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[19.,19.,24.], data_center_unit=:kpc) \nproj_x = projection(gas, :sd, :Msol_pc2, \n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false, \n                    data_center=[19.,19.,24.], data_center_unit=:kpc, \n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Projections-of-Derived-Kinematic-Data","page":"Hydro","title":"Projections of Derived Kinematic Data","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/#Use-quantities-in-cartesian-coordinates:","page":"Hydro","title":"Use quantities in cartesian coordinates:","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Project the following derived data (mass weighted by default): The absolute value of the velocity :v, the velocity dispersion :σ in different directions. The Julia language supports Unicode characters and can be inserted by e.g. \"\\sigma + tab-key\" leading to: σ.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz], :km_s, \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.], \n                    center=[24.,24.,24.], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:48.519\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :sd) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"For the velocity dispersion additional maps are created to created the mass-weighted quantity: E. g.: σx = sqrt( <vx^2> - < vx >^2 )","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z.maps","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 13 entries:\n  :sd  => [6.72622e-5 6.72622e-5 … 0.000160722 0.000160722; 6.72622e-5 6.72622e…\n  :v   => [199.636 199.636 … 206.345 206.345; 199.636 199.636 … 206.345 206.345…\n  :v2  => [9.49526 9.49526 … 9.94811 9.94811; 9.49526 9.49526 … 9.94811 9.94811…\n  :vx  => [2.19766 2.19766 … -2.43625 -2.43625; 2.19766 2.19766 … -2.43625 -2.4…\n  :vx2 => [4.96452 4.96452 … 6.02999 6.02999; 4.96452 4.96452 … 6.02999 6.02999…\n  :vy  => [-2.08913 -2.08913 … -1.95508 -1.95508; -2.08913 -2.08913 … -1.95508 …\n  :vy2 => [4.50785 4.50785 … 3.87093 3.87093; 4.50785 4.50785 … 3.87093 3.87093…\n  :vz  => [-0.00773906 -0.00773906 … 0.139107 0.139107; -0.00773906 -0.00773906…\n  :vz2 => [0.0228872 0.0228872 … 0.0472034 0.0472034; 0.0228872 0.0228872 … 0.0…\n  :σ   => [31.244 31.244 … 14.1307 14.1307; 31.244 31.244 … 14.1307 14.1307; … …\n  :σx  => [24.078 24.078 … 20.1775 20.1775; 24.078 24.078 … 20.1775 20.1775; … …\n  :σy  => [24.8311 24.8311 … 14.4541 14.4541; 24.8311 24.8311 … 14.4541 14.4541…\n  :σz  => [9.90758 9.90758 … 10.9439 10.9439; 9.90758 9.90758 … 10.9439 10.9439…","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 13 entries:\n  :sd  => :standard\n  :v   => :km_s\n  :v2  => :standard\n  :vx  => :standard\n  :vx2 => :standard\n  :vy  => :standard\n  :vy2 => :standard\n  :vz  => :standard\n  :vz2 => :standard\n  :σ   => :km_s\n  :σx  => :km_s\n  :σy  => :km_s\n  :σz  => :km_s","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"usedmemory(proj_z);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Memory used: 19.595 MB","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 5.5))\n\nsubplot(2, 3, 1)\ntitle(\"v [km/s]\")\nimshow( (permutedims(proj_z.maps[:v])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 2)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(2, 3, 4)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 5)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 6)\ntitle(\"σz [km/s]\")\nimshow( permutedims(proj_z.maps[:σz]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();\n","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Use-quantities-in-cylindrical-coordinates:","page":"Hydro","title":"Use quantities in cylindrical coordinates:","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/#Face-on-disc-(z-direction)","page":"Hydro","title":"Face-on disc (z-direction)","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"For the cylindrical or spherical components of a quantity, the center of the coordinate system is used (keywords: datacenter = center default) and can be given with the keyword \"datacenter\" and its units with \"datacenterunit\". Additionally, the quantities that are based on cartesian coordinates can be given.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],                    \n                    units=[:km_s,:km_s,:km_s, :km_s, :standard, :kpc, :km_s, :km_s, :km_s, :km_s], \n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    data_center=[24.,24.,24.],\n                    data_center_unit=:kpc); ","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:43:52.471\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 428 x 428\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z.maps","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => [14.0758 14.0427 … 14.1201 14.1534; 14.0427 14.0096 … 14.087…\n  :sd           => [6.72622e-5 6.72622e-5 … 0.000160722 0.000160722; 6.72622e-5…\n  :v            => [199.636 199.636 … 206.345 206.345; 199.636 199.636 … 206.34…\n  :v2           => [9.49526 9.49526 … 9.94811 9.94811; 9.49526 9.49526 … 9.9481…\n  :vr_cylinder  => [-5.03238 -5.03238 … 21.3971 21.3971; -5.03238 -5.03238 … 21…\n  :vr_cylinder2 => [0.0148288 0.0148288 … 0.163113 0.163113; 0.0148288 0.014828…\n  :vx           => [2.19766 2.19766 … -2.43625 -2.43625; 2.19766 2.19766 … -2.4…\n  :vx2          => [4.96452 4.96452 … 6.02999 6.02999; 4.96452 4.96452 … 6.0299…\n  :vy           => [-2.08913 -2.08913 … -1.95508 -1.95508; -2.08913 -2.08913 … …\n  :vy2          => [4.50785 4.50785 … 3.87093 3.87093; 4.50785 4.50785 … 3.8709…\n  :vϕ_cylinder  => [198.773 198.773 … 203.718 203.718; 198.773 198.773 … 203.71…\n  :vϕ_cylinder2 => [9.45754 9.45754 … 9.7378 9.7378; 9.45754 9.45754 … 9.7378 9…\n  :σ            => [31.244 31.244 … 14.1307 14.1307; 31.244 31.244 … 14.1307 14…\n  :σr_cylinder  => [6.20005 6.20005 … 15.6067 15.6067; 6.20005 6.20005 … 15.606…\n  :σx           => [24.078 24.078 … 20.1775 20.1775; 24.078 24.078 … 20.1775 20…\n  :σy           => [24.8311 24.8311 … 14.4541 14.4541; 24.8311 24.8311 … 14.454…\n  :σϕ_cylinder  => [34.0278 34.0278 … 19.3093 19.3093; 34.0278 34.0278 … 19.309…\n  :ϕ            => [3.92699 3.92463 … 2.35306 2.35073; 3.92935 3.92699 … 2.3507…","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"DataStructures.SortedDict{Any, Any, Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => :kpc\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σϕ_cylinder  => :km_s\n  :ϕ            => :radian","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"Radius [kpc]\")\nimshow( permutedims(proj_z.maps[:r_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=\"seismic\", origin=\"lower\", extent=proj_z.cextent, vmin=-20.,vmax=20.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"ϕ-angle \")\nimshow( permutedims(proj_z.maps[:ϕ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( permutedims(proj_z.maps[:σ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps[:σx] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Project-on-a-Coarser-Grid","page":"Hydro","title":"Project on a Coarser Grid","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/#lmax","page":"Hydro","title":"lmax","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The default is the projection on the maximum loaded grid level (always provided in the output). Choose a smaller/larger level with the keyword lmax (independend on the maximum level of the simulation) to project on a coarser/finer grid. By default, the data is assumed to be in the center of the simulation box.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    lmax=6); ","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:44:10.576\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd) \nWeighting      = :mass\n\nEffective resolution: 64^2\nMap size: 28 x 28\nPixel size: 750.0 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"# this corresponds to an effective resolution of:\nproj_z.effres","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"64","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"v [km/s]\")\nimshow( permutedims(proj_z.maps[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=\"seismic\", origin=\"lower\", extent=proj_z.cextent, vmin=-20.,vmax=20.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"σz [km/s]\")\nimshow( permutedims(proj_z.maps[:σz] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( permutedims(proj_z.maps[:σ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps[:σx]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#res","page":"Hydro","title":"res","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Choose the effective resolution (related to the full box) of the projected grid:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    res=100); ","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:44:28.315\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd) \nWeighting      = :mass\n\nEffective resolution: 100^2\nMap size: 42 x 42\nPixel size: 480.0 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#pxsize","page":"Hydro","title":"pxsize","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Choose the pixel size in a physical unit, e.g. pixel-size=100 pc. The data is projected to a grid with a pixel-size that is closest to the given number, but not larger:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder], \n                    :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    pxsize=[100., :pc]); ","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:44:44.401\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd) \nWeighting      = :mass\n\nEffective resolution: 481^2\nMap size: 201 x 201\nPixel size: 99.792 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Projection-of-Thermal-Data","page":"Hydro","title":"Projection of Thermal Data","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"The the sound speed is calculated from the loaded adiabatic index (from the hydro files):","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.4, 0.6], yrange=[0.4, 0.6])\nproj_x = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.4, 0.6], yrange=[0.4, 0.6], direction=:x);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:45:00.007\n\ndomain:\nxmin::xmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\nymin::ymax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:cs, :sd) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 206 x 206\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]\n\n[Mera]: 2025-06-21T21:45:02.194\n\ndomain:\nxmin::xmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\nymin::ymax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:cs, :sd) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 206 x 104\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 3.5))\n\nsubplot(1, 2, 1)\nim = imshow( log10.(permutedims(proj_z.maps[:cs])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(c_s) \\ [km \\ s^{-1}]}\")\n\n\nsubplot(1, 2, 2)\nim = imshow( log10.(permutedims(proj_x.maps[:cs]) ), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(c_s) \\ [km \\ s^{-1}]}\",orientation=\"horizontal\", pad=0.2);\n","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Change the adiabatic index in the field gas.info.gamma to use a different value in the projection calculation.","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Projection-of-Masked-Data","page":"Hydro","title":"Projection of Masked Data","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Mask higher densities by creating a Bool-array where the lower density cells correspond to false entries:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"#density = 4e-3 / gas.scale.Msol_pc3\n#mask = map(row->row.rho < density, gas.data);\n\nmask_nH = getvar(gas, :rho, :nH) .< 1. # cm-3\nmask_T = getvar(gas, :Temperature, :K) .< 1e4 # K\n\nmask_tot = mask_nH .* mask_T;","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Pass the mask to the projection function:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask_tot)\nproj_x = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask_tot, direction=:x);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:45:05.872\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 1024 x 1024\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]\n\n:mask provided by function\n\n[Mera]: 2025-06-21T21:45:07.601\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 1024^2\nMap size: 1024 x 104\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]\n\n:mask provided by function","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);\ntight_layout()","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/#Weighting-Integration","page":"Hydro","title":"Weighting - Integration","text":"","category":"section"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"By default, the data is weighted by mass, except for the surface density. Choose different weightings, e.g., volume:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :cs, :km_s, weighting=[:volume]);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:45:09.460\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nSelected var(s)=(:cs,) \nWeighting      = :volume\n\nEffective resolution: 1024^2\nMap size: 1024 x 1024\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"Any quantity that is predefined (see: projection(), getvar()) or is part of the data-table can be selected. Furthermore, a unit can be given, e.g., for volume with cm3:","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :cs, :km_s, weighting=[:volume, :cm3]);","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T21:45:37.661\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nSelected var(s)=(:cs,) \nWeighting      = :volume\n\nEffective resolution: 1024^2\nMap size: 1024 x 1024\nPixel size: 46.875 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"06_hydro_Projection/06_hydro_Projection/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#3.-Hydro:-Get-Sub-Regions-of-The-Loaded-Data","page":"Hydro","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Load-the-Data","page":"Hydro","title":"Load the Data","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"using Mera, PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\n\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\")\ngas  = gethydro(info, :rho, lmax=10, smallr=1e-5); ","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:23:22.753\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get hydro data: 2020-02-18T23:23:32.417\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1,) = (:rho,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:02:49\n\n\nMemory used for data table :186.1558656692505 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cuboid-Region","page":"Hydro","title":"Cuboid Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Create-projections-of-the-full-box:","page":"Hydro","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:03","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The generated objects include, e.g. the extent of the processed domain, that can be used to declare the specific range of the plots, while the field cextent gives the extent related to a given center (default: [0.,0.,0.]).","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"propertynames(proj_z)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :boxlen, :smallr, :smallc, :scale, :info)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Hydro","title":"Cuboid Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"Hydro","title":"Cuboid Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"Note: The selected regions can be given relative to a user given center or to the box corner '[0., 0., 0.]' by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion( gas, :cuboid, \n                            xrange=[-4., 0.], \n                            yrange=[-15., 15.], \n                            zrange=[-2., 2.], \n                            center=[:boxcenter], \n                            range_unit=:kpc);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:06.861\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :47.87415790557861 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The function subregion creates a new object with the same type as the object created by the function gethydro :","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"typeof(gas_subregion)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"HydroDataType","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cuboid-Region:-Projections-of-the-sub-region.","page":"Hydro","title":"Cuboid Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Hydro","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion( gas, :cuboid,\n                            xrange=[-4., 0.], \n                            yrange=[-15., 15.],\n                            zrange=[-2., 2.], \n                            center=[:boxcenter], \n                            range_unit=:kpc, \n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:09.597\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :138.2824068069458 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:01","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region","page":"Hydro","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-2","page":"Hydro","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:01\n\u001b100%|███████████████████████████████████████████████████| Time: 0:00:01","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Hydro","title":"Cylindrical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"Hydro","title":"Cylindrical Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion(  gas, :cylinder,\n                            radius=3., \n                            height=2., \n                            range_unit=:kpc, \n                            center=[13., :bc, :bc]); # direction=:z, by default","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:24.715\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :9.945767402648926 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region.","page":"Hydro","title":"Cylindrical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region-rekated-ti-a-given-data-center:","page":"Hydro","title":"Cylindrical Region: Projections of the sub-region rekated ti a given data center:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:z, center=[13., 24.,24.], range_unit=:kpc, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:y, center=[13., 24.,24.], range_unit=:kpc, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:x, center=[13., 24.,24.], range_unit=:kpc, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:","page":"Hydro","title":"The ranges of the plots are now adapted to the given data center:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Hydro","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion(  gas, :cylinder, \n                            radius=3., \n                            height=2., \n                            range_unit=:kpc, \n                            center=[13.,:bc,:bc], \n                            inverse=true); # direction=:z, by default","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:29.071\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :176.2107973098755 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Region","page":"Hydro","title":"Spherical Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-3","page":"Hydro","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:01","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Hydro","title":"Spherical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"Hydro","title":"Spherical Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion(  gas, :sphere, \n                            radius=10., \n                            range_unit=:kpc, \n                            center=[13.,:bc,:bc]);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:42.261\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :57.03980731964111 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Region:-Projections-of-the-sub-region.","page":"Hydro","title":"Spherical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Hydro","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = subregion(  gas, :sphere, \n                            radius=10., \n                            range_unit=:kpc, \n                            center=[13.,:bc,:bc], \n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:27:46.433\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :129.1167573928833 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"Hydro","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-or-nested-ranges)","page":"Hydro","title":"The sub-region functions can be used in any combination with each other! (Combined with overlapping or nested ranges)","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"One Example:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"comb_region = subregion(gas, :cuboid, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc, verbose=false)\ncomb_region2 = subregion(comb_region, :sphere, radius=12., center=[40.,24.,24.], range_unit=:kpc, inverse=true, verbose=false)\ncomb_region3 = subregion(comb_region2, :sphere, radius=12., center=[8.,24.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region4 = subregion(comb_region3, :sphere, radius=12., center=[24.,5.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region5 = subregion(comb_region4, :sphere, radius=12., center=[24.,43.,24.], range_unit=:kpc, inverse=true, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Shell","page":"Hydro","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-4","page":"Hydro","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:02","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Hydro","title":"Cylindrical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Shell:","page":"Hydro","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = shellregion( gas, :cylinder, \n                            radius=[5., 10.], \n                            height=2., \n                            range_unit=:kpc, \n                            center=[:boxcenter]);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:28:03.834\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :53.790066719055176 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):","page":"Hydro","title":"Cylindrical Shell: Get the data outside of the selected shell (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = shellregion(gas, :cylinder, \n                            radius=[5., 10.], \n                            height=2., \n                            range_unit=:kpc, \n                            center=[:boxcenter], \n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:28:06.945\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :132.36649799346924 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Shell","page":"Hydro","title":"Spherical Shell","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-5","page":"Hydro","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"\u001b100%|███████████████████████████████████████████████████| Time: 0:00:02\n\u001b100%|███████████████████████████████████████████████████| Time: 0:00:02\n\u001b100%|███████████████████████████████████████████████████| Time: 0:00:01","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Hydro","title":"Spherical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Shell:","page":"Hydro","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = shellregion(gas, :sphere, \n                            radius=[5., 10.], \n                            range_unit=:kpc, \n                            center=[24.,24.,24.]);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:28:21.357\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :56.55305194854736 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Shell:-Projections-of-the-shell-region.","page":"Hydro","title":"Spherical Shell: Projections of the shell-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"Hydro","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"gas_subregion = shellregion(gas, :sphere,\n                            radius=[5., 10.], \n                            range_unit=:kpc, \n                            center=[:boxcenter], \n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"[Mera]: 2020-02-18T23:28:25.267\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :129.60351276397705 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/03_hydro_Get_Subregions/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#3.-Particles:-Get-Sub-Regions-of-Loaded-the-Data","page":"Particles","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Load-the-Data","page":"Particles","title":"Load the Data","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"using Mera, PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\n\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\nparticles = getparticles(info, :mass); ","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:29:31.468\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get particle data: 2020-02-18T23:29:46.476\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(4,) = (:mass,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\nReading data...100%|████████████████████████████████████| Time: 0:00:03\n\n\nFound 5.089390e+05 particles\nMemory used for data table :19.4152889251709 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cuboid-Region","page":"Particles","title":"Cuboid Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Create-projections-of-the-full-box:","page":"Particles","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The generated objects include, e.g. the extent of the processed domain, that can be used to declare the specific range of the plots, while the field cextent gives the extent related to a given center (default: [0.,0.,0.]).","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"propertynames(proj_z)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ref_time, :ranges, :extent, :cextent, :ratio, :boxlen, :scale, :info)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Particles","title":"Cuboid Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"Particles","title":"Cuboid Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"Note: The selected regions can be given relative to a user given center or to the box corner [0., 0., 0.] by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion( particles, :cuboid,\n                                    xrange=[-4., 0.], \n                                    yrange=[-15. ,15.], \n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc );","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:10.393\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :10.259977340698242 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The function subregion creates a new object with the same type as the object created by the function getparticles :","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"typeof(part_subregion)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"PartDataType","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cuboid-Region:-Projections-of-the-sub-region.","page":"Particles","title":"Cuboid Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Particles","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion( particles, :cuboid, \n                                    xrange=[-4., 0.], \n                                    yrange=[-15. ,15.], \n                                    zrange=[-2. ,2.],\n                                    center=[24.,24.,24.],\n                                    range_unit=:kpc,\n                                    inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:12.491\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :9.156118392944336 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region","page":"Particles","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Create-projections-of-the-full-box:-2","page":"Particles","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Particles","title":"Cylindrical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"Particles","title":"Cylindrical Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion(particles, :cylinder,\n                            radius=3.,\n                            height=2.,\n                            range_unit=:kpc, \n                            center=[13.,:bc,:bc],\n                            direction=:z);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:15.671\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :578.951171875 KB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region.","page":"Particles","title":"Cylindrical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region-py-passing-a-different-center:","page":"Particles","title":"Cylindrical Region: Projections of the sub-region py passing a different center:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:z, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:y, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:x, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:","page":"Particles","title":"The ranges of the plots are now adapted to the given data center:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Particles","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion(particles, :cylinder,\n                                    radius=3.,\n                                    height=2.,\n                                    range_unit=:kpc, \n                                    center=[ (24. -11.),:bc,:bc],\n                                    direction=:z,\n                                    inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:19.162\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :18.8507137298584 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Region","page":"Particles","title":"Spherical Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Create-projections-of-the-full-box:-3","page":"Particles","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Particles","title":"Spherical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"Particles","title":"Spherical Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion( particles, :sphere, \n                            radius=10.,\n                            range_unit=:kpc, \n                            center=[(24. -11.),24.,24.]);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:22.122\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :8.807950973510742 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Region:-Projections-of-the-sub-region.","page":"Particles","title":"Spherical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"Particles","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = subregion( particles, :sphere,\n                            radius=10.,\n                            range_unit=:kpc, \n                            center=[(24. -11.),24.,24.], \n                            inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:23.142\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :10.608144760131836 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"Particles","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#The-sub-region-and-shell-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)","page":"Particles","title":"The sub-region and shell functions can be used in any combination with each other! (Combined with overlapping ranges or nested)","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"One Example:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"comb_region = subregion(particles, :cuboid, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc, verbose=false)\ncomb_region2 = subregion(comb_region, :sphere, radius=12., center=[40.,24.,24.], range_unit=:kpc, inverse=true, verbose=false)\ncomb_region3 = subregion(comb_region2, :sphere, radius=12., center=[8.,24.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region4 = subregion(comb_region3, :sphere, radius=12., center=[24.,5.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region5 = subregion(comb_region4, :sphere, radius=12., center=[24.,43.,24.], range_unit=:kpc, inverse=true, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter],direction=:y, verbose=false);\nproj_x = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter],direction=:x, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Shell","page":"Particles","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Create-projections-of-the-full-box:-4","page":"Particles","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Shell:-The-red-lines-show-the-shell-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Particles","title":"Cylindrical Shell: The red lines show the shell we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Shell:","page":"Particles","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = shellregion( particles, :cylinder,\n                                radius=[5.,10.], \n                                height=2., \n                                range_unit=:kpc, \n                                center=[:boxcenter]);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:28.41\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :7.282835006713867 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):","page":"Particles","title":"Cylindrical Shell: Get the data outside of the selected shell (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = shellregion( particles, :cylinder,\n                                radius=[5.,10.], \n                                height=2., \n                                range_unit=:kpc, \n                                center=[:boxcenter],\n                                inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:30.228\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :12.133260726928711 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"<a id=\"ShellRegionSphere\"></a>","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Shell","page":"Particles","title":"Spherical Shell","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Create-projections-of-the-full-box:-5","page":"Particles","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"Particles","title":"Spherical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Shell:","page":"Particles","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = shellregion( particles, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc, \n                                center=[24.,24.,24.]);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:34.32\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :7.592016220092773 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Shell:-Projections-of-the-shell-region.","page":"Particles","title":"Spherical Shell: Projections of the shell-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext); \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"Particles","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"part_subregion = shellregion( particles, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc, \n                                center=[:boxcenter], \n                                inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"[Mera]: 2020-02-18T23:30:35.378\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :11.824079513549805 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext) \n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/03_particles_Get_Subregions/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"03_hydro_Get_Subregions/#3.-Hydro:-Get-Sub-Regions-of-The-Loaded-Data","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Load-the-Data","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Load the Data","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"using Mera, PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\n\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\")\ngas  = gethydro(info, :rho, lmax=10, smallr=1e-5);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:23:22.753\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b\n\n\u001b [Mera]: Get hydro data: 2020-02-18T23:23:32.417\u001b\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1,) = (:rho,)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:02:49\u001b\n\n\nMemory used for data table :186.1558656692505 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/#Cuboid-Region","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cuboid Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Create-projections-of-the-full-box:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:03\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The generated objects include, e.g. the extent of the processed domain, that can be used to declare the specific range of the plots, while the field cextent gives the extent related to a given center (default: [0.,0.,0.]).","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"propertynames(proj_z)","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :boxlen, :smallr, :smallc, :scale, :info)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"Note: The selected regions can be given relative to a user given center or to the box corner [0., 0., 0.] by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion( gas, :cuboid,\n                            xrange=[-4., 0.],\n                            yrange=[-15., 15.],\n                            zrange=[-2., 2.],\n                            center=[:boxcenter],\n                            range_unit=:kpc);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:06.861\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :47.87415790557861 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The function subregion creates a new object with the same type as the object created by the function gethydro :","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"typeof(gas_subregion)","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"HydroDataType","category":"page"},{"location":"03_hydro_Get_Subregions/#Cuboid-Region:-Projections-of-the-sub-region.","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion( gas, :cuboid,\n                            xrange=[-4., 0.],\n                            yrange=[-15., 15.],\n                            zrange=[-2., 2.],\n                            center=[:boxcenter],\n                            range_unit=:kpc,\n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:09.597\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :138.2824068069458 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-2","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion(  gas, :cylinder,\n                            radius=3.,\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[13., :bc, :bc]); # direction=:z, by default","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:24.715\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :9.945767402648926 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region.","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region-rekated-ti-a-given-data-center:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Projections of the sub-region rekated ti a given data center:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:z, center=[13., 24.,24.], range_unit=:kpc, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:y, center=[13., 24.,24.], range_unit=:kpc, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, direction=:x, center=[13., 24.,24.], range_unit=:kpc, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"The ranges of the plots are now adapted to the given data center:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion(  gas, :cylinder,\n                            radius=3.,\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[13.,:bc,:bc],\n                            inverse=true); # direction=:z, by default","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:29.071\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :176.2107973098755 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, :Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Region","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Region","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-3","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-gas","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Cutout the data assigned to the object gas","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion(  gas, :sphere,\n                            radius=10.,\n                            range_unit=:kpc,\n                            center=[13.,:bc,:bc]);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:42.261\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :57.03980731964111 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Region:-Projections-of-the-sub-region.","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = subregion(  gas, :sphere,\n                            radius=10.,\n                            range_unit=:kpc,\n                            center=[13.,:bc,:bc],\n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:27:46.433\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :129.1167573928833 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-or-nested-ranges)","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"The sub-region functions can be used in any combination with each other! (Combined with overlapping or nested ranges)","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"One Example:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"comb_region = subregion(gas, :cuboid, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc, verbose=false)\ncomb_region2 = subregion(comb_region, :sphere, radius=12., center=[40.,24.,24.], range_unit=:kpc, inverse=true, verbose=false)\ncomb_region3 = subregion(comb_region2, :sphere, radius=12., center=[8.,24.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region4 = subregion(comb_region3, :sphere, radius=12., center=[24.,5.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region5 = subregion(comb_region4, :sphere, radius=12., center=[24.,43.,24.], range_unit=:kpc, inverse=true, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Shell","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-4","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:02\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Shell:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = shellregion( gas, :cylinder,\n                            radius=[5., 10.],\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[:boxcenter]);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:28:03.834\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :53.790066719055176 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell: Get the data outside of the selected shell (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = shellregion(gas, :cylinder,\n                            radius=[5., 10.],\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[:boxcenter],\n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:28:06.945\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :132.36649799346924 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Shell","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Shell","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/#Create-projections-of-the-full-box:-5","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:02\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:02\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Shell:","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = shellregion(gas, :sphere,\n                            radius=[5., 10.],\n                            range_unit=:kpc,\n                            center=[24.,24.,24.]);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:28:21.357\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :56.55305194854736 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Shell:-Projections-of-the-shell-region.","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Shell: Projections of the shell-region.","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"gas_subregion = shellregion(gas, :sphere,\n                            radius=[5., 10.],\n                            range_unit=:kpc,\n                            center=[:boxcenter],\n                            inverse=true);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-18T23:28:25.267\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :129.60351276397705 MB\n-------------------------------------------------------","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"proj_z = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, verbose=false);\nproj_x = projection(gas_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, verbose=false);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_hydro_Get_Subregions/","page":"3. Hydro: Get Sub-Regions of The Loaded Data","title":"3. Hydro: Get Sub-Regions of The Loaded Data","text":"","category":"page"},{"location":"Miscellaneous/#Miscellaneous","page":"9-Miscellaneous","title":"Miscellaneous","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"using Mera\ninfo=getinfo(300, \"../../../testing/simulations/mw_L10/\", verbose=false);","category":"page"},{"location":"Miscellaneous/#MyArguments","page":"9-Miscellaneous","title":"MyArguments","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"Pass several arguments at once to a function for better readability!","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# create an empty struct for arguments:\nmyargs = ArgumentsType()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"ArgumentsType(missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing, missing)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"viewfields(myargs)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: Fields to use as arguments in functions\n=======================================================================\npxsize\t= missing\nres\t= missing\nlmax\t= missing\nxrange\t= missing\nyrange\t= missing\nzrange\t= missing\nradius\t= missing\nheight\t= missing\ndirection\t= missing\nplane\t= missing\nplane_ranges\t= missing\nthickness\t= missing\nposition\t= missing\ncenter\t= missing\nrange_unit\t= missing\ndata_center\t= missing\ndata_center_unit\t= missing\nverbose\t= missing\nshow_progress\t= missing","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# assign necessary fields:\nmyargs.pxsize = [100., :pc]\nmyargs.xrange=[-10.,10.]\nmyargs.yrange=[-10.,10.]\nmyargs.zrange=[-2.,2.]\nmyargs.center=[:boxcenter]\nmyargs.range_unit=:kpc;","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"<div class=\"alert alert-block alert-info\"> <b>NOTE</b> All functions that hold the upper listed arguments can handle the ArgumentsType struct! </div>","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"gas = gethydro(info, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: Get hydro data: 2023-04-10T21:15:35.249\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\nProgress: 100%|█████████████████████████████████████████| Time: 0:00:17\n\n\nMemory used for data table :580.2776288986206 MB\n-------------------------------------------------------","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"part = getparticles(info, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: Get particle data: 2023-04-10T21:15:57.394\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nFound 5.368130e+05 particles\nMemory used for data table :37.88558769226074 MB\n-------------------------------------------------------","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"p = projection(gas, :sd, :Msun_pc2, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: 2023-04-10T21:16:08.050\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,) \nWeighting      = :mass\n\nEffective resolution: 481^2\nMap size: 201 x 201\nPixel size: 99.792 [pc]\nSimulation min.: 46.875 [pc]","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# add more args for silent screen:\nmyargs.verbose=false\nmyargs.show_progress=false;","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"gas = gethydro(info, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"part = getparticles(info, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"p = projection(gas, :sd, :Msun_pc2, myargs=myargs);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"","category":"page"},{"location":"Miscellaneous/#Verbose-and-Progressbar-Switch","page":"9-Miscellaneous","title":"Verbose & Progressbar Switch","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"Master switch to toggle the verbose mode and progress bar for all functions:","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# current status\n# \"nothing\" allows the functions to use the passed argument: \n# verbose=false/true\nverbose()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"verbose_mode: nothing","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# switch off verbose mode globally:\nverbose(false)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"false","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# check\ngas = gethydro(info);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"Reading data...\n\n\nProgress: 100%|█████████████████████████████████████████| Time: 0:00:22","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# switch on verbose mode globally:\n# the passed argument verbose=false/true to the individual\n# functions is ignored.\nverbose(true)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"gas = gethydro(info);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: Get hydro data: 2023-04-10T21:21:09.500\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\nProgress: 100%|█████████████████████████████████████████| Time: 0:00:24\n\n\nMemory used for data table :2.3210865957662463 GB\n-------------------------------------------------------","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# current status\n# \"nothing\" allows the functions to use the passed argument: \n# show_progress=false/true\nshowprogress()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"showprogress_mode: nothing","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# switch off the progressbar globally:\nshowprogress(false)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"false","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# check\nshowprogress()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"showprogress_mode: false","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"gas = gethydro(info);","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"[Mera]: Get hydro data: 2023-04-10T21:25:05.493\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :2.3210865957662463 GB\n-------------------------------------------------------","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# switch on the progressbar globally:\n# the passed argument show_progress=false/true to the individual\n# functions is ignored.\nshowprogress(true)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"true","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# check\nshowprogress()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"showprogress_mode: true","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# return to neutral mode\nshowprogress(nothing)","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"# check\nshowprogress()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"showprogress_mode: nothing","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"","category":"page"},{"location":"Miscellaneous/#Notification-Bell","page":"9-Miscellaneous","title":"Notification Bell","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"?bell","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"search: bell bytesavailable @label bulk_velocity baremodule AbstractChannel","category":"page"},{"location":"Miscellaneous/#Get-a-notification-sound,-e.g.,-when-your-calculations-are-finished.","page":"9-Miscellaneous","title":"Get a notification sound, e.g., when your calculations are finished.","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"This may not apply when working remotely on a server:","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"julia> bell()","category":"page"},{"location":"Miscellaneous/#Notification-E-Mail","page":"9-Miscellaneous","title":"Notification E-Mail","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"?notifyme","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"search: notifyme notify","category":"page"},{"location":"Miscellaneous/#Get-an-email-notification,-e.g.,-when-your-calculations-are-finished.","page":"9-Miscellaneous","title":"Get an email notification, e.g., when your calculations are finished.","text":"","category":"section"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"Mandatory: ","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"the email client \"mail\" needs to be installed\nput a file with the name \"email.txt\" in your home folder that contains your email address in the first line","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"julia> notifyme()","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"or:","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"julia> notifyme(\"Calculation 1 finished!\")","category":"page"},{"location":"Miscellaneous/","page":"9-Miscellaneous","title":"9-Miscellaneous","text":"","category":"page"},{"location":"03_clumps_Get_Subregions/#3.-Clumps:-Get-Sub-Regions-of-The-Loaded-Data","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/#Load-the-Data","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Load the Data","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"using Mera, PyPlot\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\")\nclumps = getclumps(info);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:39:44.033\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b\n\n\u001b [Mera]: Get clump data: 2020-02-08T20:39:48.496\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/#Create-scatter-plots-of-the-full-box:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Create scatter plots of the full box:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Use the getvar function to extract the positions of the clumps relative to the box center. It returns a dictionary of arrays:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"positions = getvar(clumps, [:x, :y, :z], :kpc, center=[:boxcenter], center_unit=:kpc) # units=[:kpc, :kpc, :kpc]\nx, y, z = positions[:x], positions[:y], positions[:z]; # assign the three components of the dictionary to three arrays","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Alternatively, use the getposition function to extract the positions of the clumps. It returns a tuple of the three components:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z = getpositions(clumps, :kpc, center=[:boxcenter], center_unit=:kpc); # assign the three components of the tuple to three arrays","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Get the extent of the processed domain with respect to a given center. The returned tuple is useful declare the specific range of the plots.","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"rx, ry, rz = getextent(clumps, :kpc,  center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Note: The selected regions can be given relative to a user given center or to the box corner '[0., 0., 0.]' by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :cuboid,\n                                    xrange=[-4., 0.],\n                                    yrange=[-15. ,15.],\n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:40:04.755\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :29.52734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"The function subregion creates a new object with the same type as the object created by the function getclumps :","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"typeof(clumps_subregion)","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"ClumpDataType","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region:-Scatter-Plots-of-the-sub-region.","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Scatter-Plots of the sub-region.","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"The coordinates center is the center of the box by default:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # clump positions of the subregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # extent of the box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region:-Get-the-extent-of-the-subregion-data-ranges","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Get the extent of the subregion data ranges","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"rx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]); # extent of the subregion","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :cuboid,\n                                    xrange=[-4., 0.],\n                                    yrange=[-15. ,15.],\n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc,\n                                    inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:40:36.521\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :33.65234375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\nsubplot(1,3,1)\nscatter(x,y)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Region","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: Get clump data: 2020-02-08T20:40:43.377\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :cylinder,\n                                radius=3.,\n                                height=2.,\n                                range_unit=:kpc,\n                                center=[(24. -11.), :bc, :bc]); # direction=:z, by default","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:40:50.168\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :5.24609375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Extract the the clump positions of the subregion and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter])\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc,\n                            center=[ (24. -11.), :bc, :bc],\n                            center_unit=:kpc);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc,\n                                    center=[ (24. -11.), :bc, :bc],\n                                    center_unit=:kpc);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"kpc\")\nylabel(\"kpc\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :cylinder,\n                            radius=3.,\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[ (24. -11.),:bc,:bc],\n                            inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:41:13.553\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :57.93359375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Region","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Region","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: Get clump data: 2020-02-08T20:41:17.127\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/#The-red-lines-show-the-region-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"The red lines show the region that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"PyObject Text(871.9411764705884, 0.5, 'z [kpc]')","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-clumps","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Cutout the data assigned to the object clumps","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :sphere,\n                                     radius=10.,\n                                     range_unit=:kpc,\n                                     center=[ (24. -11.),:bc, :bc]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:41:21.728\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :28.68359375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # subregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Region:-Scatter-Plot-of-the-selected-data-range-with-respect-to-the-center-of-the-sub-region:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Scatter-Plot of the selected data range with respect to the center of the sub-region:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc,\n                            center=[ (24. -11.), :bc, :bc],\n                            center_unit=:kpc); # subregion\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc,\n                            center=[(24. -11.), :bc, :bc],\n                            center_unit=:kpc); # subregion","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(ry_sub)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(rx_sub)\nylim(rz_sub)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta), 10 .* cos.(theta), color=\"red\")\nxlim(ry_sub)\nylim(rz_sub)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = subregion( clumps, :sphere,\n                                     radius=10.,\n                                     range_unit=:kpc,\n                                     center=[ (24. -11.),:bc,:bc],\n                                     inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:41:43.641\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :34.49609375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]);\nrx_sub, ry_sub, rz_sub = getextent(clumps_subregion, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\n\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(ry)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"PyObject Text(871.9411764705884, 0.5, 'z [kpc]')","category":"page"},{"location":"03_clumps_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/#The-sub-region-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"The sub-region functions can be used in any combination with each other! (Combined with overlapping ranges or nested)","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Shell","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: Get clump data: 2020-02-08T20:41:52.553\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"The red lines show the shell that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\",ls = \"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Shell:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = shellregion( clumps, :cylinder,\n                                         radius=[5.,10.],\n                                         height=2.,\n                                         range_unit=:kpc,\n                                         center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:42:00.413\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :18.55859375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Cylindrical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = shellregion( clumps, :cylinder,\n                                         radius=[5.,10.],\n                                         height=2.,\n                                         range_unit=:kpc,\n                                         center=[:boxcenter],\n                                         inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:42:10.055\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :44.62109375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Shell","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Shell","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Extract the the clump positions and the extent of the full box:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps  = getclumps(info);\nx, y, z = getpositions(clumps, :kpc, center=[:boxcenter]);\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: Get clump data: 2020-02-08T20:42:14.641\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/#The-red-lines-show-the-shell-that-we-want-to-cut-out-as-a-sub-region-from-the-full-data:-2","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"The red lines show the shell that we want to cut-out as a sub-region from the full data:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Shell:","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = shellregion( clumps, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc,\n                                center=[:boxcenter]);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:42:19.499\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :18.55859375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter]); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",  ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"clumps_subregion = shellregion( clumps, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc,\n                                center=[:boxcenter],\n                                inverse=true);","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"\u001b [Mera]: 2020-02-08T20:42:23.949\u001b \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :44.62109375 KB\n-------------------------------------------------------","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"x, y, z    = getpositions(clumps_subregion, :kpc, center=[:boxcenter]); # shellregion\nrx, ry, rz = getextent(clumps, :kpc, center=[:boxcenter] ); # full box","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"figure(figsize=(15.5, 3.5))\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nscatter(x,y)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(ry)\nxlabel(\"x k[pc]\")\nylabel(\"y [kpc]\")\n\n\nsubplot(1,3,2)\nscatter(x,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(rx)\nylim(rz)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\n\n\nsubplot(1,3,3)\nscatter(y,z)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlim(ry)\nylim(rz)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\");","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"(Image: png)","category":"page"},{"location":"03_clumps_Get_Subregions/","page":"3. Clumps: Get Sub-Regions of The Loaded Data","title":"3. Clumps: Get Sub-Regions of The Loaded Data","text":"","category":"page"},{"location":"05_multi_Masking_Filtering/#5.-Mask/Select/Map/Filter/Metaprogramming...","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Learn how to extract data from the data table with JuliaDB and Mera functions\nFilter the data table according to one or several conditions\nExtract data from a filtered data table and use it for further calculations\nExtend the data table with new columns/variables\nMask data with different methods and apply it to some functions","category":"page"},{"location":"05_multi_Masking_Filtering/#Load-The-Data","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Load The Data","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\ngas       = gethydro(info, lmax=8, smallr=1e-5);  \nparticles = getparticles(info)\nclumps    = getclumps(info);","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"\u001b [Mera]: 2020-02-08T20:56:19.834\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b\n\n\u001b [Mera]: Get hydro data: 2020-02-08T20:56:27.064\u001b\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n 100%|███████████████████████████████████████████████████| Time: 0:02:07\u001b\n\n\nMemory used for data table :71.28007793426514 MB\n-------------------------------------------------------\n\n\u001b [Mera]: Get particle data: 2020-02-08T20:58:39.435\u001b\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(1, 2, 3, 4, 5) = (:vx, :vy, :vz, :mass, :birth)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.089390e+05 particles\nMemory used for data table :34.947275161743164 MB\n-------------------------------------------------------\n\n\u001b [Mera]: Get clump data: 2020-02-08T20:58:41.769\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums:\nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"05_multi_Masking_Filtering/#Select-From-Data-Table","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Select From Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#Select-a-single-column/variable","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Select a single column/variable","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#By-using-JuliaDB-or-Mera-functions","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"By using JuliaDB or Mera functions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"using JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"The JuliaDB data table is stored in the data-field of any DataSetType. Extract an existing column (variable):","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"select(gas.data, :rho) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162\n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Pass the entire DataSetType (here gas) to the Mera function getvar to extract the selected variable or derived quantity from the data table. Call getvar() to get a list of the predefined quantities.","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"getvar(gas, :rho) # MERA","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162\n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/#Select-several-columns","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Select several columns","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"By selecting several columns a new JuliaDB databse is returned:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"select(gas.data, (:rho, :level)) #JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 849332 rows, 2 columns:\nrho           level\u001b\n──────────────────\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n⋮\n0.000108804  8\n0.000109156  8\n0.000109171  8\n0.000124654  8\n0.000119345  8\n0.000112947  8\n0.000111101  8\n0.000109013  8\n0.000108494  8\n0.000109006  8\n0.000109102  8","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"The getvar function returns a dictionary containing the extracted arrays:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"getvar(gas, [:rho, :level]) # MERA","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Dict{Any,Any} with 2 entries:\n  :level => [6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0  …  8.0, 8.0, 8.0…\n  :rho   => [1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.…","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Select one or more columns and get a tuple of vectors:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"vtuple = columns(gas.data, (:rho, :level)) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"(rho = [1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5  …  0.00010915603617815434, 0.00010917096551347797, 0.00012465438542871006, 0.00011934527871880502, 0.00011294656300014925, 0.00011110068692986109, 0.00010901341218606515, 0.00010849404903183988, 0.00010900588395976569, 0.00010910219163333514], level = [6, 6, 6, 6, 6, 6, 6, 6, 6, 6  …  8, 8, 8, 8, 8, 8, 8, 8, 8, 8])","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"propertynames(vtuple)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"(:rho, :level)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"vtuple.rho","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162\n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/#Filter-by-Condition","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Filter by Condition","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#With-JuliaDB-(example-A)","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"With JuliaDB (example A)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Get all the data corresponding to cells/rows with level=6. Here, the variable p is used as placeholder for rows. A new JuliaDB data table is returend:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"filtered_db = filter(p->p.level==6, gas.data ) # JuliaDB\n# see the reduced row number","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 240956 rows, 11 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/#With-Macro-Expression-(example-A)","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"With Macro Expression (example A)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"(see the documentation at: https://piever.github.io/JuliaDBMeta.jl/stable/ )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"using JuliaDBMeta","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"┌ Info: Precompiling JuliaDBMeta [2c06ca41-a429-545c-b8f0-5ca7dd64ba19]\n└ @ Base loading.jl:1273","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"filtered_db = @filter gas.data :level==6 # JuliaDBMeta","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 240956 rows, 11 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/#With-JuliaDB-(example-B)","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"With JuliaDB (example B)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Get all cells/rows with densities >= 3 Msol/pc^3. Since the data is given in code units, we need to convert from the given physical units:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"density = 3. / gas.scale.Msol_pc3\nfiltered_db = filter(p->p.rho>= density, gas.data ) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 210 rows, 11 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/#With-Macro-Expression-(example-B)","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"With Macro Expression (example B)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"density = 3. /gas.scale.Msol_pc3\nfiltered_db = @filter gas.data :rho>= density # JuliaDBMeta","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 210 rows, 11 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/#Get-a-Quantity/Variable-from-The-Filtered-Data-Table","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Get a Quantity/Variable from The Filtered Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Calculate the mass for each cell and the sum:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mass_tot = getvar(gas, :mass, :Msol) # the full data table\nsum(mass_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"3.0968754148332745e10","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"The same calculation is possible for the filtered data base which has to be passed together with the original object, here: gas","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mass_filtered_tot = getvar(gas, :mass, :Msol, filtered_db=filtered_db) # the filtered data table\nsum(mass_filtered_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"1.4862767967535206e10","category":"page"},{"location":"05_multi_Masking_Filtering/#Create-a-New-DataSetType-from-a-Filtered-Data-Table","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Create a New DataSetType from a Filtered Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"A new DataSetType can be constructed for the filtered data table that can be passed to the functions.","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"density = 3. /gas.scale.Msol_pc3\nfiltered_db = @filter gas.data :rho >= density\ngas_new = construct_datatype(filtered_db, gas);","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"# Both are now of HydroDataType and include the same information about the simulation properties (besides the canged data table)\nprintln( typeof(gas) )\nprintln( typeof(gas_new) )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"HydroDataType\nHydroDataType","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mass_filtered_tot = getvar(gas_new, :mass, :Msol)\nsum(mass_filtered_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"1.4862767967535206e10","category":"page"},{"location":"05_multi_Masking_Filtering/#Filter-by-Multiple-Conditions","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Filter by Multiple Conditions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#With-JuliaDB","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"With JuliaDB","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Get the mass of all cells/rows with densities >= 3 Msol/pc^3 that is within the disk radius of 3 kpc and 2 kpc from the plane:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"boxlen = info.boxlen\ncv = boxlen/2. # box-center\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\n# filter cells/rows that contain rho greater equal density\nfiltered_db = filter(p->p.rho >= density, gas.data )\n\n# filter cells/rows lower equal the defined radius and height\n# (convert the cell number to a position according to its cellsize and relative to the box center)\nfiltered_db = filter(row-> sqrt( (row.cx * boxlen /2^row.level - cv)^2 + (row.cy * boxlen /2^row.level - cv)^2) <= radius &&\n                              abs(row.cz * boxlen /2^row.level - cv) <= height, filtered_db)\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/#Use-Pipeline-Macros","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Use Pipeline Macros","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"boxlen = info.boxlen\ncv = boxlen/2.\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\nfiltered_db = @apply gas.data begin\n     @where :rho >= density\n     @where sqrt( (:cx * boxlen/2^:level - cv)^2 + (:cy * boxlen/2^:level - cv)^2 ) <= radius\n     @where abs(:cz * boxlen/2^:level -cv) <= height\nend\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/#External-Functions-With-JuliaDB","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"External Functions With JuliaDB","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"boxlen = info.boxlen\nfunction r(x,y,level,boxlen)\n    return sqrt((x * boxlen /2^level - boxlen/2.)^2 + (y * boxlen /2^level - boxlen/2.)^2)\nend\n\nfunction h(z,level,boxlen)\n    return abs(z  * boxlen /2^level - boxlen/2.)\nend\n\n\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\n\nfiltered_db = filter(row->  row.rho >= density &&\n                            r(row.cx,row.cy, row.level, boxlen) <= radius &&\n                            h(row.cz,row.level, boxlen) <= height,  gas.data)\n\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/#External-Functions-With-Macro-Expression","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"External Functions With Macro Expression","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"boxlen = info.boxlen\ncv = boxlen/2.\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\nfunction p(val, level, boxlen)\n    cv = boxlen/2\n    return val * boxlen /2^level - cv\nend\n\nfiltered_db = @apply gas.data begin\n     @where :rho >= density\n     @where sqrt( p(:cx, :level, boxlen)^2 + p(:cy, :level, boxlen)^2  ) <= radius\n     @where abs( p(:cz, :level, boxlen) ) <= height\nend\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/#Compare-With-Predefined-Functions","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Compare With Predefined Functions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Compare the previous calculations with the predefined subregion function: The subregion function takes the intersected cells of the range borders into account (default):","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"density = 3. /gas.scale.Msol_pc3 # in code units\n\nsub_region = subregion(gas, :cylinder, radius=3., height=2., center=[:boxcenter], range_unit=:kpc, verbose=false ) # default: cell=true\nfiltered_db = @filter sub_region.data :rho >= density\n\nvar_filtered = getvar(gas, :mass, :Msol, filtered_db=filtered_db)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.9388306102361355e9","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"By setting the keyword cell=false, only the cell-centres within the defined region are taken into account (as in the calculations in the previous section).","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"density = 3. /gas.scale.Msol_pc3 # in code units\n\nsub_region = subregion(gas, :cylinder, radius=3., height=2., center=[:boxcenter], range_unit=:kpc, cell=false, verbose=false )\nfiltered_db = @filter sub_region.data :rho >= density\n\nvar_filtered = getvar(gas, :mass, :Msol, filtered_db=filtered_db)\nsum(var_filtered)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/#Extend-the-Data-Table","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Extend the Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Add costum columns/variables to the data that can be automatically processed in some functions: (note: to take advantage of the Mera unit management, store new data in code-units)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"# calculate the Mach number in each cell\nmach = getvar(gas, :mach);","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"# add the extracted Mach number (1dim-array) to the data in the object \"gas\"\n# the array has the same length and order (rows/cells) as in the data table\n# push a column at the end of the table:\n# transform(data-table, key => new-data)\ngas.data = transform(gas.data, :mach => mach) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 849332 rows, 12 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64\n12  mach     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"proj_z = projection(gas, :mach, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"\u001b [Mera]: 2020-02-08T20:59:42.246\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.3333333 :: 0.6666667  \t==> 16.0 [kpc] :: 32.0 [kpc]\nymin::ymax: 0.3333333 :: 0.6666667  \t==> 16.0 [kpc] :: 32.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:mach, :sd)\n\n\n\n 100%|███████████████████████████████████████████████████| Time: 0:00:07\u001b","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"using PyPlot\nimshow( ( permutedims(proj_z.maps[:mach]) ), origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"(Image: png)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Remove the column :mach from the table:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"gas.data = select(gas.data, Not(:mach)) # select all columns, not :mach","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Table with 849332 rows, 11 columns:\nColumns:\n #   \u001b  colname  \u001b  type\u001b \n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/#Masking","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Masking","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Many functions in MERA provide the opportunity to use a mask on selected data without changing the content in the data table. Here we present several methods to prepare a mask and apply it to some functions. A created mask is an array of type: MaskType, which can be Array{Bool,1} or BitArray{1}. A masked cell/row corresponds to a false.","category":"page"},{"location":"05_multi_Masking_Filtering/#Version-1:-External-Function","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Version 1: External Function","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Create an array which represents the cells with the selected condition by true. The function checks if the following requirement is true or false for each row/cell in the data table:","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"function ftest(value)\n    density = (4. / gas.scale.Msol_pc3)\n    if value < density\n        return true\n     else\n        return false\n    end\nend\n\nmask_v1 = map(row->ftest(row.rho), gas.data);\n\nprintln( length(mask_v1) )\nprintln( typeof(mask_v1) )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332\nArray{Bool,1}","category":"page"},{"location":"05_multi_Masking_Filtering/#Version-2:-Short-Syntax","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Version 2: Short Syntax","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#Example-1","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Example 1","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask_v2 = map(row->row.rho < 4. / gas.scale.Msol_pc3, gas.data);\n\nprintln( length(mask_v2) )\nprintln( typeof(mask_v2) )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332\nArray{Bool,1}","category":"page"},{"location":"05_multi_Masking_Filtering/#Example-2","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Example 2","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask_v2b = getvar(gas, :rho, :Msol_pc3) .> 1. ;\n\nprintln( length(mask_v2b) )\nprintln( typeof(mask_v2b) )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332\nBitArray{1}","category":"page"},{"location":"05_multi_Masking_Filtering/#Version-3:-Longer-Syntax","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Version 3: Longer Syntax","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"rho_array = select(gas.data, :rho);\nmask_v3 = rho_array .< 1. / gas.scale.Msol_pc3;\n\nprintln( length(mask_v3) )\nprintln( typeof(mask_v3) )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"849332\nBitArray{1}","category":"page"},{"location":"05_multi_Masking_Filtering/#Some-Functions-With-Masking-Functionality","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Some Functions With Masking Functionality","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"The masked rows are not considered in the calculations (mask-element = false ).","category":"page"},{"location":"05_multi_Masking_Filtering/#Examples","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Examples","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/#Total-Mass","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Total Mass","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.rho < 1. / gas.scale.Msol_pc3, gas.data);\nmtot_masked = msum(gas, :Msol, mask=mask)\nmtot        = msum(gas, :Msol)\nprintln()\nprintln( \"Gas Mtot masked: \", mtot_masked  , \" Msol\" )\nprintln( \"Gas Mtot:        \", mtot         , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Gas Mtot masked: 1.336918953133308e10 Msol\nGas Mtot:        3.0968754148332745e10 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\nmtot_masked = msum(particles, :Msol, mask=mask)\nmtot        = msum(particles, :Msol)\nprintln()\nprintln( \"Particles Mtot masked: \", mtot_masked , \" Msol\" )\nprintln( \"Particles Mtot:        \", mtot        , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Particles Mtot masked: 1.4537556611888414e7 Msol\nParticles Mtot:        5.804426008528437e9 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.mass_cl < 1e6 / clumps.scale.Msol, clumps.data);\nmtot_masked = msum(clumps, :Msol, mask=mask)\nmtot        = msum(clumps, :Msol)\nprintln()\nprintln( \"Clumps Mtot masked:    \", mtot_masked , \" Msol\" )\nprintln( \"Clumps Mtot:           \", mtot        , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Clumps Mtot masked:    2.926390055686605e7 Msol\nClumps Mtot:           1.3743280681841677e10 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/#Center-Of-Mass","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Center-Of-Mass","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.rho < 100. / gas.scale.nH, gas.data);\ncom_gas_masked = center_of_mass(gas, :kpc, mask=mask)\ncom_gas        = center_of_mass(gas, :kpc)\nprintln()\nprintln( \"Gas COM masked: \", com_gas_masked , \" kpc\" )\nprintln( \"Gas COM:        \", com_gas        , \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Gas COM masked: (23.632781376611646, 24.017935187730938, 24.078280687627124) kpc\nGas COM:        (23.47221401632259, 23.93931869865653, 24.08483637116779) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\ncom_particles_masked = center_of_mass(particles, :kpc, mask=mask)\ncom_particles        = center_of_mass(particles, :kpc)\nprintln()\nprintln( \"Particles COM masked: \", com_particles_masked , \" kpc\" )\nprintln( \"Particles COM:        \", com_particles        , \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Particles COM masked: (22.766374936557934, 24.817294529838456, 24.020065595650212) kpc\nParticles COM:        (22.891354761211332, 24.174147282680273, 24.003205056545575) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"# calculate joint center-of-mass from gas and particles\nmask1 = map(row->row.rho < 100. / gas.scale.nH, gas.data); # mask for the hydro data\nmask2 = map(row->row.birth < 100.  / particles.scale.Myr, particles.data); # mask for the particle data\n\nprintln( \"Joint COM (Gas + Particles) masked: \", center_of_mass([gas,particles], :kpc, mask=[mask1, mask2]) , \" kpc\" )\nprintln( \"Joint COM (Gas + Particles):        \", center_of_mass([gas,particles], :kpc) , \" kpc\" )","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Joint COM (Gas + Particles) masked: (23.632014753139174, 24.01864248583754, 24.078229177095928) kpc\nJoint COM (Gas + Particles):        (23.380528865533876, 23.976384982693947, 24.07195135758772) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.mass_cl < 1e6 / clumps.scale.Msol, clumps.data);\ncom_clumps_masked = center_of_mass(clumps, mask=mask)\ncom_clumps        = center_of_mass(clumps)\nprintln()\nprintln( \"Clumps COM masked:\", com_clumps_masked .* clumps.scale.kpc, \" kpc\" )\nprintln( \"Clumps COM:       \", com_clumps        .* clumps.scale.kpc, \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Clumps COM masked:(22.979676622296815, 23.22447986984898, 24.11056806473746) kpc\nClumps COM:       (23.135765457064576, 23.741712325649264, 24.0050127185862) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/#Bulk-Velocity","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Bulk-Velocity","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.rho < 100. / gas.scale.nH, gas.data);\nbv_gas_masked = bulk_velocity(gas, :km_s, mask=mask)\nbv_gas        = bulk_velocity(gas, :km_s)  \nprintln()\nprintln( \"Gas bulk velocity masked: \", bv_gas_masked , \" km/s\" )\nprintln( \"Gas bulk velocity:        \", bv_gas        , \" km/s\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Gas bulk velocity masked: (-0.046336703401138456, -6.60993479840688, -1.000280146674773) km/s\nGas bulk velocity:        (-1.1999253584798182, -10.678485153330122, -0.44038538452508785) km/s","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\nbv_particles_masked = bulk_velocity(particles, :km_s, mask=mask)\nbv_particles        = bulk_velocity(particles, :km_s)\nprintln()\nprintln( \"Particles bulk velocity masked: \", bv_particles_masked , \" km/s\" )\nprintln( \"Particles bulk velocity:        \", bv_particles        , \" km/s\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Particles bulk velocity masked: (-27.702254113836513, -7.532075727552787, -1.3273993940211153) km/s\nParticles bulk velocity:        (-11.623422700314535, -18.440572802490234, -0.3291927731417528) km/s","category":"page"},{"location":"05_multi_Masking_Filtering/#Weighted-Statistics","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"Weighted Statistics","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"(It is also possible to use the mask within the getvar function)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"maskgas   = map(row->row.rho < 100. / gas.scale.nH, gas.data);\nmaskpart  = map(row->row.birth < 100.  / particles.scale.Myr, particles.data);\nmaskclump = map(row->row.mass_cl < 1e7 / clumps.scale.Msol, clumps.data);\n\nstats_gas_masked       = wstat( getvar(gas,       :vx,     :km_s), weight=getvar(gas,       :mass  ),  mask=maskgas);\nstats_particles_masked = wstat( getvar(particles, :vx,     :km_s), weight=getvar(particles, :mass   ), mask=maskpart);\nstats_clumps_masked    = wstat( getvar(clumps,    :peak_x, :kpc ), weight=getvar(clumps,    :mass_cl), mask=maskclump)  ;\n\nprintln( \"Gas        <vx>_cells masked      : \",  stats_gas_masked.mean,       \" km/s (mass weighted)\" )\nprintln( \"Particles  <vx>_particles masked  : \",  stats_particles_masked.mean, \" km/s (mass weighted)\" )\nprintln( \"Clumps <peak_x>_clumps masked     : \",  stats_clumps_masked.mean,    \" kpc  (mass weighted)\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Gas        <vx>_cells masked      : -0.04633670340114798 km/s (mass weighted)\nParticles  <vx>_particles masked  : -27.702254113836517 km/s (mass weighted)\nClumps <peak_x>_clumps masked     : 22.907689025275953 kpc  (mass weighted)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"stats_gas       = wstat( getvar(gas,       :vx,     :km_s), weight=getvar(gas,       :mass  ));\nstats_particles = wstat( getvar(particles, :vx,     :km_s), weight=getvar(particles, :mass   ));\nstats_clumps    = wstat( getvar(clumps,    :peak_x, :kpc ), weight=getvar(clumps,    :mass_cl))  ;\n\nprintln( \"Gas        <vx>_allcells     : \",  stats_gas.mean,       \" km/s (mass weighted)\" )\nprintln( \"Particles  <vx>_allparticles : \",  stats_particles.mean, \" km/s (mass weighted)\" )\nprintln( \"Clumps <peak_x>_allclumps    : \",  stats_clumps.mean,    \" kpc  (mass weighted)\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"Gas        <vx>_allcells     : -1.199925358479736 km/s (mass weighted)\nParticles  <vx>_allparticles : -11.623422700314544 km/s (mass weighted)\nClumps <peak_x>_allclumps    : 23.13576545706458 kpc  (mass weighted)","category":"page"},{"location":"05_multi_Masking_Filtering/","page":"5. Mask/Select/Map/Filter/Metaprogramming...","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"","category":"page"},{"location":"01_clumps_First_Inspection/#1.-Clumps:-First-Data-Inspection","page":"Clumps","title":"1. Clumps: First Data Inspection","text":"","category":"section"},{"location":"01_clumps_First_Inspection/#Simulation-Overview","page":"Clumps","title":"Simulation Overview","text":"","category":"section"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-12T20:41:16.814\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"A short overview of the loaded clumps properties is printed:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"existence of clumps files\nthe variable names from the header of the clump files","category":"page"},{"location":"01_clumps_First_Inspection/#Load-Clump-Data","page":"Clumps","title":"Load Clump Data","text":"","category":"section"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Read the Clumps data from all files of the full box with all existing variables. MERA checks the first line of a clump file to find the column names. The identified names give the number of existing columns.","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info);","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-12T20:41:23.656\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"The memory consumption of the data table is printed at the end. We provide a function which gives the possibility to print the used memory of any object: ","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"usedmemory(clumps);","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Memory used: 331.672 KB","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"The assigned object is now of type: ClumpsDataType:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"typeof(clumps)","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"ClumpDataType","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"It is a sub-type of ContainMassDataSetType","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"supertype( ContainMassDataSetType )","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"DataSetType","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"ContainMassDataSetType is a sub-type of to the super-type DataSetType","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"supertype( ClumpDataType )","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"ContainMassDataSetType","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"The data is stored as a JuliaDB table and the selected clump variables and parameters are assigned to fields:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"viewfields(clumps)","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"data ==> JuliaDB table: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n\ninfo ==> subfields: (:output, :path, :fnames, :simcode, :mtime, :ctime, :ncpu, :ndim, :levelmin, :levelmax, :boxlen, :time, :aexp, :H0, :omega_m, :omega_l, :omega_k, :omega_b, :unit_l, :unit_d, :unit_m, :unit_v, :unit_t, :gamma, :hydro, :nvarh, :nvarp, :variable_list, :gravity_variable_list, :particles_variable_list, :clumps_variable_list, :sinks_variable_list, :descriptor, :amr, :gravity, :particles, :clumps, :sinks, :rt, :namelist, :namelist_content, :headerfile, :makefile, :files_content, :timerfile, :compilationfile, :patchfile, :Narraysize, :scale, :grid_info, :part_info, :compilation, :constants)\n\nboxlen\t= 48.0\nranges\t= [0.0, 1.0, 0.0, 1.0, 0.0, 1.0]\nselected_clumpvars\t= Symbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\n\nscale ==> subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Msol_pc3, :g_cm3, :Msol_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :Ba)","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"For convenience, all the fields from the info-object above (InfoType) are now also accessible from the object with \"clumps.info\" and the scaling relations from code to cgs units in \"clumps.scale\". The box length, the selected ranges and number of the clump variables are also retained.","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Print the fields of an object (composite type) in a simple list:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"propertynames(clumps)","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"(:data, :info, :boxlen, :ranges, :selected_clumpvars, :used_descriptors, :scale)","category":"page"},{"location":"01_clumps_First_Inspection/#Overview-of-Clump-Data","page":"Clumps","title":"Overview of Clump Data","text":"","category":"section"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Get some overview of the data associated with the object clumps. The calculated information can be accessed from the object data_overview (here) in code units for further calculations:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"data_overview = dataoverview(clumps)","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Table with 2 rows, 13 columns:\nColumns:\n\u001b#   \u001bcolname    \u001btype\n───────────────────\n1   extrema    Any\n2   index      Any\n3   lev        Any\n4   parent     Any\n5   ncell      Any\n6   peak_x     Any\n7   peak_y     Any\n8   peak_z     Any\n9   rho-       Any\n10  rho+       Any\n11  rho_av     Any\n12  mass_cl    Any\n13  relevance  Any","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"If the number of columns is relatively long, the table is typically represented by an overview. To access certain columns, use the select function. The representation \":mass_cl\" is called a quoted Symbol (see in Julia documentation):","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"using IndexedTables","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"select(data_overview, (:extrema, :index, :peak_x, :peak_y, :peak_z, :mass_cl) )","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Table with 2 rows, 6 columns:\nextrema  index   peak_x   peak_y   peak_z   mass_cl\n──────────────────────────────────────────────────────\n\"min\"    4.0     10.292   9.93604  22.1294  0.00031216\n\"max\"    2147.0  38.1738  35.7056  25.4634  0.860755","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Get an array from the column \":masscl\" in `dataoverviewand scale it to the unitsMsol`. The order of the calculated data is consistent with the table above:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"select(data_overview, :mass_cl) * info.scale.Msol","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"2-element Array{Float64,1}:\n 312073.3187055649       \n      8.605166312657958e8","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Or simply convert the :mass_cl data in the table to Msol units by manipulating the column:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"data_overview = transform(data_overview, :mass_cl => :mass_cl => value->value * info.scale.Msol);","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"select(data_overview, (:extrema, :index, :peak_x, :peak_y, :peak_z, :mass_cl) )","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Table with 2 rows, 6 columns:\nextrema  index   peak_x   peak_y   peak_z   mass_cl\n─────────────────────────────────────────────────────\n\"min\"    4.0     10.292   9.93604  22.1294  3.12073e5\n\"max\"    2147.0  38.1738  35.7056  25.4634  8.60517e8","category":"page"},{"location":"01_clumps_First_Inspection/#Data-Inspection","page":"Clumps","title":"Data Inspection","text":"","category":"section"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"The data is associated with the field clumps.data as IndexedTables (code units). Each row corresponds to a clump and each column to a property which makes it easy to find, filter, map, aggregate, group the data, etc. More information can be found in the MERA tutorials or in: JuliaDB API Reference","category":"page"},{"location":"01_clumps_First_Inspection/#Table-View","page":"Clumps","title":"Table View","text":"","category":"section"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"The positions peakx, peaky,peak_z are the positions and should not be modified.","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"clumps.data","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Table with 644 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname    \u001btype\n──────────────────────\n1   index      Float64\n2   lev        Float64\n3   parent     Float64\n4   ncell      Float64\n5   peak_x     Float64\n6   peak_y     Float64\n7   peak_z     Float64\n8   rho-       Float64\n9   rho+       Float64\n10  rho_av     Float64\n11  mass_cl    Float64\n12  relevance  Float64","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"A more detailed view into the data:","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"select(clumps.data, (:index, :peak_x, :peak_y, :peak_z, :mass_cl) )","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"Table with 644 rows, 5 columns:\nindex   peak_x   peak_y   peak_z   mass_cl\n─────────────────────────────────────────────\n4.0     20.1094  11.5005  23.9604  0.0213767\n5.0     20.1592  11.5122  23.9253  0.0131504\n9.0     21.7852  17.855   23.814   0.00358253\n12.0    21.8232  17.8608  23.855   0.00509792\n13.0    21.8906  17.2837  23.5415  0.0319414\n18.0    21.7822  16.8823  23.7817  0.00848828\n19.0    21.75    16.8589  23.7993  0.00587003\n20.0    21.6006  17.5679  23.7935  0.0324672\n25.0    21.5801  17.6177  23.9341  0.0245806\n26.0    21.5859  17.5796  23.9165  0.0183601\n29.0    21.5625  17.5854  23.8726  0.0303356\n46.0    21.5215  17.6235  23.9458  0.343594\n⋮\n2115.0  27.7705  13.2788  23.8081  0.0340939\n2116.0  27.7617  13.3081  23.8081  0.0145199\n2117.0  27.7793  13.2993  23.6851  0.00855992\n2120.0  27.7559  13.1792  23.8638  0.00508007\n2125.0  27.7939  13.0298  23.9194  0.00128829\n2128.0  27.791   13.0649  23.9019  0.00183979\n2131.0  28.3037  12.8188  23.9487  0.00128627\n2132.0  28.626   12.8188  23.8755  0.00434\n2137.0  29.9736  15.0571  23.7202  0.00195464\n2140.0  27.1436  15.6401  23.9048  0.0160477\n2147.0  25.1953  9.93604  23.9897  0.0294943","category":"page"},{"location":"01_clumps_First_Inspection/","page":"Clumps","title":"Clumps","text":"","category":"page"},{"location":"examples/ExportImportData/#Export/Import-Data-(ASCII/Binary)","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"This notebook presents several ways to export your data.","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Used libraries in this tutorial:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"DelimitedFiles, Serialization (comes with Julia)\nIndexedTables, FileIO, CSVFiles, JLD, JLD2, CodecZlib, HDF5, Numpy, FITS, Matlap, GZip (needs to be installed)","category":"page"},{"location":"examples/ExportImportData/#Load-The-Data","page":"Export/Import Data (ASCII/Binary)","title":"Load The Data","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using Mera","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"info = getinfo(400, \"../../../testing/simulations/manu_sim_sf_L14\", verbose=false)\nhydro = gethydro(info, :rho, smallr=1e-5, lmax=10)\nparticles = getparticles(info, :mass);","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"[Mera]: Get hydro data: 2020-02-29T17:54:15.397\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1,) = (:rho,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:02:55\n\n\nMemory used for data table :186.1558656692505 MB\n-------------------------------------------------------\n\n[Mera]: Get particle data: 2020-02-29T17:57:14.49\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(4,) = (:mass,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001bReading data...100%|████████████████████████████████████| Time: 0:00:03\n\n\nFound 5.089390e+05 particles\nMemory used for data table :19.4152889251709 MB\n-------------------------------------------------------","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"println(\"Cells: \", length(hydro.data))\nprintln(\"Particles: \", length(particles.data))","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Cells: 4879946\nParticles: 508939","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Define a function to preview the first lines of the created ASCII files:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"function viewheader(filename, lines)\n    open(filename) do f\n        line = 1\n        while line<=lines\n            x = readline(f)\n            println(x)\n            line += 1\n        end\n    end\nend","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader (generic function with 1 method)","category":"page"},{"location":"examples/ExportImportData/#Collect-The-Data-For-Export","page":"Export/Import Data (ASCII/Binary)","title":"Collect The Data For Export","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"# Get the cell and particle positions relative to the box-center\n# Choose the relevant units\n# The function getvar returns a dictionary containing a 1d-array for each quantity\nhvals = getvar(hydro, [:x,:y,:z,:cellsize,:rho], [:kpc,:kpc,:kpc,:kpc,:g_cm3], center=[:boxcenter]);\npvals = getvar(hydro, [:x,:y,:z,:mass], [:kpc,:kpc,:kpc,:Msol], center=[:boxcenter]);","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hvals","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Dict{Any,Any} with 5 entries:\n  :cellsize => [0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75  …  …\n  :y        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…\n  :rho      => [6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28…\n  :z        => [-23.25, -22.5, -21.75, -21.0, -20.25, -19.5, -18.75, -18.0, -17…\n  :x        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"pvals","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Dict{Any,Any} with 4 entries:\n  :y    => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23…\n  :z    => [-23.25, -22.5, -21.75, -21.0, -20.25, -19.5, -18.75, -18.0, -17.25,…\n  :mass => [4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217…\n  :x    => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23…","category":"page"},{"location":"examples/ExportImportData/#ASCII:-DelimitedFiles-Library","page":"Export/Import Data (ASCII/Binary)","title":"ASCII: DelimitedFiles Library","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using DelimitedFiles","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Save into an ASCII file with no header, comma separated:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"open(\"simulation_hydro.csv\", \"w\") do io\n    writedlm(io, [hvals[:x] hvals[:y] hvals[:z] hvals[:cellsize] hvals[:rho]], \",\")\nend","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Check the first lines in the file:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader(\"simulation_hydro.csv\", 5)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"-23.25000000001507,-23.25000000001507,-23.25000000001507,0.7500000000004861,6.768382184513761e-28\n-23.25000000001507,-23.25000000001507,-22.500000000014584,0.7500000000004861,6.768382184513761e-28\n-23.25000000001507,-23.25000000001507,-21.750000000014097,0.7500000000004861,6.768382184513761e-28\n-23.25000000001507,-23.25000000001507,-21.00000000001361,0.7500000000004861,6.768382184513761e-28\n-23.25000000001507,-23.25000000001507,-20.250000000013124,0.7500000000004861,6.768382184513761e-28","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Use a different syntax; save into file with header and tab-separated values:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"header = [\"x/kpc\" \"y/kpc\" \"z/kpc\" \"cellsize/kpc\" \"rho/g_cm3\"]\nvalsrray = [hvals[:x] hvals[:y] hvals[:z] hvals[:cellsize] hvals[:rho]] # Array with the columns\nwritedlm(\"simulation_hydro.dat\", [header ; valsrray], \"\\t\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader(\"simulation_hydro.dat\", 5)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"x/kpc\ty/kpc\tz/kpc\tcellsize/kpc\trho/g_cm3\n-23.25000000001507\t-23.25000000001507\t-23.25000000001507\t0.7500000000004861\t6.768382184513761e-28\n-23.25000000001507\t-23.25000000001507\t-22.500000000014584\t0.7500000000004861\t6.768382184513761e-28\n-23.25000000001507\t-23.25000000001507\t-21.750000000014097\t0.7500000000004861\t6.768382184513761e-28\n-23.25000000001507\t-23.25000000001507\t-21.00000000001361\t0.7500000000004861\t6.768382184513761e-28","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Write the particles data into an ASCII file with header:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"header = [\"x/kpc\" \"y/kpc\" \"z/kpc\" \"mass/Msol\"]\nvalsrray = [pvals[:x] pvals[:y] pvals[:z] pvals[:mass]]\nwritedlm(\"simulation_particles.dat\", [header ; valsrray], \"\\t\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader(\"simulation_particles.dat\", 5)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"x/kpc\ty/kpc\tz/kpc\tmass/Msol\n-23.25000000001507\t-23.25000000001507\t-23.25000000001507\t4217.583427040147\n-23.25000000001507\t-23.25000000001507\t-22.500000000014584\t4217.583427040147\n-23.25000000001507\t-23.25000000001507\t-21.750000000014097\t4217.583427040147\n-23.25000000001507\t-23.25000000001507\t-21.00000000001361\t4217.583427040147","category":"page"},{"location":"examples/ExportImportData/#ASCII:-Save-IndexedTables-Database-into-a-CSV-File-with-FileIO","page":"Export/Import Data (ASCII/Binary)","title":"ASCII: Save IndexedTables Database into a CSV-File with FileIO","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using FileIO","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"See for documentation https://github.com/JuliaIO/FileIO.jl/tree/master/docs","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"The simulation data is stored in a IndexedTables database:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"particles.data","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Table with 508939 rows, 6 columns:\n\u001blevel  \u001bx           \u001by        \u001bz        \u001bid      mass\n───────────────────────────────────────────────────────\n6      0.00462947  22.3885  24.571   327957  1.13606e-5\n6      0.109066    22.3782  21.5844  116193  1.13606e-5\n6      0.238211    28.7537  24.8191  194252  1.13606e-5\n6      0.271366    22.7512  31.5681  130805  1.13606e-5\n6      0.312574    16.2385  23.7591  162174  1.13606e-5\n6      0.314957    28.2084  30.966   320052  1.13606e-5\n6      0.328337    4.59858  23.5001  292889  1.13606e-5\n6      0.420712    27.6688  26.5735  102940  1.13606e-5\n6      0.509144    33.1737  23.9789  183902  1.13606e-5\n6      0.565516    25.9409  26.0579  342278  1.13606e-5\n6      0.587289    9.60231  23.8477  280020  1.13606e-5\n6      0.592878    25.5519  21.3079  64182   1.13606e-5\n⋮\n14     37.6271     25.857   23.8833  437164  1.13606e-5\n14     37.6299     25.8403  23.9383  421177  1.13606e-5\n14     37.6301     25.8502  23.9361  478941  1.13606e-5\n14     37.6326     25.8544  23.9383  428429  1.13606e-5\n14     37.6528     25.8898  23.9928  467148  1.13606e-5\n14     37.6643     25.9061  23.9945  496129  1.13606e-5\n14     37.6813     25.8743  23.9789  435636  1.13606e-5\n14     37.7207     25.8623  23.8775  476398  1.13606e-5\n14     38.173      25.8862  23.7978  347919  1.13606e-5\n14     38.1738     25.8914  23.7979  403094  1.13606e-5\n14     38.1739     25.8905  23.7992  381503  1.13606e-5","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"FileIO.save(\"database_partilces.csv\", particles.data)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"┌ Info: Precompiling CSVFiles [5d742f6a-9f54-50ce-8119-2520741973ca]\n└ @ Base loading.jl:1273","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader(\"database_partilces.csv\", 5)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"\"level\",\"x\",\"y\",\"z\",\"id\",\"mass\"\n6,0.004629472789625229,22.388543919075275,24.571021484979347,327957,1.1360607549574087e-5\n6,0.1090659052277639,22.3782196217294,21.58442789512976,116193,1.1360607549574087e-5\n6,0.2382109772356709,28.753723953405462,24.81911909925676,194252,1.1360607549574087e-5\n6,0.271365638325332,22.751224267806695,31.568145104287826,130805,1.1360607549574087e-5","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Export selected variables from the datatable:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using Mera.IndexedTables","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"See for documentation https://juliacomputing.github.io/JuliaDB.jl/latest/","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"FileIO.save(\"database_partilces.csv\", select(particles.data, (:x,:y,:mass)) )","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"viewheader(\"database_partilces.csv\", 5)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"\"x\",\"y\",\"mass\"\n0.004629472789625229,22.388543919075275,1.1360607549574087e-5\n0.1090659052277639,22.3782196217294,1.1360607549574087e-5\n0.2382109772356709,28.753723953405462,1.1360607549574087e-5\n0.271365638325332,22.751224267806695,1.1360607549574087e-5","category":"page"},{"location":"examples/ExportImportData/#Binary:-Save-IndexedTables-Database-into-a-Binary-Format","page":"Export/Import Data (ASCII/Binary)","title":"Binary: Save IndexedTables Database into a Binary Format","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"IndexedTables.save(hydro.data, \"database_hydro.jdb\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Table with 4879946 rows, 5 columns:\n\u001blevel  \u001bcx   \u001bcy   \u001bcz   rho\n─────────────────────────────────\n6      1    1    1    1.0e-5\n6      1    1    2    1.0e-5\n6      1    1    3    1.0e-5\n6      1    1    4    1.0e-5\n6      1    1    5    1.0e-5\n6      1    1    6    1.0e-5\n6      1    1    7    1.0e-5\n6      1    1    8    1.0e-5\n6      1    1    9    1.0e-5\n6      1    1    10   1.0e-5\n6      1    1    11   1.0e-5\n6      1    1    12   1.0e-5\n⋮\n10     826  554  512  0.000561671\n10     826  554  513  0.000634561\n10     826  554  514  0.000585903\n10     826  555  509  0.000368259\n10     826  555  510  0.000381535\n10     826  555  511  0.000401867\n10     826  555  512  0.000413433\n10     826  556  509  0.000353701\n10     826  556  510  0.000360669\n10     826  556  511  0.000380094\n10     826  556  512  0.000386327","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hdata = IndexedTables.load(\"database_hydro.jdb\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Table with 4879946 rows, 5 columns:\n\u001blevel  \u001bcx   \u001bcy   \u001bcz   rho\n─────────────────────────────────\n6      1    1    1    1.0e-5\n6      1    1    2    1.0e-5\n6      1    1    3    1.0e-5\n6      1    1    4    1.0e-5\n6      1    1    5    1.0e-5\n6      1    1    6    1.0e-5\n6      1    1    7    1.0e-5\n6      1    1    8    1.0e-5\n6      1    1    9    1.0e-5\n6      1    1    10   1.0e-5\n6      1    1    11   1.0e-5\n6      1    1    12   1.0e-5\n⋮\n10     826  554  512  0.000561671\n10     826  554  513  0.000634561\n10     826  554  514  0.000585903\n10     826  555  509  0.000368259\n10     826  555  510  0.000381535\n10     826  555  511  0.000401867\n10     826  555  512  0.000413433\n10     826  556  509  0.000353701\n10     826  556  510  0.000360669\n10     826  556  511  0.000380094\n10     826  556  512  0.000386327","category":"page"},{"location":"examples/ExportImportData/#Binary:-Save-Multiple-Data-into-a-JLD-File","page":"Export/Import Data (ASCII/Binary)","title":"Binary: Save Multiple Data into a JLD File","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"See for documentation: https://github.com/JuliaIO/JLD.jl","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using JLD","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"jldopen(\"mydata.jld\", \"w\") do file\n    write(file, \"hydro\", hvals ) \n    write(file, \"particles\", pvals ) \nend","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Open file for read and get an overview of the stored dataset:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"file = jldopen(\"mydata.jld\",\"r\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Julia data file version 0.1.3: mydata.jld","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"names(file)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"2-element Array{String,1}:\n \"hydro\"    \n \"particles\"","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata = read(file, \"hydro\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Dict{Any,Any} with 5 entries:\n  :x        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…\n  :y        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…\n  :rho      => [6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28…\n  :z        => [-23.25, -22.5, -21.75, -21.0, -20.25, -19.5, -18.75, -18.0, -17…\n  :cellsize => [0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75  …  …","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"particledata = read(file, \"particles\")","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Dict{Any,Any} with 4 entries:\n  :y    => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23…\n  :z    => [-23.25, -22.5, -21.75, -21.0, -20.25, -19.5, -18.75, -18.0, -17.25,…\n  :mass => [4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217.58, 4217…\n  :x    => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23…","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Compare stored with original data:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata == hvals","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"true","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"particledata == pvals","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"true","category":"page"},{"location":"examples/ExportImportData/#Binary:-Compress-Data-into-a-gz-File","page":"Export/Import Data (ASCII/Binary)","title":"Binary: Compress Data into a gz-File","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"using CodecZlib, Serialization","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"See for documentation: https://github.com/JuliaIO/CodecZlib.jl","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"fo= GzipCompressorStream( open(\"sample-data.jls.gz\", \"w\") ); serialize(fo, hvals); close(fo)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata1 = deserialize( GzipDecompressorStream( open(\"sample-data.jls.gz\", \"r\") ) )","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Dict{Any,Any} with 5 entries:\n  :x        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…\n  :y        => [-23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25, -23.25,…\n  :rho      => [6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28, 6.76838e-28…\n  :z        => [-23.25, -22.5, -21.75, -21.0, -20.25, -19.5, -18.75, -18.0, -17…\n  :cellsize => [0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75, 0.75  …  …","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata1 == hvals","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"true","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Prepare variable-array:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"varsarray = [hvals[:x] hvals[:y] hvals[:z] hvals[:cellsize] hvals[:rho]]","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"4879946×5 Array{Float64,2}:\n -23.25    -23.25     -23.25      0.75      6.76838e-28\n -23.25    -23.25     -22.5       0.75      6.76838e-28\n -23.25    -23.25     -21.75      0.75      6.76838e-28\n -23.25    -23.25     -21.0       0.75      6.76838e-28\n -23.25    -23.25     -20.25      0.75      6.76838e-28\n -23.25    -23.25     -19.5       0.75      6.76838e-28\n -23.25    -23.25     -18.75      0.75      6.76838e-28\n -23.25    -23.25     -18.0       0.75      6.76838e-28\n -23.25    -23.25     -17.25      0.75      6.76838e-28\n -23.25    -23.25     -16.5       0.75      6.76838e-28\n -23.25    -23.25     -15.75      0.75      6.76838e-28\n -23.25    -23.25     -15.0       0.75      6.76838e-28\n -23.25    -23.25     -14.25      0.75      6.76838e-28\n   ⋮                                                   \n  14.7188    1.96875   -0.046875  0.046875  3.59298e-26\n  14.7188    1.96875    0.0       0.046875  3.80161e-26\n  14.7188    1.96875    0.046875  0.046875  4.29495e-26\n  14.7188    1.96875    0.09375   0.046875  3.96562e-26\n  14.7188    2.01563   -0.140625  0.046875  2.49252e-26\n  14.7188    2.01563   -0.09375   0.046875  2.58237e-26\n  14.7188    2.01563   -0.046875  0.046875  2.71999e-26\n  14.7188    2.01563    0.0       0.046875  2.79827e-26\n  14.7188    2.0625    -0.140625  0.046875  2.39398e-26\n  14.7188    2.0625    -0.09375   0.046875  2.44115e-26\n  14.7188    2.0625    -0.046875  0.046875  2.57262e-26\n  14.7188    2.0625     0.0       0.046875  2.61481e-26","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"fo= GzipCompressorStream( open(\"sample-data2.jls.gz\", \"w\") ); serialize(fo, varsarray); close(fo)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Read the data again:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata2 = deserialize( GzipDecompressorStream( open(\"sample-data2.jls.gz\", \"r\") ) )","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"4879946×5 Array{Float64,2}:\n -23.25    -23.25     -23.25      0.75      6.76838e-28\n -23.25    -23.25     -22.5       0.75      6.76838e-28\n -23.25    -23.25     -21.75      0.75      6.76838e-28\n -23.25    -23.25     -21.0       0.75      6.76838e-28\n -23.25    -23.25     -20.25      0.75      6.76838e-28\n -23.25    -23.25     -19.5       0.75      6.76838e-28\n -23.25    -23.25     -18.75      0.75      6.76838e-28\n -23.25    -23.25     -18.0       0.75      6.76838e-28\n -23.25    -23.25     -17.25      0.75      6.76838e-28\n -23.25    -23.25     -16.5       0.75      6.76838e-28\n -23.25    -23.25     -15.75      0.75      6.76838e-28\n -23.25    -23.25     -15.0       0.75      6.76838e-28\n -23.25    -23.25     -14.25      0.75      6.76838e-28\n   ⋮                                                   \n  14.7188    1.96875   -0.046875  0.046875  3.59298e-26\n  14.7188    1.96875    0.0       0.046875  3.80161e-26\n  14.7188    1.96875    0.046875  0.046875  4.29495e-26\n  14.7188    1.96875    0.09375   0.046875  3.96562e-26\n  14.7188    2.01563   -0.140625  0.046875  2.49252e-26\n  14.7188    2.01563   -0.09375   0.046875  2.58237e-26\n  14.7188    2.01563   -0.046875  0.046875  2.71999e-26\n  14.7188    2.01563    0.0       0.046875  2.79827e-26\n  14.7188    2.0625    -0.140625  0.046875  2.39398e-26\n  14.7188    2.0625    -0.09375   0.046875  2.44115e-26\n  14.7188    2.0625    -0.046875  0.046875  2.57262e-26\n  14.7188    2.0625     0.0       0.046875  2.61481e-26","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Compare original with loaded data:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata2 == varsarray","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"true","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"Store array with header:","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"header = [\"x/kpc\" \"y/kpc\" \"z/kpc\" \"cellsize/kpc\" \"rho/g_cm3\"]\nfo= GzipCompressorStream( open(\"sample-data3.jls.gz\", \"w\") ); serialize(fo, [header ; varsarray]); close(fo)","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"hydrodata3 = deserialize( GzipDecompressorStream( open(\"sample-data3.jls.gz\", \"r\") ) )","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"4879947×5 Array{Any,2}:\n    \"x/kpc\"     \"y/kpc\"     \"z/kpc\"   \"cellsize/kpc\"   \"rho/g_cm3\"\n -23.25      -23.25      -23.25      0.75             6.76838e-28 \n -23.25      -23.25      -22.5       0.75             6.76838e-28 \n -23.25      -23.25      -21.75      0.75             6.76838e-28 \n -23.25      -23.25      -21.0       0.75             6.76838e-28 \n -23.25      -23.25      -20.25      0.75             6.76838e-28 \n -23.25      -23.25      -19.5       0.75             6.76838e-28 \n -23.25      -23.25      -18.75      0.75             6.76838e-28 \n -23.25      -23.25      -18.0       0.75             6.76838e-28 \n -23.25      -23.25      -17.25      0.75             6.76838e-28 \n -23.25      -23.25      -16.5       0.75             6.76838e-28 \n -23.25      -23.25      -15.75      0.75             6.76838e-28 \n -23.25      -23.25      -15.0       0.75             6.76838e-28 \n   ⋮                                                              \n  14.7188      1.96875    -0.046875  0.046875         3.59298e-26 \n  14.7188      1.96875     0.0       0.046875         3.80161e-26 \n  14.7188      1.96875     0.046875  0.046875         4.29495e-26 \n  14.7188      1.96875     0.09375   0.046875         3.96562e-26 \n  14.7188      2.01563    -0.140625  0.046875         2.49252e-26 \n  14.7188      2.01563    -0.09375   0.046875         2.58237e-26 \n  14.7188      2.01563    -0.046875  0.046875         2.71999e-26 \n  14.7188      2.01563     0.0       0.046875         2.79827e-26 \n  14.7188      2.0625     -0.140625  0.046875         2.39398e-26 \n  14.7188      2.0625     -0.09375   0.046875         2.44115e-26 \n  14.7188      2.0625     -0.046875  0.046875         2.57262e-26 \n  14.7188      2.0625      0.0       0.046875         2.61481e-26","category":"page"},{"location":"examples/ExportImportData/#Other-File-Formats","page":"Export/Import Data (ASCII/Binary)","title":"Other File Formats","text":"","category":"section"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"JLD2 https://github.com/JuliaIO/JLD2.jl\nHDF5 https://github.com/JuliaIO/HDF5.jl\nNumpy https://github.com/fhs/NPZ.jl\nFITS https://github.com/JuliaAstro/FITSIO.jl\nFITS https://github.com/emmt/EasyFITS.jl\nMatlab https://github.com/JuliaIO/MAT.jl\nGZip https://github.com/JuliaIO/GZip.jl","category":"page"},{"location":"examples/ExportImportData/","page":"Export/Import Data (ASCII/Binary)","title":"Export/Import Data (ASCII/Binary)","text":"","category":"page"},{"location":"paraview_intro/#Introduction","page":"Intro","title":"Introduction","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"This section guides the export of simulation data in the VTK (Visualization Toolkit) format, a widely recognized standard for 3D visualization in scientific computing. The exported files are compatible with visualization tools like ParaView (an open-source software), allowing for detailed analysis and rendering of complex datasets. Both the exported hydro cells and particle data can be opened together in ParaView. For certain functions, multi-threading is used (this feature is experimental). To utilize this, load Julia or your Jupyter Notebook with multiple threads, and the multi-threading will be applied automatically. Paraview can also be used remotely running on a server with MPI.","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"You can download the necessary files here: https://www.paraview.org.","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"using Mera","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"?export_vtk","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"search: export_vtk export exponent","category":"page"},{"location":"paraview_intro/#Export-hydro-data-to-VTK-format-for-visualization-in-tools-like-ParaView.","page":"Intro","title":"Export hydro data to VTK format for visualization in tools like ParaView.","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"export data that is present in your database and can be processed by getvar() (done internally)\nselect scalar(s) and their unit(s)\nselect a vector and its unit (like velocity)\nexport data in log10\ncreates binary files with optional compression\nsupports multi-threading","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"-> generating per-level VTU files for scalar and optionally vector data  and creates corresponding VTM multiblock container files to reference these VTU files.","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"export_vtk(\n    dataobject::HydroDataType, outprefix::String;\n    scalars::Vector{Symbol} = [:rho],\n    scalars_unit::Vector{Symbol} = [:nH],\n    scalars_log10::Bool=false,\n    vector::Array{<:Any,1}=[missing, missing, missing],\n    vector_unit::Symbol = :km_s,\n    vector_name::String = \"velocity\",\n    vector_log10::Bool=false,\n    positions_unit::Symbol = :standard,\n    lmin::Int = dataobject.lmin,\n    lmax::Int = dataobject.lmax,\n    chunk_size::Int = 50000,\n    compress::Bool = true,\n    interpolate_higher_levels::Bool = true,\n    max_cells::Int = 100_000_000,\n    verbose::Bool = true,\n    myargs::ArgumentsType=ArgumentsType()\n)","category":"page"},{"location":"paraview_intro/#Arguments","page":"Intro","title":"Arguments","text":"","category":"section"},{"location":"paraview_intro/#Required:","page":"Intro","title":"Required:","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"dataobject::HydroDataType: The AMR data structure from MERA.jl containing variables like level, position, and physical quantities.\noutprefix::String: The base path and prefix for output files (e.g., \"output/data\" will create files like \"output/data_L0.vtu\").","category":"page"},{"location":"paraview_intro/#Predefined/Optional-Keywords:","page":"Intro","title":"Predefined/Optional Keywords:","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"scalars: List of scalar variables to export (default is :rho);  from the database or a predefined quantity (see field: info, function getvar(), dataobject.data)\nscalars_unit: Sets the unit for the list of scalars (default is hydrogen number density in cm^-3).\nscalars_log10: Apply log10 to the scalars (default false).\nvector: List of vector component variables to export (default is missing); exports vector data as separate VTU files\nvector_unit: Sets the unit for the vector components (default is km/s).\nvector_name: The name of the vector field in the VTK file (default: \"velocity\").\nvector_log10: Apply log10 to the vector components (default: false).\npositions_unit: Sets the unit of the cell positions (default: code units); usefull in paraview to select regions\nlmin: Minimum AMR level to process (default: simulations lmin); smaller levels are excluded in export\nlmax: Maximum AMR level to process (default: simulations lmax); existing higher levels are interpolated down if interpolatehigherlevels is true, otherwise excluded from export\nchunk_size::Int = 50000: Size of data chunks for processing (currently unused but reserved for future optimizations).\ncompress: If true (default), enable compression.\ninterpolate_higher_levels: If true, interpolate data from higher levels down to given lmax\nmax_cells: Maximum number of cells to export per level (caps output if exceeded, prioritizing denser regions), (default: 100000000)\nverbose: If true (default), print detailed progress and diagnostic messages.","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"","category":"page"},{"location":"paraview_intro/#Export-particle-data-to-VTK-format-for-visualization-in-tools-like-ParaView.","page":"Intro","title":"Export particle data to VTK format for visualization in tools like ParaView.","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"export data that is present in your database and can be processed by getvar() (done internally)\nselect scalar(s) and their unit(s)\nselect a vector and its unit (like velocity)\nexport data in log10\ncreates binary files with optional compression\nsupports multi-threading","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"-> generates VTU files; each particle is represented as a vertex point  with associated scalar and vector data.","category":"page"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"export_vtk(\n    dataobject::PartDataType, outprefix::String;\n    scalars::Vector{Symbol} = [:mass],\n    scalars_unit::Vector{Symbol} = [:Msol],\n    scalars_log10::Bool=false,\n    vector::Array{<:Any,1}=[missing, missing, missing],\n    vector_unit::Symbol = :km_s,\n    vector_name::String = \"velocity\",\n    vector_log10::Bool=false,\n    positions_unit::Symbol = :standard,\n    chunk_size::Int = 50000,\n    compress::Bool = false,\n    max_particles::Int = 100_000_000,\n    verbose::Bool = true,\n    myargs::ArgumentsType=ArgumentsType()\n)","category":"page"},{"location":"paraview_intro/#Arguments-2","page":"Intro","title":"Arguments","text":"","category":"section"},{"location":"paraview_intro/#Required:-2","page":"Intro","title":"Required:","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"**dataobject::PartDataType:*** needs to be of type \"PartDataType\"\noutprefix: The base path and prefix for output file (e.g., \"foldername/particles\" will create \"foldername/particles.vtu\").","category":"page"},{"location":"paraview_intro/#Predefined/Optional-Keywords:-2","page":"Intro","title":"Predefined/Optional Keywords:","text":"","category":"section"},{"location":"paraview_intro/","page":"Intro","title":"Intro","text":"scalars: List of scalar variables to export (default is particle mass);  from the database or a predefined quantity (see field: info, function getvar(), dataobject.data)\nscalars_unit: Sets the unit for the list of scalars (default is Msun).\nscalars_log10: Apply log10 to the scalars (default false).\nvector: List of vector component variables to export (default is missing).\nvector_unit: Sets the unit for the vector components (default is km/s).\nvector_name: The name of the vector field in the VTK file (default: \"velocity\").\nvector_log10: Apply log10 to the vector components (default: false).\npositions_unit: Sets the unit of the particle positions (default: code units); usefull in paraview to select regions\nchunk_size::Int = 50000: Size of data chunks for processing (reserved for future optimizations).\ncompress: If false (default), disable compression.\nmax_particles: Maximum number of particles to export (caps output if exceeded), (default: 100000000)\nverbose: If true (default), print detailed progress and diagnostic messages.","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#5.-Mask/Select/Map/Filter/Metaprogramming...","page":"5-Mask/Filter/Meta","title":"5. Mask/Select/Map/Filter/Metaprogramming...","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Learn how to extract data from the data table with IndexedTables and Mera functions\nFilter the data table according to one or several conditions\nExtract data from a filtered data table and use it for further calculations\nExtend the data table with new columns/variables\nMask data with different methods and apply it to some functions","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Load-The-Data","page":"5-Mask/Filter/Meta","title":"Load The Data","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\ngas       = gethydro(info, lmax=8, smallr=1e-5);  \nparticles = getparticles(info)\nclumps    = getclumps(info);","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"[Mera]: 2020-02-08T20:56:19.834\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get hydro data: 2020-02-08T20:56:27.064\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:02:07\u001b[39m\n\n\nMemory used for data table :71.28007793426514 MB\n-------------------------------------------------------\n\n[Mera]: Get particle data: 2020-02-08T20:58:39.435\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(1, 2, 3, 4, 5) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.089390e+05 particles\nMemory used for data table :34.947275161743164 MB\n-------------------------------------------------------\n\n[Mera]: Get clump data: 2020-02-08T20:58:41.769\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Select-From-Data-Table","page":"5-Mask/Filter/Meta","title":"Select From Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Select-a-single-column/variable","page":"5-Mask/Filter/Meta","title":"Select a single column/variable","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#By-using-IndexedTables-or-Mera-functions","page":"5-Mask/Filter/Meta","title":"By using IndexedTables or Mera functions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"using Mera.IndexedTables","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"The data table is stored in the data-field of any DataSetType. Extract an existing column (variable):","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"select(gas.data, :rho) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162 \n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Pass the entire DataSetType (here gas) to the Mera function getvar to extract the selected variable or derived quantity from the data table. Call getvar() to get a list of the predefined quantities.","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"getvar(gas, :rho) # MERA","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162 \n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Select-several-columns","page":"5-Mask/Filter/Meta","title":"Select several columns","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"By selecting several columns a new data table is returned:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"select(gas.data, (:rho, :level)) #JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Table with 849332 rows, 2 columns:\nrho          \u001blevel\n──────────────────\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n1.0e-5       6\n⋮\n0.000108804  8\n0.000109156  8\n0.000109171  8\n0.000124654  8\n0.000119345  8\n0.000112947  8\n0.000111101  8\n0.000109013  8\n0.000108494  8\n0.000109006  8\n0.000109102  8","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"The getvar function returns a dictionary containing the extracted arrays:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"getvar(gas, [:rho, :level]) # MERA","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Dict{Any,Any} with 2 entries:\n  :level => [6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0  …  8.0, 8.0, 8.0…\n  :rho   => [1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.…","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Select one or more columns and get a tuple of vectors:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"vtuple = columns(gas.data, (:rho, :level)) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"(rho = [1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5, 1.0e-5  …  0.00010915603617815434, 0.00010917096551347797, 0.00012465438542871006, 0.00011934527871880502, 0.00011294656300014925, 0.00011110068692986109, 0.00010901341218606515, 0.00010849404903183988, 0.00010900588395976569, 0.00010910219163333514], level = [6, 6, 6, 6, 6, 6, 6, 6, 6, 6  …  8, 8, 8, 8, 8, 8, 8, 8, 8, 8])","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"propertynames(vtuple)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"(:rho, :level)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"vtuple.rho","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332-element Array{Float64,1}:\n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n 1.0e-5                \n ⋮                     \n 0.00010967104288285959\n 0.0001088040126114162 \n 0.00010915603617815434\n 0.00010917096551347797\n 0.00012465438542871006\n 0.00011934527871880502\n 0.00011294656300014925\n 0.00011110068692986109\n 0.00010901341218606515\n 0.00010849404903183988\n 0.00010900588395976569\n 0.00010910219163333514","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Filter-by-Condition","page":"5-Mask/Filter/Meta","title":"Filter by Condition","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#With-IndexedTables-(example-A)","page":"5-Mask/Filter/Meta","title":"With IndexedTables (example A)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Get all the data corresponding to cells/rows with level=6. Here, the variable p is used as placeholder for rows. A new JuliaDB data table is returend:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"filtered_db = filter(p->p.level==6, gas.data ) # JuliaDB\n# see the reduced row number","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Table with 240956 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#With-IndexedTables-(example-B)","page":"5-Mask/Filter/Meta","title":"With IndexedTables (example B)","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Get all cells/rows with densities >= 3 Msol/pc^3. Since the data is given in code units, we need to convert from the given physical units:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"density = 3. / gas.scale.Msol_pc3\nfiltered_db = filter(p->p.rho>= density, gas.data ) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Table with 210 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Get-a-Quantity/Variable-from-The-Filtered-Data-Table","page":"5-Mask/Filter/Meta","title":"Get a Quantity/Variable from The Filtered Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Calculate the mass for each cell and the sum:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mass_tot = getvar(gas, :mass, :Msol) # the full data table\nsum(mass_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"3.0968754148332745e10","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"The same calculation is possible for the filtered data base which has to be passed together with the original object, here: gas","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mass_filtered_tot = getvar(gas, :mass, :Msol, filtered_db=filtered_db) # the filtered data table\nsum(mass_filtered_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"1.4862767967535206e10","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Create-a-New-DataSetType-from-a-Filtered-Data-Table","page":"5-Mask/Filter/Meta","title":"Create a New DataSetType from a Filtered Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"A new DataSetType can be constructed for the filtered data table that can be passed to the functions.","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"density = 3. /gas.scale.Msol_pc3\nfiltered_db = @filter gas.data :rho >= density\ngas_new = construct_datatype(filtered_db, gas);","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"# Both are now of HydroDataType and include the same information about the simulation properties (besides the canged data table)\nprintln( typeof(gas) )\nprintln( typeof(gas_new) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"HydroDataType\nHydroDataType","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mass_filtered_tot = getvar(gas_new, :mass, :Msol)\nsum(mass_filtered_tot)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"1.4862767967535206e10","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Filter-by-Multiple-Conditions","page":"5-Mask/Filter/Meta","title":"Filter by Multiple Conditions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#With-IndexedTables","page":"5-Mask/Filter/Meta","title":"With IndexedTables","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Get the mass of all cells/rows with densities >= 3 Msol/pc^3 that is within the disk radius of 3 kpc and 2 kpc from the plane:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"boxlen = info.boxlen\ncv = boxlen/2. # box-center \ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\n# filter cells/rows that contain rho greater equal density\nfiltered_db = filter(p->p.rho >= density, gas.data )\n\n# filter cells/rows lower equal the defined radius and height\n# (convert the cell number to a position according to its cellsize and relative to the box center)\nfiltered_db = filter(row-> sqrt( (row.cx * boxlen /2^row.level - cv)^2 + (row.cy * boxlen /2^row.level - cv)^2) <= radius &&\n                              abs(row.cz * boxlen /2^row.level - cv) <= height, filtered_db)\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Use-Pipeline-Macros","page":"5-Mask/Filter/Meta","title":"Use Pipeline Macros","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"boxlen = info.boxlen\ncv = boxlen/2.\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\nfiltered_db = @apply gas.data begin\n     @where :rho >= density\n     @where sqrt( (:cx * boxlen/2^:level - cv)^2 + (:cy * boxlen/2^:level - cv)^2 ) <= radius\n     @where abs(:cz * boxlen/2^:level -cv) <= height\nend\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#External-Functions-With-IndexedTables","page":"5-Mask/Filter/Meta","title":"External Functions With IndexedTables","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"boxlen = info.boxlen\nfunction r(x,y,level,boxlen)\n    return sqrt((x * boxlen /2^level - boxlen/2.)^2 + (y * boxlen /2^level - boxlen/2.)^2)\nend\n\nfunction h(z,level,boxlen)\n    return abs(z  * boxlen /2^level - boxlen/2.)\nend\n\n\ndensity = 3. /gas.scale.Msol_pc3\nradius  = 3. /gas.scale.kpc\nheight  = 2. /gas.scale.kpc\n\n\nfiltered_db = filter(row->  row.rho >= density &&\n                            r(row.cx,row.cy, row.level, boxlen) <= radius &&\n                            h(row.cz,row.level, boxlen) <= height,  gas.data)\n\n\nvar_filtered = getvar(gas, :mass, filtered_db=filtered_db, unit=:Msol)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Compare-With-Predefined-Functions","page":"5-Mask/Filter/Meta","title":"Compare With Predefined Functions","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Compare the previous calculations with the predefined subregion function: The subregion function takes the intersected cells of the range borders into account (default):","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"density = 3. /gas.scale.Msol_pc3 # in code units\n\nsub_region = subregion(gas, :cylinder, radius=3., height=2., center=[:boxcenter], range_unit=:kpc, verbose=false ) # default: cell=true\nfiltered_db = @filter sub_region.data :rho >= density\n\nvar_filtered = getvar(gas, :mass, :Msol, filtered_db=filtered_db)\nsum(var_filtered) # [Msol]","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"2.9388306102361355e9","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"By setting the keyword cell=false, only the cell-centres within the defined region are taken into account (as in the calculations in the previous section).","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"density = 3. /gas.scale.Msol_pc3 # in code units\n\nsub_region = subregion(gas, :cylinder, radius=3., height=2., center=[:boxcenter], range_unit=:kpc, cell=false, verbose=false )\nfiltered_db = @filter sub_region.data :rho >= density\n\nvar_filtered = getvar(gas, :mass, :Msol, filtered_db=filtered_db)\nsum(var_filtered)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"2.750632450062189e9","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Extend-the-Data-Table","page":"5-Mask/Filter/Meta","title":"Extend the Data Table","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Add costum columns/variables to the data that can be automatically processed in some functions: (note: to take advantage of the Mera unit management, store new data in code-units)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"# calculate the Mach number in each cell\nmach = getvar(gas, :mach); ","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"# add the extracted Mach number (1dim-array) to the data in the object \"gas\"\n# the array has the same length and order (rows/cells) as in the data table\n# push a column at the end of the table:\n# transform(data-table, key => new-data)\ngas.data = transform(gas.data, :mach => mach) # JuliaDB","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Table with 849332 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64\n12  mach     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"proj_z = projection(gas, :mach, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"[Mera]: 2020-02-08T20:59:42.246\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.3333333 :: 0.6666667  \t==> 16.0 [kpc] :: 32.0 [kpc]\nymin::ymax: 0.3333333 :: 0.6666667  \t==> 16.0 [kpc] :: 32.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:mach, :sd) \n\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:00:07\u001b[39m","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"using PyPlot\nimshow( ( permutedims(proj_z.maps[:mach]) ), origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"(Image: png)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Remove the column :mach from the table:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"gas.data = select(gas.data, Not(:mach)) # select all columns, not :mach","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Table with 849332 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Masking","page":"5-Mask/Filter/Meta","title":"Masking","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Many functions in MERA provide the opportunity to use a mask on selected data without changing the content in the data table. Here we present several methods to prepare a mask and apply it to some functions. A created mask is an array of type: MaskType, which can be Array{Bool,1} or BitArray{1}. A masked cell/row corresponds to a false.","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Version-1:-External-Function","page":"5-Mask/Filter/Meta","title":"Version 1: External Function","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Create an array which represents the cells with the selected condition by true. The function checks if the following requirement is true or false for each row/cell in the data table:","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"function ftest(value)\n    density = (4. / gas.scale.Msol_pc3)\n    if value < density\n        return true\n     else \n        return false\n    end\nend\n\nmask_v1 = map(row->ftest(row.rho), gas.data);\n\nprintln( length(mask_v1) )\nprintln( typeof(mask_v1) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332\nArray{Bool,1}","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Version-2:-Short-Syntax","page":"5-Mask/Filter/Meta","title":"Version 2: Short Syntax","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Example-1","page":"5-Mask/Filter/Meta","title":"Example 1","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask_v2 = map(row->row.rho < 4. / gas.scale.Msol_pc3, gas.data);\n\nprintln( length(mask_v2) )\nprintln( typeof(mask_v2) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332\nArray{Bool,1}","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Example-2","page":"5-Mask/Filter/Meta","title":"Example 2","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask_v2b = getvar(gas, :rho, :Msol_pc3) .> 1. ;\n\nprintln( length(mask_v2b) )\nprintln( typeof(mask_v2b) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332\nBitArray{1}","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Version-3:-Longer-Syntax","page":"5-Mask/Filter/Meta","title":"Version 3: Longer Syntax","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"rho_array = select(gas.data, :rho);\nmask_v3 = rho_array .< 1. / gas.scale.Msol_pc3;\n\nprintln( length(mask_v3) )\nprintln( typeof(mask_v3) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"849332\nBitArray{1}","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Combine-Multiple-Masks","page":"5-Mask/Filter/Meta","title":"Combine Multiple Masks","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"# create individual masks for different density and temperature regions\nmask_h = getvar(gas, :rho, :nH) .< 10. # cm-3\nmask_l = getvar(gas, :rho, :nH) .> 1e-2  # cm-3\n\nmask_T1 = getvar(gas, :Temperature, :K) .< 1e4 # K\nmask_T2 = getvar(gas, :Temperature, :K) .> 1e3  # K\n\n# combine several masks to one\nmask_tot = mask_h .* mask_l .* mask_T1 .* mask_T2\n\nprintln( length(mask_tot) )\nprintln( typeof(mask_tot) )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"28320979\nBitVector","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Some-Functions-With-Masking-Functionality","page":"5-Mask/Filter/Meta","title":"Some Functions With Masking Functionality","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"The masked rows are not considered in the calculations (mask-element = false ).","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Examples","page":"5-Mask/Filter/Meta","title":"Examples","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Total-Mass","page":"5-Mask/Filter/Meta","title":"Total Mass","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.rho < 1. / gas.scale.Msol_pc3, gas.data);\nmtot_masked = msum(gas, :Msol, mask=mask) \nmtot        = msum(gas, :Msol) \nprintln()\nprintln( \"Gas Mtot masked: \", mtot_masked  , \" Msol\" )\nprintln( \"Gas Mtot:        \", mtot         , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Gas Mtot masked: 1.336918953133308e10 Msol\nGas Mtot:        3.0968754148332745e10 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\nmtot_masked = msum(particles, :Msol, mask=mask) \nmtot        = msum(particles, :Msol) \nprintln()\nprintln( \"Particles Mtot masked: \", mtot_masked , \" Msol\" )\nprintln( \"Particles Mtot:        \", mtot        , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Particles Mtot masked: 1.4537556611888414e7 Msol\nParticles Mtot:        5.804426008528437e9 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.mass_cl < 1e6 / clumps.scale.Msol, clumps.data);\nmtot_masked = msum(clumps, :Msol, mask=mask) \nmtot        = msum(clumps, :Msol) \nprintln()\nprintln( \"Clumps Mtot masked:    \", mtot_masked , \" Msol\" )\nprintln( \"Clumps Mtot:           \", mtot        , \" Msol\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Clumps Mtot masked:    2.926390055686605e7 Msol\nClumps Mtot:           1.3743280681841677e10 Msol","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Center-Of-Mass","page":"5-Mask/Filter/Meta","title":"Center-Of-Mass","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.rho < 100. / gas.scale.nH, gas.data);\ncom_gas_masked = center_of_mass(gas, :kpc, mask=mask) \ncom_gas        = center_of_mass(gas, :kpc) \nprintln()\nprintln( \"Gas COM masked: \", com_gas_masked , \" kpc\" )\nprintln( \"Gas COM:        \", com_gas        , \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Gas COM masked: (23.632781376611646, 24.017935187730938, 24.078280687627124) kpc\nGas COM:        (23.47221401632259, 23.93931869865653, 24.08483637116779) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\ncom_particles_masked = center_of_mass(particles, :kpc, mask=mask) \ncom_particles        = center_of_mass(particles, :kpc) \nprintln()\nprintln( \"Particles COM masked: \", com_particles_masked , \" kpc\" )\nprintln( \"Particles COM:        \", com_particles        , \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Particles COM masked: (22.766374936557934, 24.817294529838456, 24.020065595650212) kpc\nParticles COM:        (22.891354761211332, 24.174147282680273, 24.003205056545575) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"# calculate joint center-of-mass from gas and particles\nmask1 = map(row->row.rho < 100. / gas.scale.nH, gas.data); # mask for the hydro data\nmask2 = map(row->row.birth < 100.  / particles.scale.Myr, particles.data); # mask for the particle data\n\nprintln( \"Joint COM (Gas + Particles) masked: \", center_of_mass([gas,particles], :kpc, mask=[mask1, mask2]) , \" kpc\" )\nprintln( \"Joint COM (Gas + Particles):        \", center_of_mass([gas,particles], :kpc) , \" kpc\" )","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Joint COM (Gas + Particles) masked: (23.632014753139174, 24.01864248583754, 24.078229177095928) kpc\nJoint COM (Gas + Particles):        (23.380528865533876, 23.976384982693947, 24.07195135758772) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.mass_cl < 1e6 / clumps.scale.Msol, clumps.data);\ncom_clumps_masked = center_of_mass(clumps, mask=mask) \ncom_clumps        = center_of_mass(clumps) \nprintln()\nprintln( \"Clumps COM masked:\", com_clumps_masked .* clumps.scale.kpc, \" kpc\" )\nprintln( \"Clumps COM:       \", com_clumps        .* clumps.scale.kpc, \" kpc\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Clumps COM masked:(22.979676622296815, 23.22447986984898, 24.11056806473746) kpc\nClumps COM:       (23.135765457064576, 23.741712325649264, 24.0050127185862) kpc","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Bulk-Velocity","page":"5-Mask/Filter/Meta","title":"Bulk-Velocity","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.rho < 100. / gas.scale.nH, gas.data);\nbv_gas_masked = bulk_velocity(gas, :km_s, mask=mask) \nbv_gas        = bulk_velocity(gas, :km_s)  \nprintln()\nprintln( \"Gas bulk velocity masked: \", bv_gas_masked , \" km/s\" )\nprintln( \"Gas bulk velocity:        \", bv_gas        , \" km/s\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Gas bulk velocity masked: (-0.046336703401138456, -6.60993479840688, -1.000280146674773) km/s\nGas bulk velocity:        (-1.1999253584798182, -10.678485153330122, -0.44038538452508785) km/s","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"mask = map(row->row.birth < 100. / particles.scale.Myr, particles.data);\nbv_particles_masked = bulk_velocity(particles, :km_s, mask=mask) \nbv_particles        = bulk_velocity(particles, :km_s) \nprintln()\nprintln( \"Particles bulk velocity masked: \", bv_particles_masked , \" km/s\" )\nprintln( \"Particles bulk velocity:        \", bv_particles        , \" km/s\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Particles bulk velocity masked: (-27.702254113836513, -7.532075727552787, -1.3273993940211153) km/s\nParticles bulk velocity:        (-11.623422700314535, -18.440572802490234, -0.3291927731417528) km/s","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/#Weighted-Statistics","page":"5-Mask/Filter/Meta","title":"Weighted Statistics","text":"","category":"section"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"(It is also possible to use the mask within the getvar function)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"maskgas   = map(row->row.rho < 100. / gas.scale.nH, gas.data);\nmaskpart  = map(row->row.birth < 100.  / particles.scale.Myr, particles.data);\nmaskclump = map(row->row.mass_cl < 1e7 / clumps.scale.Msol, clumps.data);\n\nstats_gas_masked       = wstat( getvar(gas,       :vx,     :km_s), weight=getvar(gas,       :mass  ),  mask=maskgas);\nstats_particles_masked = wstat( getvar(particles, :vx,     :km_s), weight=getvar(particles, :mass   ), mask=maskpart);\nstats_clumps_masked    = wstat( getvar(clumps,    :peak_x, :kpc ), weight=getvar(clumps,    :mass_cl), mask=maskclump)  ;\n\nprintln( \"Gas        <vx>_cells masked      : \",  stats_gas_masked.mean,       \" km/s (mass weighted)\" )\nprintln( \"Particles  <vx>_particles masked  : \",  stats_particles_masked.mean, \" km/s (mass weighted)\" )\nprintln( \"Clumps <peak_x>_clumps masked     : \",  stats_clumps_masked.mean,    \" kpc  (mass weighted)\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Gas        <vx>_cells masked      : -0.04633670340114798 km/s (mass weighted)\nParticles  <vx>_particles masked  : -27.702254113836517 km/s (mass weighted)\nClumps <peak_x>_clumps masked     : 22.907689025275953 kpc  (mass weighted)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"stats_gas       = wstat( getvar(gas,       :vx,     :km_s), weight=getvar(gas,       :mass  ));\nstats_particles = wstat( getvar(particles, :vx,     :km_s), weight=getvar(particles, :mass   ));\nstats_clumps    = wstat( getvar(clumps,    :peak_x, :kpc ), weight=getvar(clumps,    :mass_cl))  ;\n\nprintln( \"Gas        <vx>_allcells     : \",  stats_gas.mean,       \" km/s (mass weighted)\" )\nprintln( \"Particles  <vx>_allparticles : \",  stats_particles.mean, \" km/s (mass weighted)\" )\nprintln( \"Clumps <peak_x>_allclumps    : \",  stats_clumps.mean,    \" kpc  (mass weighted)\" )\nprintln()","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"Gas        <vx>_allcells     : -1.199925358479736 km/s (mass weighted)\nParticles  <vx>_allparticles : -11.623422700314544 km/s (mass weighted)\nClumps <peak_x>_allclumps    : 23.13576545706458 kpc  (mass weighted)","category":"page"},{"location":"05_multi_Masking_Filtering/05_multi_Masking_Filtering/","page":"5-Mask/Filter/Meta","title":"5-Mask/Filter/Meta","text":"","category":"page"},{"location":"06_hydro_Projection/#6.-Hydro:-Projections","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"","category":"section"},{"location":"06_hydro_Projection/#Load-The-Data","page":"6. Hydro: Projections","title":"Load The Data","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\ngas  = gethydro(info, lmax=10, smallr=1e-5);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"┌ Info: Precompiling Mera [02f895e8-fdb1-4346-8fe6-c721699f5126]\n└ @ Base loading.jl:1273\n\n\n\n*__   __ _______ ______   _______\n|  |_|  |       |    _ | |   _   |\n|       |    ___|   | || |  |_|  |\n|       |   |___|   |_||_|       |\n|       |    ___|    __  |       |\n| ||_|| |   |___|   |  | |   _   |\n|_|   |_|_______|___|  |_|__| |__|\n\n\u001b [Mera]: 2020-02-18T22:27:12.257\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b\n\n\u001b [Mera]: Get hydro data: 2020-02-18T22:27:49.16\u001b\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:03:04\u001b\n\n\nMemory used for data table :409.5426664352417 MB\n-------------------------------------------------------","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"gas.data","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Table with 4879946 rows, 11 columns:\nColumns:\n\u001b #   \u001b \u001b colname  \u001b \u001b type\u001b\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"06_hydro_Projection/#Projection-of-Predefined-Quantities","page":"6. Hydro: Projections","title":"Projection of Predefined Quantities","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"See the possible variables:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"projection()","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Predefined vars for projections:\n------------------------------------------------\n=====================[gas]:=====================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\nfurther possibilities: :rho, :density, :ρ\n              -derived hydro vars-\n:x, :y, :z\n:sd or :Σ or :surfacedensity\n:mass, :cellsize, :freefall_time\n:cs, :mach, :jeanslength, :jeansnumber\n\n==================[particles]:==================\n        all the non derived  vars:\n:cpu, :level, :id, :family, :tag\n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n==============[gas or particles]:===============\n:v, :ekin\nsquared => :vx2, :vy2, :vz2\nvelocity dispersion => σx, σy, σz, σ\n\nrelated to a given center:\n---------------------------\n:vr_cylinder, vr_sphere (radial components)\n:vϕ_cylinder, :vθ\nsquared => :vr_cylinder2, :vϕ_cylinder2\nvelocity dispersion => σr_cylinder, σϕ_cylinder\n\n2d maps (not projected):\n:r_cylinder\n:ϕ\n------------------------------------------------","category":"page"},{"location":"06_hydro_Projection/#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)","page":"6. Hydro: Projections","title":"Projection of a Single Quantity in Different Directions (z,y,x)","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Here we project the surface density in the z-direction of the data within a particular vertical range (domain=[0:1]) onto a grid corresponding to the maximum loaded level. Pass any object of HydroDataType (here: \"gas\") to the projection-function and select a variable by a Symbol (here: :sd = :surfacedensity = :Σ in Msol/pc^3)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, unit=:Msol_pc2, zrange=[0.45,0.55])\nproj_z = projection(gas, :Σ,  unit=:Msol_pc2, zrange=[0.45,0.55], verbose=false)\nproj_z = projection(gas, :surfacedensity, unit=:Msol_pc2, zrange=[0.45,0.55], verbose=false)\nproj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], verbose=false) # The keyword \"unit\" (singular) can be omit if the following order is preserved: data-object, quantity, unit.\nproj_x = projection(gas, :sd, :Msol_pc2, direction = :x, zrange=[0.45,0.55], verbose=false); # Project the surface density in x-direction","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:18:14.842\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:07\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:02\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:57\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:57\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:56\u001b","category":"page"},{"location":"06_hydro_Projection/#Select-a-Range-Related-to-a-Center","page":"6. Hydro: Projections","title":"Select a Range Related to a Center","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"See also in the documentation for: load data by selection","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"cv = (gas.boxlen / 2.) * gas.scale.kpc # provide the box-center in kpc\nproj_z = projection(gas, :sd, :Msol_pc2,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[cv,cv,cv], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:23:18.582\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:55\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:24:15.893\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:53\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:bc], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:25:09.001\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:52\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,  \n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:bc, 24., :bc], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:26:03.671\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:53\u001b","category":"page"},{"location":"06_hydro_Projection/#Get-Multiple-Quantities","page":"6. Hydro: Projections","title":"Get Multiple Quantities","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Get several quantities with one function call by passing an array containing the selected variables (at least one entry). The keyword name for the units is now in plural.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_x = projection(gas, [:sd], units=[:Msol_pc2],\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:26:57.186\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd,)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:53\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Pass an array containing several quantities to process and their corresponding units:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z = projection(gas, [:sd, :vx], units=[:Msol_pc2, :km_s],\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:27:50.658\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd, :vx)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:59\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The function can be called without any keywords by preserving the following order: dataobject, variables, units","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z = projection(gas, [:sd , :vx], [:Msol_pc2, :km_s],\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:28:49.928\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:sd, :vx)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:56\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"projvel_z = projection(gas, [:vx, :vy, :vz], :km_s,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-12T12:29:46.23\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:vx, :vy, :vz, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:55\u001b","category":"page"},{"location":"06_hydro_Projection/#Function-Output","page":"6. Hydro: Projections","title":"Function Output","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"List the fields of the assigned object:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"propertynames(proj1_z)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ranges, :extent, :cextent, :ratio, :boxlen, :smallr, :smallc, :scale, :info)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The projected 2D maps are stored in a dictionary:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.maps","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:\n  :sd => [2.42108 2.42108 … 3.06809 3.06809; 2.42108 2.42108 … 3.06809 3.06809;…\n  :vx => [48.3311 48.3311 … 35.0161 35.0161; 48.3311 48.3311 … 35.0161 35.0161;…","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The maps can be accessed by giving the name of the dictionary:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.maps[:sd]","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"428×86 Array{Float64,2}:\n 2.42108  2.42108  2.42108  2.76423  …  3.80613  3.06809  3.06809  3.06809\n 2.42108  2.42108  2.42108  2.76423     3.80613  3.06809  3.06809  3.06809\n 2.43323  2.43323  2.43323  2.83905     3.77978  3.04769  3.04769  3.04769\n 2.43323  2.43323  2.43323  2.83905     3.77978  3.04769  3.04769  3.04769\n 2.43323  2.43323  2.43323  2.83612     3.77978  3.04769  3.04769  3.04769\n 2.43323  2.43323  2.43323  2.83612  …  3.77978  3.04769  3.04769  3.04769\n 2.61724  2.61724  2.61724  2.78421     3.38093  2.59978  2.59978  2.59978\n 2.61724  2.61724  2.61724  2.78421     3.38093  2.59978  2.59978  2.59978\n 2.61724  2.61724  2.61724  2.78048     3.38093  2.59978  2.59978  2.59978\n 2.61724  2.61724  2.61724  2.78048     3.38093  2.59978  2.59978  2.59978\n 2.65948  2.65948  2.65948  2.92033  …  3.26695  2.56391  2.56391  2.56391\n 2.65948  2.65948  2.65948  2.92033     3.26695  2.56391  2.56391  2.56391\n 2.65948  2.65948  2.65948  2.9154      3.26695  2.56391  2.56391  2.56391\n ⋮                                   ⋱                             ⋮      \n 3.64783  3.62431  3.62431  3.69296     2.64986  2.58555  2.58555  2.58555\n 3.64783  3.62431  3.62431  3.69296     2.64986  2.58555  2.58555  2.58555\n 4.06584  4.06584  4.06584  4.25253     2.5403   2.54319  2.54319  2.54319\n 4.06584  4.06584  4.06584  4.25253     2.5403   2.54319  2.54319  2.54319\n 4.06584  4.06584  4.06584  4.36169  …  2.5403   2.54319  2.54319  2.54319\n 4.06584  4.06584  4.06584  4.36169     2.5403   2.54319  2.54319  2.54319\n 5.43946  5.43946  5.43946  5.56363     2.45995  2.45782  2.45782  2.45782\n 5.43946  5.43946  5.43946  5.56363     2.45995  2.45782  2.45782  2.45782\n 5.43946  5.43946  5.43946  5.39163     2.45995  2.45782  2.45782  2.45782\n 5.43946  5.43946  5.43946  5.39163  …  2.45995  2.45782  2.45782  2.45782\n 5.68876  5.68876  5.68876  5.8404      2.41942  2.43411  2.43411  2.43411\n 5.68876  5.68876  5.68876  2.62535     2.41942  2.43411  2.43411  2.43411","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The units of the maps are stored in:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:\n  :sd => :Msol_pc2\n  :vx => :km_s","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Projections on a different grid size (see subject below):","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.maps_lmax","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 0 entries","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The following fields are helpful for further calculations or plots.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.ranges # normalized to the domain=[0:1]","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"6-element Array{Float64,1}:\n 0.29166666666647767\n 0.7083333333328743\n 0.29166666666647767\n 0.7083333333328743\n 0.4583333333330363\n 0.5416666666663156","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.extent # ranges in code units","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"4-element Array{Float64,1}:\n 13.96875\n 34.03125\n 21.984375\n 26.015625","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.cextent # ranges in code units relative to a given center (by default: box center)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"4-element Array{Float64,1}:\n -10.03125\n  10.03125\n  -2.015625\n   2.015625","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj1_z.ratio # the ratio between the two ranges","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"4.976744186046512","category":"page"},{"location":"06_hydro_Projection/#Plot-Maps-with-Python","page":"6. Hydro: Projections","title":"Plot Maps with Python","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false)\nproj_x = projection(gas, :sd, :Msol_pc2,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:02\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:00\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Python functions can be directly called in Julia, which gives the opportunity, e.g. to use the Matplotlib library.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"using PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\ncmap2 = ColorMap(ColorSchemes.roma.colors)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: svg)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Project a specific spatial range and plot the axes of the map relative to the box-center (given by keyword: data_center):","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc)\nproj_x = projection(gas, :sd, :Msol_pc2,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc,\n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:54\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:51\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Plot the axes of the map relative to the map-center (given by keyword: data_center):","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[19.,19.,24.], data_center_unit=:kpc)\nproj_x = projection(gas, :sd, :Msol_pc2,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[19.,19.,24.], data_center_unit=:kpc,\n                    direction = :x);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:10\u001b\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:00\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/#Projections-of-Derived-Kinematic-Data","page":"6. Hydro: Projections","title":"Projections of Derived Kinematic Data","text":"","category":"section"},{"location":"06_hydro_Projection/#Use-quantities-in-cartesian-coordinates:","page":"6. Hydro: Projections","title":"Use quantities in cartesian coordinates:","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Project the following derived data (mass weighted by default): The absolute value of the velocity :v, the velocity dispersion :σ in different directions. The Julia language supports Unicode characters and can be inserted by e.g. \"\\sigma + tab-key\" leading to: σ.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz], :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[24.,24.,24.], range_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-18T22:49:54.49\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:03\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"For the velocity dispersion additional maps are created to created the mass-weighted quantity: E. g.: σx = sqrt( <vx^2> - < vx >^2 )","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 13 entries:\n  :sd  => [0.000525384 0.000525384 … 0.000463458 0.000334485; 0.000525384 0.000…\n  :v   => [10.9033 10.9033 … 9.28165 8.34605; 10.9033 10.9033 … 9.28165 8.34605…\n  :v2  => [0.245404 0.245404 … 0.193833 0.163449; 0.245404 0.245404 … 0.193833 …\n  :vx  => [0.11951 0.11951 … -0.0700017 -0.0384127; 0.11951 0.11951 … -0.070001…\n  :vx2 => [0.122347 0.122347 … 0.111339 0.0775909; 0.122347 0.122347 … 0.111339…\n  :vy  => [0.0445661 0.0445661 … -0.00514768 -0.00554146; 0.0445661 0.0445661 ……\n  :vy2 => [0.0331066 0.0331066 … 0.019046 0.018845; 0.0331066 0.0331066 … 0.019…\n  :vz  => [-0.0999134 -0.0999134 … -0.0370643 -0.024236; -0.0999134 -0.0999134 …\n  :vz2 => [0.0899502 0.0899502 … 0.0634475 0.0670127; 0.0899502 0.0899502 … 0.0…\n  :σ   => [30.6004 30.6004 … 27.3378 25.1633; 30.6004 30.6004 … 27.3378 25.1633…\n  :σx  => [21.5567 21.5567 … 21.3939 18.0916; 21.5567 21.5567 … 21.3939 18.0916…\n  :σy  => [11.5681 11.5681 … 9.04357 8.99465; 11.5681 11.5681 … 9.04357 8.99465…\n  :σz  => [18.5437 18.5437 … 16.3378 16.9008; 18.5437 18.5437 … 16.3378 16.9008…","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 13 entries:\n  :sd  => :standard\n  :v   => :km_s\n  :v2  => :standard\n  :vx  => :standard\n  :vx2 => :standard\n  :vy  => :standard\n  :vy2 => :standard\n  :vz  => :standard\n  :vz2 => :standard\n  :σ   => :km_s\n  :σx  => :km_s\n  :σy  => :km_s\n  :σz  => :km_s","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"usedmemory(proj_z);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Memory used: 18.436 MB","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 5.5))\n\nsubplot(2, 3, 1)\ntitle(\"v [km/s]\")\nimshow( (permutedims(proj_z.maps[:v])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 2)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(2, 3, 4)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 5)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 6)\ntitle(\"σz [km/s]\")\nimshow( permutedims(proj_z.maps[:σz]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();\n","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/#Use-quantities-in-cylindrical-coordinates:","page":"6. Hydro: Projections","title":"Use quantities in cylindrical coordinates:","text":"","category":"section"},{"location":"06_hydro_Projection/#Face-on-disc-(z-direction)","page":"6. Hydro: Projections","title":"Face-on disc (z-direction)","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"For the cylindrical or spherical components of a quantity, the center of the coordinate system is used (keywords: datacenter = center default) and can be given with the keyword \"datacenter\" and its units with \"datacenterunit\". Additionally, the quantities that are based on cartesian coordinates can be given.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],                    \n                    units=[:km_s,:km_s,:km_s, :km_s, :standard, :kpc, :km_s, :km_s, :km_s, :km_s],\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    data_center=[24.,24.,24.],\n                    data_center_unit=:kpc);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-18T23:17:14.519\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:08\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => [14.0758 14.0427 … 14.1201 14.1534; 14.0427 14.0096 … 14.087…\n  :sd           => [0.000525384 0.000525384 … 0.000463458 0.000334485; 0.000525…\n  :v            => [8.72263 8.72263 … 7.42532 6.67684; 8.72263 8.72263 … 7.4253…\n  :v2           => [0.196323 0.196323 … 0.155066 0.130759; 0.196323 0.196323 … …\n  :vr_cylinder  => [-6.0864 -6.0864 … 2.38666 1.2034; -6.0864 -6.0864 … 2.38666…\n  :vr_cylinder2 => [0.105049 0.105049 … 0.0620751 0.0537682; 0.105049 0.105049 …\n  :vx           => [0.0956079 0.0956079 … -0.0560013 -0.0307302; 0.0956079 0.09…\n  :vx2          => [0.097878 0.097878 … 0.0890713 0.0620727; 0.097878 0.097878 …\n  :vy           => [0.0356529 0.0356529 … -0.00411814 -0.00443317; 0.0356529 0.…\n  :vy2          => [0.0264853 0.0264853 … 0.0152368 0.015076; 0.0264853 0.02648…\n  :vϕ_cylinder  => [2.78004 2.78004 … 3.22947 2.23274; 2.78004 2.78004 … 3.2294…\n  :vϕ_cylinder2 => [0.0193141 0.0193141 … 0.042233 0.0233806; 0.0193141 0.01931…\n  :σ            => [27.7151 27.7151 … 24.7319 22.753; 27.7151 27.7151 … 24.7319…\n  :σr_cylinder  => [20.3637 20.3637 … 16.1627 15.1579; 20.3637 20.3637 … 16.162…\n  :σx           => [19.5341 19.5341 … 19.2232 16.2129; 19.5341 19.5341 … 19.223…\n  :σy           => [10.4127 10.4127 … 8.08995 8.04638; 10.4127 10.4127 … 8.0899…\n  :σϕ_cylinder  => [8.67895 8.67895 … 13.0835 9.77518; 8.67895 8.67895 … 13.083…\n  :ϕ            => [3.92699 3.92463 … 2.35306 2.35073; 3.92935 3.92699 … 2.3507…","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => :kpc\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σϕ_cylinder  => :km_s\n  :ϕ            => :radian","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"Radius [kpc]\")\nimshow( permutedims(proj_z.maps[:r_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmin=-20.,vmax=20.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"ϕ-angle \")\nimshow( permutedims(proj_z.maps[:ϕ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( permutedims(proj_z.maps[:σ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps[:σx] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/#Project-on-a-Coarser-Grid","page":"6. Hydro: Projections","title":"Project on a Coarser Grid","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The default is the projection on the maximum loaded grid level (always provided in the output). Choose a smaller level with the keyword lmax to project on a coarser grid in addition. Higher-resolution data is averaged within each coarser grid-cell (default: mass-weighted). By default, the data is assumed to be in the center of the simulation box.","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],\n                    :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    lmax=8);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-18T23:18:44.018\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nSelected var(s)=(:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder, :vx, :vx2, :vy, :vy2, :vz, :vz2, :v2, :vr_cylinder2, :vϕ_cylinder2, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:08\u001b\n\n\n\nremap from:\nlevel 10 => 8\ncellsize 46.88 [pc] => 187.5 [pc]\npixels (428, 428) => (107, 107)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The projection onto the maximum loaded grid is always provided:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps_lmax","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => [0.000525384 0.000545269 … 0.000475553 0.000334485; 0.000532…\n  :v            => [7.26886 7.32994 … 7.73366 5.56403; 7.30578 7.37137 … 8.9885…\n  :v2           => [0.163603 0.166415 … 0.210983 0.108966; 0.166587 0.168972 … …\n  :vr_cylinder  => [-5.072 -4.65663 … 2.60367 1.00283; -5.02593 -4.4874 … 2.140…\n  :vr_cylinder2 => [0.0875409 0.0826628 … 0.0646939 0.0448068; 0.0884293 0.0811…\n  :vx           => [0.0796732 0.0788819 … -0.0691436 -0.0256085; 0.0809557 0.07…\n  :vx2          => [0.081565 0.0804544 … 0.136752 0.0517273; 0.0845953 0.082583…\n  :vy           => [0.0297108 0.0211165 … -0.0132175 -0.0036943; 0.0278214 0.01…\n  :vy2          => [0.022071 0.0251372 … 0.0168816 0.0125634; 0.0229327 0.02711…\n  :vz           => [-0.0666089 -0.0671458 … -0.0188721 -0.0161574; -0.0657326 -…\n  :vz2          => [0.0599668 0.0608235 … 0.0573498 0.0446751; 0.0590593 0.0592…\n  :vϕ_cylinder  => [2.3167 2.65081 … 3.9351 1.86062; 2.49477 2.91954 … 5.93535 …\n  :vϕ_cylinder2 => [0.0160951 0.0229288 … 0.0889397 0.0194838; 0.0190986 0.0284…\n  :σ            => [25.5083 25.727 … 29.1109 20.9191; 25.7482 25.928 … 33.7281 …\n  :σr_cylinder  => [18.7273 18.2695 … 16.4746 13.8445; 18.8414 18.1389 … 13.727…\n  :σx           => [17.9845 17.8664 … 23.8221 14.8194; 18.319 18.1022 … 25.8056…\n  :σy           => [9.54527 10.3042 … 8.47594 7.3461; 9.7614 10.7401 … 15.0491 …\n  :σz           => [15.4527 15.5615 … 15.655 13.8198; 15.3422 15.3681 … 16.8782…\n  :σϕ_cylinder  => [7.99022 9.56921 … 19.1564 8.96219; 8.7122 10.678 … 26.5011 …","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vz           => :standard\n  :vz2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σz           => :km_s\n  :σϕ_cylinder  => :km_s","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The projection onto a coarser grid (fieldname: maps_lmax) is stored in a dictionary into the field maps_lmax:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.lmax_projected","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"8","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z.maps_lmax","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => [0.000525384 0.000545269 … 0.000475553 0.000334485; 0.000532…\n  :v            => [7.26886 7.32994 … 7.73366 5.56403; 7.30578 7.37137 … 8.9885…\n  :v2           => [0.163603 0.166415 … 0.210983 0.108966; 0.166587 0.168972 … …\n  :vr_cylinder  => [-5.072 -4.65663 … 2.60367 1.00283; -5.02593 -4.4874 … 2.140…\n  :vr_cylinder2 => [0.0875409 0.0826628 … 0.0646939 0.0448068; 0.0884293 0.0811…\n  :vx           => [0.0796732 0.0788819 … -0.0691436 -0.0256085; 0.0809557 0.07…\n  :vx2          => [0.081565 0.0804544 … 0.136752 0.0517273; 0.0845953 0.082583…\n  :vy           => [0.0297108 0.0211165 … -0.0132175 -0.0036943; 0.0278214 0.01…\n  :vy2          => [0.022071 0.0251372 … 0.0168816 0.0125634; 0.0229327 0.02711…\n  :vz           => [-0.0666089 -0.0671458 … -0.0188721 -0.0161574; -0.0657326 -…\n  :vz2          => [0.0599668 0.0608235 … 0.0573498 0.0446751; 0.0590593 0.0592…\n  :vϕ_cylinder  => [2.3167 2.65081 … 3.9351 1.86062; 2.49477 2.91954 … 5.93535 …\n  :vϕ_cylinder2 => [0.0160951 0.0229288 … 0.0889397 0.0194838; 0.0190986 0.0284…\n  :σ            => [25.5083 25.727 … 29.1109 20.9191; 25.7482 25.928 … 33.7281 …\n  :σr_cylinder  => [18.7273 18.2695 … 16.4746 13.8445; 18.8414 18.1389 … 13.727…\n  :σx           => [17.9845 17.8664 … 23.8221 14.8194; 18.319 18.1022 … 25.8056…\n  :σy           => [9.54527 10.3042 … 8.47594 7.3461; 9.7614 10.7401 … 15.0491 …\n  :σz           => [15.4527 15.5615 … 15.655 13.8198; 15.3422 15.3681 … 16.8782…\n  :σϕ_cylinder  => [7.99022 9.56921 … 19.1564 8.96219; 8.7122 10.678 … 26.5011 …","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"v [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmin=-20.,vmax=20.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"σz [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σz] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σ]) , cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σx]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps_lmax[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/#Remap-a-Projected-Data-onto-a-Coarser-Grid","page":"6. Hydro: Projections","title":"Remap a Projected Data onto a Coarser Grid","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Pass the object with the projected data to the function remap and the level of the coarser grid:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_zlmax = remap(proj_z, 6, weighting=:mass);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"remap from:\nlevel 10 => 6\ncellsize 46.88 [pc] => 750.0 [pc]\npixels (428, 428) => (27, 27)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"v [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent, vmin=-20.,vmax=20.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"log10(σz) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σz]) ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"log10(σr) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σr_cylinder]  )), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"log10(σϕ) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σϕ_cylinder] )), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"log10(σ) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σ]) ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"log10(σx) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σx]  )), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"log10(σy) [km/s]\")\nimshow( log10.(permutedims(proj_zlmax.maps_lmax[:σy] )), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar();","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/#Projection-of-Thermal-Data","page":"6. Hydro: Projections","title":"Projection of Thermal Data","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"The the sound speed is calculated from the loaded adiabatic index (from the hydro files):","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.3, 0.6], yrange=[0.3, 0.6])\nproj_x = projection(gas, :cs, :km_s, zrange=[0.45,0.55], xrange=[0.3, 0.6], yrange=[0.3, 0.6], direction=:x);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-18T22:54:00.33\u001b\n\ndomain:\nxmin::xmax: 0.3 :: 0.6  \t==> 14.4 [kpc] :: 28.8 [kpc]\nymin::ymax: 0.3 :: 0.6  \t==> 14.4 [kpc] :: 28.8 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:cs, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:58\u001b\n\n\n\u001b [Mera]: 2020-02-18T22:54:58.629\u001b\n\ndomain:\nxmin::xmax: 0.3 :: 0.6  \t==> 14.4 [kpc] :: 28.8 [kpc]\nymin::ymax: 0.3 :: 0.6  \t==> 14.4 [kpc] :: 28.8 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:cs, :sd)\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:55\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 3.5))\n\nsubplot(1, 2, 1)\nim = imshow( log10.(permutedims(proj_z.maps[:cs])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(c_s) \\ [km \\ s^{-1}]}\")\n\n\nsubplot(1, 2, 2)\nim = imshow( log10.(permutedims(proj_x.maps[:cs]) ), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(c_s) \\ [km \\ s^{-1}]}\",orientation=\"horizontal\", pad=0.2);\n","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Change the adiabatic index in the field gas.info.gamma to use a different value in the projection calculation.","category":"page"},{"location":"06_hydro_Projection/#Projection-of-Masked-Data","page":"6. Hydro: Projections","title":"Projection of Masked Data","text":"","category":"section"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Mask higher densities by creating a Bool-array where the lower density cells correspond to false entries:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"density = 4e-3 / gas.scale.Msol_pc3\nmask = map(row->row.rho < density, gas.data);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"Pass the mask to the projection function:","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"proj_z = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask)\nproj_x = projection(gas, :sd, :Msol_pc2, zrange=[0.45,0.55], mask=mask, direction=:x);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"\u001b [Mera]: 2020-02-18T23:04:58.755\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,)\n\n:mask provided by function\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:35\u001b\n\n\n\u001b [Mera]: 2020-02-18T23:06:34.69\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nSelected var(s)=(:sd,)\n\n:mask provided by function\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:01:34\u001b","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"(Image: png)","category":"page"},{"location":"06_hydro_Projection/","page":"6. Hydro: Projections","title":"6. Hydro: Projections","text":"","category":"page"},{"location":"08_hydro_VTK_export/#Hydro:-Export-Selected-Variables-to-VTK","page":"Hydro","title":"Hydro: Export Selected Variables to VTK","text":"","category":"section"},{"location":"08_hydro_VTK_export/#Simulation-Overview-and-Load-Hydro-Data","page":"Hydro","title":"Simulation Overview & Load Hydro Data","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"using Mera\n# use compressed Mera file\npath = \"/Volumes/FASTStorage/Simulations/Mera-Tests/AV5CDhr/\";\ninfo = infodata(600, path)\ngas = loaddata(600, path, :hydro); # load full box","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T15:06:54.435\u001b\n\nUse datatype: hydro\nCode: RAMSES\noutput [600] summary:\nmtime: 2024-09-08T15:29:04\nctime: 2024-09-10T11:23:16.230\n\u001b=======================================================\u001b\nsimulation time: 891.71 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 5120\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 13 --> cellsize(s): 750.0 [pc] - 5.86 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   1.353087e+06 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&HYDRO_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&INIT_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b=======================================================\u001b\n\n\u001b[Mera]: 2025-06-28T15:06:54.479\u001b\n\nOpen Mera-file output_00600.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :8.63788466155529 GB\n-------------------------------------------------------","category":"page"},{"location":"08_hydro_VTK_export/#Export-Scalars","page":"Hydro","title":"Export Scalars","text":"","category":"section"},{"location":"08_hydro_VTK_export/#Standard-Export","page":"Hydro","title":"Standard Export","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# Export full box with lmax = 9 \n# -> interpolating levels 13,12,11,10, down to 9\n\nexport_vtk(\n    gas,                       # loaded data\n    \"output01/0600_galaxy\";    # prefix for outputfiles; creates folder output01 (if not existing) \n    scalars=[:rho, :T],        # load density data in cm^-3 and temperature data in Kelvin \n    scalars_unit=[:nH, :K],\n    scalars_log10=true,        # apply log10 on the scalars\n    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)\n    lmax=9                     \n);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T15:07:40.866\u001b\n\nAvailable Threads: 1\nCreated directory: output01\nProcessing levels: [6, 7, 8, 9]\nWill interpolate levels [10, 11, 12, 13] down to 9\nLevel 6\n  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)\n  ✓ Level 6 completed, memory cleaned\nLevel 7\n  wrote 0600_galaxy_L7.vtu (Size: 0.02 GB)\n  ✓ Level 7 completed, memory cleaned\nLevel 8\n  wrote 0600_galaxy_L8.vtu (Size: 0.33 GB)\n  ✓ Level 8 completed, memory cleaned\nLevel 9\n  Including higher levels for interpolation\n  Interpolating down to level 9\n  Unique coarse cells at level 9: 13663000 (out of max 134217728)\n  → 13663000 coarse cells after interpolation\n  wrote 0600_galaxy_L9.vtu (Size: 0.64 GB)\n  ✓ Level 9 completed, memory cleaned\n  Added block 'Level_6' to scalar VTM for 0600_galaxy_L6.vtu\n  Added block 'Level_7' to scalar VTM for 0600_galaxy_L7.vtu\n  Added block 'Level_8' to scalar VTM for 0600_galaxy_L8.vtu\n  Added block 'Level_9' to scalar VTM for 0600_galaxy_L9.vtu\nCreated scalar multiblock: 0600_galaxy_scalar.vtm\n  Updating scalar VTM file to reference scalar VTU files...\n    - Added reference to 0600_galaxy_L6.vtu in block 'Level_6' of scalar VTM\n    - Added reference to 0600_galaxy_L7.vtu in block 'Level_7' of scalar VTM\n    - Added reference to 0600_galaxy_L8.vtu in block 'Level_8' of scalar VTM\n    - Added reference to 0600_galaxy_L9.vtu in block 'Level_9' of scalar VTM\n  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm\n\n=== Export Summary ===\nVTU files (scalars): 4\nScalar VTM: 0600_galaxy_scalar.vtm\nAvailable scalars: rho, T, AMR_Level","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"readdir(\"output_part01\")","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"1-element Vector{String}:\n \"0600_galaxy.vtu\"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# => in Paraview open the vtu file to load all level data","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/#Export-Maximum-Number-of-Cells","page":"Hydro","title":"Export Maximum Number of Cells","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# Export full box \n# -> limit the number of cells\n# here: not reaching levels 11,12,13\nexport_vtk(\n    gas,                       # loaded data\n    \"output03/0600_galaxy\";    # prefix for outputfiles; creates folder output03 (if not existing) \n    scalars=[:rho, :T],        # load density data in cm^-3 and temperature data in Kelvin \n    scalars_unit=[:nH, :K],\n    scalars_log10=true,        # apply log10 on the scalars\n    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)\n\n    lmax=10,\n    max_cells=100_000          # (caps output if exceeded, prioritizing denser regions)\n);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T16:04:43.533\u001b\n\nAvailable Threads: 1\nProcessing levels: [6, 7, 8, 9, 10]\nWill interpolate levels [11, 12, 13] down to 10\nLevel 6\n  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)\n  ✓ Level 6 completed, memory cleaned\nLevel 7\n  wrote 0600_galaxy_L7.vtu (Size: 0.02 GB)\n  ✓ Level 7 completed, memory cleaned\nLevel 8\n  wrote 0600_galaxy_L8.vtu (Size: 0.33 GB)\n  ✓ Level 8 completed, memory cleaned\nLevel 9\n  wrote 0600_galaxy_L9.vtu (Size: 0.54 GB)\n  ✓ Level 9 completed, memory cleaned\nLevel 10\n  Including higher levels for interpolation\n  Interpolating down to level 10\n  Unique coarse cells at level 10: 6968288 (out of max 1073741824)\n  Capping output cells to 100000 (from 6968288)\n  → 100000 coarse cells after interpolation\n  wrote 0600_galaxy_L10.vtu (Size: 0.0 GB)\n  ✓ Level 10 completed, memory cleaned\n  Added block 'Level_6' to scalar VTM for 0600_galaxy_L6.vtu\n  Added block 'Level_7' to scalar VTM for 0600_galaxy_L7.vtu\n  Added block 'Level_8' to scalar VTM for 0600_galaxy_L8.vtu\n  Added block 'Level_9' to scalar VTM for 0600_galaxy_L9.vtu\n  Added block 'Level_10' to scalar VTM for 0600_galaxy_L10.vtu\nCreated scalar multiblock: 0600_galaxy_scalar.vtm\n  Updating scalar VTM file to reference scalar VTU files...\n    - Added reference to 0600_galaxy_L6.vtu in block 'Level_6' of scalar VTM\n    - Added reference to 0600_galaxy_L7.vtu in block 'Level_7' of scalar VTM\n    - Added reference to 0600_galaxy_L8.vtu in block 'Level_8' of scalar VTM\n    - Added reference to 0600_galaxy_L9.vtu in block 'Level_9' of scalar VTM\n    - Added reference to 0600_galaxy_L10.vtu in block 'Level_10' of scalar VTM\n  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm\n\n=== Export Summary ===\nVTU files (scalars): 5\nScalar VTM: 0600_galaxy_scalar.vtm\nAvailable scalars: rho, T, AMR_Level","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"readdir(\"output03\")","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"6-element Vector{String}:\n \"0600_galaxy_L10.vtu\"\n \"0600_galaxy_L6.vtu\"\n \"0600_galaxy_L7.vtu\"\n \"0600_galaxy_L8.vtu\"\n \"0600_galaxy_L9.vtu\"\n \"0600_galaxy_scalar.vtm\"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# => in Paraview open the vtm file to load all level data","category":"page"},{"location":"08_hydro_VTK_export/#Export-Scalars-and-Vector","page":"Hydro","title":"Export Scalars and Vector","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# Export full box with lmax = 9 \n# scalar and vector in separate files\n# -> interpolating levels 13,12,11,10, down to 9\n\nexport_vtk(\n    gas,                       # loaded data\n    \"output04/0600_galaxy\";    # prefix for outputfiles; creates folder output04 (if not existing) \n    scalars=[:rho],            # load density data in cm^-3 \n    scalars_unit=[:nH],\n    scalars_log10=true,        # apply log10 on the scalars\n    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)\n    lmax=9 ,\n\n    vector=[:vx, :vy, :vz],    # velocity components and its units\n    vector_unit=:km_s,\n    vector_name=\"velocity\"     # vector name recognized by Paraview\n);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T15:35:19.707\u001b\n\nAvailable Threads: 1\nCreated directory: output04\nProcessing levels: [6, 7, 8, 9]\nWill interpolate levels [10, 11, 12, 13] down to 9\nLevel 6\n  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)\n  wrote 0600_galaxy_vec_L6.vtu (Size: 0.0 GB)\n  ✓ Level 6 completed, memory cleaned\nLevel 7\n  wrote 0600_galaxy_L7.vtu (Size: 0.01 GB)\n  wrote 0600_galaxy_vec_L7.vtu (Size: 0.02 GB)\n  ✓ Level 7 completed, memory cleaned\nLevel 8\n  wrote 0600_galaxy_L8.vtu (Size: 0.28 GB)\n  wrote 0600_galaxy_vec_L8.vtu (Size: 0.41 GB)\n  ✓ Level 8 completed, memory cleaned\nLevel 9\n  Including higher levels for interpolation\n  Interpolating down to level 9\n  Unique coarse cells at level 9: 13663000 (out of max 134217728)\n  → 13663000 coarse cells after interpolation\n  wrote 0600_galaxy_L9.vtu (Size: 0.55 GB)\n  wrote 0600_galaxy_vec_L9.vtu (Size: 0.77 GB)\n  ✓ Level 9 completed, memory cleaned\n  Added block 'Level_6' to scalar VTM for 0600_galaxy_L6.vtu\n  Added block 'Level_7' to scalar VTM for 0600_galaxy_L7.vtu\n  Added block 'Level_8' to scalar VTM for 0600_galaxy_L8.vtu\n  Added block 'Level_9' to scalar VTM for 0600_galaxy_L9.vtu\nCreated scalar multiblock: 0600_galaxy_scalar.vtm\n  Updating scalar VTM file to reference scalar VTU files...\n    - Added reference to 0600_galaxy_L6.vtu in block 'Level_6' of scalar VTM\n    - Added reference to 0600_galaxy_L7.vtu in block 'Level_7' of scalar VTM\n    - Added reference to 0600_galaxy_L8.vtu in block 'Level_8' of scalar VTM\n    - Added reference to 0600_galaxy_L9.vtu in block 'Level_9' of scalar VTM\n  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm\n  Added block 'vec_Level_6' to vector VTM for 0600_galaxy_vec_L6.vtu\n  Added block 'vec_Level_7' to vector VTM for 0600_galaxy_vec_L7.vtu\n  Added block 'vec_Level_8' to vector VTM for 0600_galaxy_vec_L8.vtu\n  Added block 'vec_Level_9' to vector VTM for 0600_galaxy_vec_L9.vtu\nCreated vector multiblock: 0600_galaxy_vector.vtm\n  Updating vector VTM file to reference vector VTU files...\n    - Added reference to 0600_galaxy_vec_L6.vtu in block 'vec_Level_6' of vector VTM\n    - Added reference to 0600_galaxy_vec_L7.vtu in block 'vec_Level_7' of vector VTM\n    - Added reference to 0600_galaxy_vec_L8.vtu in block 'vec_Level_8' of vector VTM\n    - Added reference to 0600_galaxy_vec_L9.vtu in block 'vec_Level_9' of vector VTM\n  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm\n\n=== Export Summary ===\nVTU files (scalars): 4\nScalar VTM: 0600_galaxy_scalar.vtm\nVTU files (vector): 4\nVector VTM: 0600_galaxy_vector.vtm\nAvailable scalars: rho, AMR_Level\nAvailable vector, named: velocity","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"readdir(\"output04\")","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"10-element Vector{String}:\n \"0600_galaxy_L6.vtu\"\n \"0600_galaxy_L7.vtu\"\n \"0600_galaxy_L8.vtu\"\n \"0600_galaxy_L9.vtu\"\n \"0600_galaxy_scalar.vtm\"\n \"0600_galaxy_vec_L6.vtu\"\n \"0600_galaxy_vec_L7.vtu\"\n \"0600_galaxy_vec_L8.vtu\"\n \"0600_galaxy_vec_L9.vtu\"\n \"0600_galaxy_vector.vtm\"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# => in Paraview open\n# - the vtm file to load all level data\n# - open \"0350_galaxy_scalar.vtm\" to load multi-level scalar data\n# - open  \"0350_galaxy_vector.vtm\"to load mjulti-level vector data\n# - or open both vtm files together","category":"page"},{"location":"08_hydro_VTK_export/#Visualisation-in-Paraview","page":"Hydro","title":"Visualisation in Paraview","text":"","category":"section"},{"location":"08_hydro_VTK_export/#Volume-Rendering-Density","page":"Hydro","title":"Volume Rendering Density","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# for a test on my laptop I use lmax=8 for the full box\n# and lmax=9 for the galaxy region","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# Export full box with lmax = 8 \n# scalar and vector in separate files\n# -> interpolating levels 13,12,11,10, 9 down to 8\n\nexport_vtk(\n    gas,                       # loaded data\n    \"output05/0600_galaxy\";    # prefix for outputfiles; creates folder output05 (if not existing) \n    scalars=[:rho],            # load density data in cm^-3 \n    scalars_unit=[:nH],\n    scalars_log10=true,        # apply log10 on the scalars\n    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)\n    lmax=8 ,\n\n    vector=[:vx, :vy, :vz],    # velocity components and its units\n    vector_unit=:km_s,\n    vector_name=\"velocity\"     # vector name recognized by Paraview\n);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T15:45:52.426\u001b\n\nAvailable Threads: 1\nCreated directory: output05\nProcessing levels: [6, 7, 8]\nWill interpolate levels [9, 10, 11, 12, 13] down to 8\nLevel 6\n  wrote 0600_galaxy_L6.vtu (Size: 0.0 GB)\n  wrote 0600_galaxy_vec_L6.vtu (Size: 0.0 GB)\n  ✓ Level 6 completed, memory cleaned\nLevel 7\n  wrote 0600_galaxy_L7.vtu (Size: 0.01 GB)\n  wrote 0600_galaxy_vec_L7.vtu (Size: 0.02 GB)\n  ✓ Level 7 completed, memory cleaned\nLevel 8\n  Including higher levels for interpolation\n  Interpolating down to level 8\n  Unique coarse cells at level 8: 9517504 (out of max 16777216)\n  → 9517504 coarse cells after interpolation\n  wrote 0600_galaxy_L8.vtu (Size: 0.39 GB)\n  wrote 0600_galaxy_vec_L8.vtu (Size: 0.55 GB)\n  ✓ Level 8 completed, memory cleaned\n  Added block 'Level_6' to scalar VTM for 0600_galaxy_L6.vtu\n  Added block 'Level_7' to scalar VTM for 0600_galaxy_L7.vtu\n  Added block 'Level_8' to scalar VTM for 0600_galaxy_L8.vtu\nCreated scalar multiblock: 0600_galaxy_scalar.vtm\n  Updating scalar VTM file to reference scalar VTU files...\n    - Added reference to 0600_galaxy_L6.vtu in block 'Level_6' of scalar VTM\n    - Added reference to 0600_galaxy_L7.vtu in block 'Level_7' of scalar VTM\n    - Added reference to 0600_galaxy_L8.vtu in block 'Level_8' of scalar VTM\n  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm\n  Added block 'vec_Level_6' to vector VTM for 0600_galaxy_vec_L6.vtu\n  Added block 'vec_Level_7' to vector VTM for 0600_galaxy_vec_L7.vtu\n  Added block 'vec_Level_8' to vector VTM for 0600_galaxy_vec_L8.vtu\nCreated vector multiblock: 0600_galaxy_vector.vtm\n  Updating vector VTM file to reference vector VTU files...\n    - Added reference to 0600_galaxy_vec_L6.vtu in block 'vec_Level_6' of vector VTM\n    - Added reference to 0600_galaxy_vec_L7.vtu in block 'vec_Level_7' of vector VTM\n    - Added reference to 0600_galaxy_vec_L8.vtu in block 'vec_Level_8' of vector VTM\n  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm\n\n=== Export Summary ===\nVTU files (scalars): 3\nScalar VTM: 0600_galaxy_scalar.vtm\nVTU files (vector): 3\nVector VTM: 0600_galaxy_vector.vtm\nAvailable scalars: rho, AMR_Level\nAvailable vector, named: velocity","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"readdir(\"output05\")","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"8-element Vector{String}:\n \"0600_galaxy_L6.vtu\"\n \"0600_galaxy_L7.vtu\"\n \"0600_galaxy_L8.vtu\"\n \"0600_galaxy_scalar.vtm\"\n \"0600_galaxy_vec_L6.vtu\"\n \"0600_galaxy_vec_L7.vtu\"\n \"0600_galaxy_vec_L8.vtu\"\n \"0600_galaxy_vector.vtm\"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Open Scalar vtm File","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Select rho array, volume rendering and apply","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Choose a suitable colormap","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Select value range, opazity and visualize data histogram","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Change orientation, value range","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# => save state","category":"page"},{"location":"08_hydro_VTK_export/#Visualize-Density-and-Vector","page":"Hydro","title":"Visualize Density & Vector","text":"","category":"section"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# extract a small region of the galaxy\ngassub = subregion(gas, :cylinder, radius=1., height=1., range_unit=:kpc, center=[23.,23.,:bc]);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T15:51:50.842\u001b\n\ncenter: [0.4791667, 0.4791667, 0.5] ==> [23.0 [kpc] :: 23.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4583333 :: 0.5  \t==> 22.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.4583333 :: 0.5  \t==> 22.0 [kpc] :: 24.0 [kpc]\nzmin::zmax: 0.4791667 :: 0.5208333  \t==> 23.0 [kpc] :: 25.0 [kpc]\n\nRadius: 1.0 [kpc]\nHeight: 1.0 [kpc]\nMemory used for data table :147.8594617843628 MB\n-------------------------------------------------------","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# Export small region with all available AMR levels\n# scalar and vector in separate files\n\nexport_vtk(\n    gassub,                    # loaded data\n    \"output06/0600_galaxy\";    # prefix for outputfiles; creates folder output06 (if not existing) \n    scalars=[:rho],            # load density data in cm^-3 \n    scalars_unit=[:nH],\n    scalars_log10=true,        # apply log10 on the scalars\n    positions_unit=:kpc,       # cell positions in kpc (useful in Paraview for region selection)\n\n    vector=[:vx, :vy, :vz],    # velocity components and its units\n    vector_unit=:km_s,\n    vector_name=\"velocity\"     # vector name recognized by Paraview\n);","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"\u001b[Mera]: 2025-06-28T16:11:51.637\u001b\n\nAvailable Threads: 1\nCreated directory: output06\nProcessing levels: [10, 11, 12, 13]\nLevel 10\n  wrote 0600_galaxy_L10.vtu (Size: 0.0 GB)\n  wrote 0600_galaxy_vec_L10.vtu (Size: 0.0 GB)\n  ✓ Level 10 completed, memory cleaned\nLevel 11\n  wrote 0600_galaxy_L11.vtu (Size: 0.01 GB)\n  wrote 0600_galaxy_vec_L11.vtu (Size: 0.02 GB)\n  ✓ Level 11 completed, memory cleaned\nLevel 12\n  wrote 0600_galaxy_L12.vtu (Size: 0.02 GB)\n  wrote 0600_galaxy_vec_L12.vtu (Size: 0.03 GB)\n  ✓ Level 12 completed, memory cleaned\nLevel 13\n  wrote 0600_galaxy_L13.vtu (Size: 0.03 GB)\n  wrote 0600_galaxy_vec_L13.vtu (Size: 0.04 GB)\n  ✓ Level 13 completed, memory cleaned\n  Added block 'Level_10' to scalar VTM for 0600_galaxy_L10.vtu\n  Added block 'Level_11' to scalar VTM for 0600_galaxy_L11.vtu\n  Added block 'Level_12' to scalar VTM for 0600_galaxy_L12.vtu\n  Added block 'Level_13' to scalar VTM for 0600_galaxy_L13.vtu\nCreated scalar multiblock: 0600_galaxy_scalar.vtm\n  Updating scalar VTM file to reference scalar VTU files...\n    - Added reference to 0600_galaxy_L10.vtu in block 'Level_10' of scalar VTM\n    - Added reference to 0600_galaxy_L11.vtu in block 'Level_11' of scalar VTM\n    - Added reference to 0600_galaxy_L12.vtu in block 'Level_12' of scalar VTM\n    - Added reference to 0600_galaxy_L13.vtu in block 'Level_13' of scalar VTM\n  Updated scalar VTM file with references to scalar VTU files at: 0600_galaxy_scalar.vtm\n  Added block 'vec_Level_10' to vector VTM for 0600_galaxy_vec_L10.vtu\n  Added block 'vec_Level_11' to vector VTM for 0600_galaxy_vec_L11.vtu\n  Added block 'vec_Level_12' to vector VTM for 0600_galaxy_vec_L12.vtu\n  Added block 'vec_Level_13' to vector VTM for 0600_galaxy_vec_L13.vtu\nCreated vector multiblock: 0600_galaxy_vector.vtm\n  Updating vector VTM file to reference vector VTU files...\n    - Added reference to 0600_galaxy_vec_L10.vtu in block 'vec_Level_10' of vector VTM\n    - Added reference to 0600_galaxy_vec_L11.vtu in block 'vec_Level_11' of vector VTM\n    - Added reference to 0600_galaxy_vec_L12.vtu in block 'vec_Level_12' of vector VTM\n    - Added reference to 0600_galaxy_vec_L13.vtu in block 'vec_Level_13' of vector VTM\n  Updated vector VTM file with references to vector VTU files at: 0600_galaxy_vector.vtm\n\n=== Export Summary ===\nVTU files (scalars): 4\nScalar VTM: 0600_galaxy_scalar.vtm\nVTU files (vector): 4\nVector VTM: 0600_galaxy_vector.vtm\nAvailable scalars: rho, AMR_Level\nAvailable vector, named: velocity","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"readdir(\"output06\")","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"10-element Vector{String}:\n \"0600_galaxy_L10.vtu\"\n \"0600_galaxy_L11.vtu\"\n \"0600_galaxy_L12.vtu\"\n \"0600_galaxy_L13.vtu\"\n \"0600_galaxy_scalar.vtm\"\n \"0600_galaxy_vec_L10.vtu\"\n \"0600_galaxy_vec_L11.vtu\"\n \"0600_galaxy_vec_L12.vtu\"\n \"0600_galaxy_vec_L13.vtu\"\n \"0600_galaxy_vector.vtm\"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Load Scalar","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Select rho data, volume rendering, color map, choose value range","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Load Vector data","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Select velocity data, magnitude volume rendering","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Edge-on view, apply 3D Glyphs on vector data, choose array and number of sample points","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"Apply streamline tracer, point cloud and its size, number of points","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"(Image: )","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"# => save state","category":"page"},{"location":"08_hydro_VTK_export/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"02_particles_Load_Selections/#2.-Particles:-Load-Selected-Variables-and-Data-Ranges","page":"Particles","title":"2. Particles: Load Selected Variables and Data Ranges","text":"","category":"section"},{"location":"02_particles_Load_Selections/#Simulation-Overview","page":"Particles","title":"Simulation Overview","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"using Mera\ninfo = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: 2025-06-21T21:14:39.119\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"02_particles_Load_Selections/#Select-Variables","page":"Particles","title":"Select Variables","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Choose from the existing particle variables listed in the simulation-info.  The functions in Mera \"know\" the predefined particle variable names: ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"From >= ramses-version-2018: :vx, :vy, :vz, :mass, :family, :tag, :birth, :metals :var9,.... \nFor  =< ramses-version-2017: :vx, :vy, :vz, :mass, :birth, :var6, :var7,.... \nCurrently, the following variables are loaded by default (if exist): :level, :x, :y, :z, :id, :family, :tag.\nThe cpu number associated with the particles can be loaded with the variable names: :cpu or :varn1\nIn a future version the variable names from the particle descriptor can be used by setting the field info.descriptor.useparticles = true . ","category":"page"},{"location":"02_particles_Load_Selections/#Read-all-variables-by-default","page":"Particles","title":"Read all variables by default","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(info);","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:14:44.099\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:08\n\n\nFound 5.445150e+05 particles\nMemory used for data table :38.428720474243164 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles.data","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int32\n2   x        Float64\n3   y        Float64\n4   z        Float64\n5   id       Int32\n6   family   Int8\n7   tag      Int8\n8   vx       Float64\n9   vy       Float64\n10  vz       Float64\n11  mass     Float64\n12  birth    Float64","category":"page"},{"location":"02_particles_Load_Selections/#Select-several-variables-w/o-a-keyword","page":"Particles","title":"Select several variables w/o a keyword","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_a = getparticles(info, vars=[:mass, :birth]); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:14:57.806\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(4, 7) = (:mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :25.965506553649902 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"The same variables can be read by using the var-number:","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_a = getparticles(info, vars=[:var4, :var7]); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:14:58.565\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(4, 7) = (:mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :25.965506553649902 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"A keyword argument for the variables is not needed if the following order is preserved: InfoType-object, variables:","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_a = getparticles(info, [:mass, :birth]); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:14:58.961\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(4, 7) = (:mass, :birth) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :25.965506553649902 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_a.data","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 9 columns:\n\u001blevel  \u001bx        \u001by        \u001bz        \u001bid      \u001bfamily  \u001btag  mass        birth\n──────────────────────────────────────────────────────────────────────────\n9      9.17918  22.4404  24.0107  128710  2       0    8.00221e-7  8.86726\n9      9.23642  21.5559  24.0144  126838  2       0    8.00221e-7  8.71495\n9      9.35638  20.7472  24.0475  114721  2       0    8.00221e-7  7.91459\n9      9.39529  21.1854  24.0155  113513  2       0    8.00221e-7  7.85302\n9      9.42686  20.9697  24.0162  120213  2       0    8.00221e-7  8.2184\n9      9.42691  22.2181  24.0137  125689  2       0    8.00221e-7  8.6199\n9      9.48834  22.0913  24.0137  126716  2       0    8.00221e-7  8.70493\n9      9.5262   20.652   24.0179  115550  2       0    8.00221e-7  7.96008\n9      9.60376  21.2814  24.0155  116996  2       0    8.00221e-7  8.03346\n9      9.6162   20.6243  24.0506  125003  2       0    8.00221e-7  8.56482\n9      9.62155  20.6248  24.0173  112096  2       0    8.00221e-7  7.78062\n9      9.62252  24.4396  24.0206  136641  2       0    8.00221e-7  9.44825\n⋮\n10     37.7913  25.6793  24.018   141792  2       0    8.00221e-7  9.78881\n10     37.8255  22.6271  24.0279  143663  2       0    8.00221e-7  9.89052\n10     37.8451  22.7506  24.027   138989  2       0    8.00221e-7  9.61716\n10     37.8799  25.5668  24.0193  150226  2       0    8.00221e-7  10.2294\n10     37.969   23.2135  24.0273  142995  2       0    8.00221e-7  9.85439\n10     37.9754  22.6288  24.0265  137301  2       0    8.00221e-7  9.4959\n10     37.9811  23.2854  24.0283  145294  2       0    8.00221e-7  9.9782\n10     37.9919  22.873   24.0271  132010  2       0    8.00221e-7  9.12003\n10     37.9966  23.092   24.0281  136766  2       0    8.00221e-7  9.45574\n10     38.0328  22.8404  24.0265  141557  2       0    8.00221e-7  9.77493\n10     38.0953  22.8757  24.0231  133214  2       0    8.00221e-7  9.20251","category":"page"},{"location":"02_particles_Load_Selections/#Select-one-variable","page":"Particles","title":"Select one variable","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"In this case, no array and keyword is necessary, but preserve the following order: InfoType-object, variable:","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_c = getparticles(info, :vx ); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:14:59.548\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1,) = (:vx,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :21.81110191345215 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles_c.data","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Table with 544515 rows, 8 columns:\n\u001blevel  \u001bx        \u001by        \u001bz        \u001bid      \u001bfamily  \u001btag  vx\n─────────────────────────────────────────────────────────────────\n9      9.17918  22.4404  24.0107  128710  2       0    0.670852\n9      9.23642  21.5559  24.0144  126838  2       0    0.810008\n9      9.35638  20.7472  24.0475  114721  2       0    0.93776\n9      9.39529  21.1854  24.0155  113513  2       0    0.870351\n9      9.42686  20.9697  24.0162  120213  2       0    0.899373\n9      9.42691  22.2181  24.0137  125689  2       0    0.717235\n9      9.48834  22.0913  24.0137  126716  2       0    0.739564\n9      9.5262   20.652   24.0179  115550  2       0    0.946747\n9      9.60376  21.2814  24.0155  116996  2       0    0.893236\n9      9.6162   20.6243  24.0506  125003  2       0    0.996445\n9      9.62155  20.6248  24.0173  112096  2       0    0.960817\n9      9.62252  24.4396  24.0206  136641  2       0    0.239579\n⋮\n10     37.7913  25.6793  24.018   141792  2       0    -0.466362\n10     37.8255  22.6271  24.0279  143663  2       0    0.129315\n10     37.8451  22.7506  24.027   138989  2       0    0.100542\n10     37.8799  25.5668  24.0193  150226  2       0    -0.397774\n10     37.969   23.2135  24.0273  142995  2       0    -0.0192855\n10     37.9754  22.6288  24.0265  137301  2       0    0.10287\n10     37.9811  23.2854  24.0283  145294  2       0    -0.0461542\n10     37.9919  22.873   24.0271  132010  2       0    0.0570142\n10     37.9966  23.092   24.0281  136766  2       0    -0.0185658\n10     38.0328  22.8404  24.0265  141557  2       0    0.0391784\n10     38.0953  22.8757  24.0231  133214  2       0    -0.0510545","category":"page"},{"location":"02_particles_Load_Selections/#Selected-Spatial-Ranges","page":"Particles","title":"Selected Spatial Ranges","text":"","category":"section"},{"location":"02_particles_Load_Selections/#Use-RAMSES-Standard-Notation","page":"Particles","title":"Use RAMSES Standard Notation","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Ranges correspond to the domain [0:1]^3 and are related to the box corner at '[0., 0., 0.]' by default.","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[0.2,0.8], \n                            yrange=[0.2,0.8], \n                            zrange=[0.4,0.6]); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:00.733\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nFound 5.444850e+05 particles\nMemory used for data table :38.42660331726074 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"The loaded data ranges are assigned to the field ranges as an array in  RAMSES standard notation (domain: [0:1]^3):","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles.ranges","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"6-element Vector{Float64}:\n 0.2\n 0.8\n 0.2\n 0.8\n 0.4\n 0.6","category":"page"},{"location":"02_particles_Load_Selections/#Ranges-relative-to-a-given-center:","page":"Particles","title":"Ranges relative to a given center:","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[-0.3, 0.3], \n                            yrange=[-0.3, 0.3], \n                            zrange=[-0.1, 0.1], \n                            center=[0.5, 0.5, 0.5]);","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:03.413\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nFound 5.444850e+05 particles\nMemory used for data table :38.42660331726074 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/#Use-notation-in-physical-units","page":"Particles","title":"Use notation in physical units","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"In the following example the ranges are given in unit \"kpc\", relative to the box corner '[0., 0., 0.]' (default):","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[2.,22.], \n                            yrange=[2.,22.], \n                            zrange=[22.,26.], \n                            range_unit=:kpc); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:04.910\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ndomain:\nxmin::xmax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nymin::ymax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nFound 3.091600e+04 particles\nMemory used for data table :2.183063507080078 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"The possible physical length units for the keyword range_unit are defined in the field scale : ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"viewfields(info.scale)  # or e.g.: gas.info.scale","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMpc3\t= 1.0000000000019446e-9\nkpc3\t= 1.0000000000019444\npc3\t= 1.0000000000019448e9\nmpc3\t= 1.0000000000019446e18\nly3\t= 3.469585750743794e10\nAu3\t= 8.775571306099254e69\nkm3\t= 2.9379989454983075e49\nm3\t= 2.9379989454983063e58\ncm3\t= 2.9379989454983065e64\nmm3\t= 2.937998945498306e67\nμm3\t= 2.937998945498306e76\nMsol_pc3\t= 0.9997234790001649\nMsun_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\nMsun_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMsun\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nK_mu\t= 517028.3199143136\nT\t= 680300.4209398864\nK\t= 680300.4209398864\nBa\t= 2.910484414358466e-9\ng_cm_s2\t= 2.910484414358466e-9\np_kB\t= 2.1080995598777838e7\nK_cm3\t= 2.1080995598777838e7","category":"page"},{"location":"02_particles_Load_Selections/#Ranges-relative-to-the-given-center-e.g.-in-unit-\"kpc\":","page":"Particles","title":"Ranges relative to the given center e.g. in unit \"kpc\":","text":"","category":"section"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[-16.,16.], \n                            yrange=[-16.,16.], \n                            zrange=[-2.,2.], \n                            center=[50.,50.,50.], \n                            range_unit=:kpc); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:05.240\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [1.0416667, 1.0416667, 1.0416667] ==> [50.0 [kpc] :: 50.0 [kpc] :: 50.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.7083333 :: 1.0  \t==> 34.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.7083333 :: 1.0  \t==> 34.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 1.0 :: 1.0  \t==> 48.0 [kpc] :: 48.0 [kpc]\n\nFound 0.000000e+00 particles\nMemory used for data table :1.10546875 KB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Use the short notation for the box center :bc or :boxcenter for all  dimensions (x,y,z):","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[-16.,16.], \n                            yrange=[-16.,16.], \n                            zrange=[-2.,2.], \n                            center=[:boxcenter], \n                            range_unit=:kpc); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:05.667\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :38.428720474243164 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[-16.,16.], \n                            yrange=[-16.,16.], \n                            zrange=[-2.,2.], \n                            center=[:bc], \n                            range_unit=:kpc); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:07.133\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nFound 5.445150e+05 particles\nMemory used for data table :38.428720474243164 MB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"particles = getparticles(  info, \n                            xrange=[-16.,16.], \n                            yrange=[-16.,16.], \n                            zrange=[-2.,2.], \n                            center=[:bc, 50., :bc], \n                            range_unit=:kpc); ","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"[Mera]: Get particle data: 2025-06-21T21:15:08.777\n\nKey vars=(:level, :x, :y, :z, :id, :family, :tag)\nUsing var(s)=(1, 2, 3, 4, 7) = (:vx, :vy, :vz, :mass, :birth) \n\ncenter: [0.5, 1.0416667, 0.5] ==> [24.0 [kpc] :: 50.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.7083333 :: 1.0  \t==> 34.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nFound 2.078000e+03 particles\nMemory used for data table :151.4609375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_particles_Load_Selections/","page":"Particles","title":"Particles","text":"","category":"page"},{"location":"06_particles_Projection/#6.-Particles:-Projections","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"","category":"section"},{"location":"06_particles_Projection/#Load-The-Data","page":"6. Particles: Projections","title":"Load The Data","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\nparticles  = getparticles(info);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-18T23:09:51.793\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b\n\n\u001b [Mera]: Get particle data: 2020-02-18T23:10:01.886\u001b\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(1, 2, 3, 4, 5) = (:vx, :vy, :vz, :mass, :birth)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001b Reading data...100%|████████████████████████████████████| Time: 0:00:04\u001b\n\n\nFound 5.089390e+05 particles\nMemory used for data table :34.947275161743164 MB\n-------------------------------------------------------","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"particles.data","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Table with 508939 rows, 10 columns:\nColumns:\n\u001b #   \u001b \u001b colname  \u001b \u001b type\u001b\n────────────────────\n1   level    Int32\n2   x        Float64\n3   y        Float64\n4   z        Float64\n5   id       Int32\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   mass     Float64\n10  birth    Float64","category":"page"},{"location":"06_particles_Projection/#Projection-of-Predefined-Quantities","page":"6. Particles: Projections","title":"Projection of Predefined Quantities","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"See the possible variables:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"projection()","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Predefined vars for projections:\n------------------------------------------------\n=====================[gas]:=====================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\nfurther possibilities: :rho, :density, :ρ\n              -derived hydro vars-\n:x, :y, :z\n:sd or :Σ or :surfacedensity\n:mass, :cellsize, :freefall_time\n:cs, :mach, :jeanslength, :jeansnumber\n\n==================[particles]:==================\n        all the non derived  vars:\n:cpu, :level, :id, :family, :tag\n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n==============[gas or particles]:===============\n:v, :ekin\nsquared => :vx2, :vy2, :vz2\nvelocity dispersion => σx, σy, σz, σ\n\nrelated to a given center:\n---------------------------\n:vr_cylinder, vr_sphere (radial components)\n:vϕ_cylinder, :vθ\nsquared => :vr_cylinder2, :vϕ_cylinder2\nvelocity dispersion => σr_cylinder, σϕ_cylinder\n\n2d maps (not projected):\n:r_cylinder\n:ϕ\n------------------------------------------------","category":"page"},{"location":"06_particles_Projection/#Projection-of-a-Single-Quantity-in-Different-Directions-(z,y,x)","page":"6. Particles: Projections","title":"Projection of a Single Quantity in Different Directions (z,y,x)","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Here we project the surface density in the z-direction of the data within a particular vertical range (domain=[0:1]) on a grid corresponding to level=9. Pass any object of PartDataType (here: \"particles\") to the projection-function and select a variable by a Symbol (here: :sd = :surfacedensity = :Σ in Msol/pc^3)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, lmax=9, zrange=[0.45,0.55])\nproj_z = projection(particles, :Σ,  unit=:Msol_pc2, lmax=9, zrange=[0.45,0.55], verbose=false)\nproj_z = projection(particles, :surfacedensity, unit=:Msol_pc2, lmax=9,zrange=[0.45,0.55], verbose=false)\nproj_z = projection(particles, :sd, :Msol_pc2, lmax=9, zrange=[0.45,0.55], verbose=false) # The keyword \"unit\" (singular) can be omit if the following order is preserved: data-object, quantity, unit.\nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9, direction = :x, zrange=[0.45,0.55], verbose=false); # Project the surface density in x-direction","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:42.33\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.95 :: 1.0  \t==> 45.6 [kpc] :: 48.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 1 513\nyrange: 1 513\nzrange: 487 513\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/#Select-a-Range-Related-to-a-Center","page":"6. Particles: Projections","title":"Select a Range Related to a Center","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"See also in the documentation for: load data by selection","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"cv = (particles.boxlen / 2.) * particles.scale.kpc # provide the box-center in kpc\nproj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[cv,cv,cv], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:45.187\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:boxcenter], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:46.718\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:bc], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:46.818\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                        xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                        center=[:bc, 24., :bc], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:48.695\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/#Get-Multiple-Quantities","page":"6. Particles: Projections","title":"Get Multiple Quantities","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Get several quantities with one function call by passing an array containing the selected variables (at least one entry). The keyword name for the units is now in plural.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_x = projection(particles, [:sd], units=[:Msol_pc2], lmax=9,\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:49.018\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Pass an array containing several quantities to process and their corresponding units:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z = projection(particles, [:sd, :vx], units=[:Msol_pc2, :km_s], lmax=9,\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:49.132\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The function can be called without any keywords by preserving the following order: dataobject, variables, units","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z = projection(particles, [:sd , :vx], [:Msol_pc2, :km_s], lmax=9,\n                        direction = :x,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:50.02\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"projvel_z = projection(particles, [:vx, :vy, :vz], :km_s, lmax=9,\n                        xrange=[-10.,10.],\n                        yrange=[-10.,10.],\n                        zrange=[-2.,2.],\n                        center=[24.,24.,24.],\n                        range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-12T20:07:50.259\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]","category":"page"},{"location":"06_particles_Projection/#Function-Output","page":"6. Particles: Projections","title":"Function Output","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"List the fields of the assigned object:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"propertynames(proj1_z)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ref_time, :ranges, :extent, :cextent, :ratio, :boxlen, :scale, :info)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The projected 2D maps are stored in a dictionary:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.maps","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:\n  :sd => [1.29223 1.29223 … 1.29223 0.0; 2.58445 1.29223 … 0.0 0.0; … ; 3.87668…\n  :vx => [178.738 143.611 … 131.468 NaN; 96.6932 154.086 … NaN NaN; … ; -189.97…","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The maps can be accessed by giving the name of the dictionary:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.maps[:sd]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"214×44 Array{Float64,2}:\n  1.29223  1.29223  1.29223   1.29223  …  0.0      1.29223  1.29223  0.0\n  2.58445  1.29223  2.58445   2.58445     1.29223  1.29223  0.0      0.0\n  0.0      1.29223  3.87668   2.58445     1.29223  0.0      0.0      0.0\n  1.29223  1.29223  2.58445   1.29223     0.0      1.29223  0.0      0.0\n  0.0      0.0      1.29223   2.58445     1.29223  0.0      1.29223  0.0\n  2.58445  2.58445  3.87668   1.29223  …  0.0      0.0      0.0      0.0\n  0.0      2.58445  0.0       2.58445     2.58445  0.0      0.0      0.0\n  1.29223  1.29223  6.46114   3.87668     3.87668  0.0      0.0      0.0\n  0.0      1.29223  1.29223   1.29223     0.0      2.58445  0.0      0.0\n  1.29223  2.58445  1.29223   3.87668     5.16891  2.58445  0.0      0.0\n  1.29223  0.0      1.29223   7.75336  …  0.0      2.58445  0.0      0.0\n  2.58445  2.58445  2.58445   3.87668     6.46114  0.0      1.29223  0.0\n  2.58445  2.58445  5.16891   0.0         0.0      2.58445  0.0      0.0\n  ⋮                                    ⋱  ⋮                             \n  3.87668  3.87668  5.16891   2.58445     5.16891  3.87668  0.0      0.0\n  1.29223  6.46114  2.58445   5.16891     3.87668  2.58445  2.58445  0.0\n  5.16891  7.75336  3.87668   6.46114     3.87668  2.58445  3.87668  0.0\n 11.63     7.75336  5.16891   5.16891  …  7.75336  5.16891  1.29223  0.0\n  1.29223  3.87668  3.87668   2.58445     2.58445  1.29223  0.0      0.0\n  5.16891  3.87668  3.87668  11.63        2.58445  3.87668  0.0      0.0\n  2.58445  6.46114  6.46114   6.46114     5.16891  2.58445  1.29223  0.0\n  2.58445  3.87668  3.87668  10.3378      9.04559  2.58445  0.0      0.0\n  5.16891  6.46114  7.75336   9.04559  …  3.87668  2.58445  0.0      0.0\n  3.87668  3.87668  0.0       6.46114     9.04559  6.46114  0.0      0.0\n  3.87668  5.16891  5.16891   1.29223     2.58445  3.87668  0.0      0.0\n  0.0      0.0      0.0       0.0         0.0      0.0      0.0      0.0","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The units of the maps are stored in:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.maps_unit","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 2 entries:\n  :sd => :Msol_pc2\n  :vx => :km_s","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The following fields are helpful for further calculations or plots.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.ranges # normalized to the domain=[0:1]","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"6-element Array{Float64,1}:\n 0.29166666666647767\n 0.7083333333328743\n 0.29166666666647767\n 0.7083333333328743\n 0.4583333333330363\n 0.5416666666663156","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.extent # ranges in code units","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"4-element Array{Float64,1}:\n 13.96875\n 34.03125\n 21.9375\n 26.0625","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.cextent # ranges in code units relative to a given center (by default: box center)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"4-element Array{Float64,1}:\n -10.031250000015554\n  10.031249999984446\n  -2.062500000015554\n   2.062499999984446","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj1_z.ratio # the ratio between the two ranges","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"4.863636363636363","category":"page"},{"location":"06_particles_Projection/#Plot-Maps-with-Python","page":"6. Particles: Projections","title":"Plot Maps with Python","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false)\nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Python functions can be directly called in Julia, which gives the opportunity, e.g. to use the Matplotlib library.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"using PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\ncmap2 = ColorMap(ColorSchemes.roma.colors)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: svg)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Project a specific spatial range and plot the axes of the map relative to the box-center (given by keyword: data_center):","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc)\nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc,\n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Plot the axes of the map relative to the map-center (given by keyword: data_center):","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[19.,19.,24.], data_center_unit=:kpc)\nproj_x = projection(particles, :sd, :Msol_pc2, lmax=9,\n                    xrange=[-10.,0.], yrange=[-10.,0.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc,\n                    verbose=false,\n                    data_center=[19.,19.,24.], data_center_unit=:kpc,\n                    direction = :x);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd])), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:sd])), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Projections-of-Derived-Kinematic-Data","page":"6. Particles: Projections","title":"Projections of Derived Kinematic Data","text":"","category":"section"},{"location":"06_particles_Projection/#Use-quantities-in-cartesian-coordinates:","page":"6. Particles: Projections","title":"Use quantities in cartesian coordinates:","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Project the following derived data (mass weighted by default): The absolute value of the velocity :v, the velocity dispersion :σ in different directions and the kinetic energy :ekin. The Julia language supports Unicode characters and can be inserted by e.g. \"\\sigma + tab-key\" leading to: σ.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, [:v, :σ, :σx, :σy, :σz, :ekin],\n                    units=[:km_s,:km_s,:km_s,:km_s,:km_s,:erg],\n                    lmax=9,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[24.,24.,24.], range_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-18T23:11:45.881\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:03\u001b","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"For the velocity dispersion additional maps are created to created the mass-weighted quantity: E. g.: σx = sqrt( <vx^2> - < vx >^2 )","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 14 entries:\n  :ekin => [2.4169e51 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; …\n  :sd   => [0.00129258 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … 0.0 0.0;…\n  :v    => [146.277 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; Na…\n  :v2   => [4.97588 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; Na…\n  :vx   => [1.22376 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; Na…\n  :vx2  => [1.49758 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; Na…\n  :vy   => [-1.84928 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; N…\n  :vy2  => [3.41984 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; Na…\n  :vz   => [-0.241781 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; …\n  :vz2  => [0.058458 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; N…\n  :σ    => [1.90735e-6 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN;…\n  :σx   => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σy   => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN; NaN Na…\n  :σz   => [1.72737e-7 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN;…","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 14 entries:\n  :ekin => :erg\n  :sd   => :standard\n  :v    => :km_s\n  :v2   => :standard\n  :vx   => :standard\n  :vx2  => :standard\n  :vy   => :standard\n  :vy2  => :standard\n  :vz   => :standard\n  :vz2  => :standard\n  :σ    => :km_s\n  :σx   => :km_s\n  :σy   => :km_s\n  :σz   => :km_s","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"usedmemory(proj_z);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Memory used: 5.16 MB","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 5.5))\n\nsubplot(2, 3, 1)\ntitle(\"v [km/s]\")\nimshow( (permutedims(proj_z.maps[:v])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmax=300.)\ncolorbar()\n\n\nsubplot(2, 3, 2)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 3)\ntitle(\"Ekin [erg]\")\nimshow( log10.(permutedims(proj_z.maps[:ekin]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 4)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx])   ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 5)\ntitle(\"σy [km/s]\")\nimshow( (permutedims(proj_z.maps[:σy])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(2, 3, 6)\ntitle(\"σz [km/s]\")\nimshow( (permutedims(proj_z.maps[:σz])  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();\n","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Use-quantities-in-cylindrical-coordinates:","page":"6. Particles: Projections","title":"Use quantities in cylindrical coordinates:","text":"","category":"section"},{"location":"06_particles_Projection/#Face-on-disc-(z-direction)","page":"6. Particles: Projections","title":"Face-on disc (z-direction)","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"For the cylindrical or spherical components of a quantity, the center of the coordinate system is used (keywords: datacenter = center default) and can be given with the keyword \"datacenter\" and its units with \"datacenterunit\". Additionally, the quantities that are based on cartesian coordinates can be given.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, [:v, :σ, :σx, :σy, :ϕ, :r_cylinder, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],                    \n                    units=[:km_s,:km_s,:km_s, :km_s, :standard, :kpc, :km_s, :km_s, :km_s, :km_s],\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    data_center=[24.,24.,24.], data_center_unit=:kpc);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-18T23:14:53.029\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 9\nxrange: 150 364\nyrange: 150 364\nzrange: 235 279\npixel-size: 93.75 [pc]\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => [14.0096 13.9434 … 14.1205 14.1874; 13.9434 13.877 … 14.0549…\n  :sd           => [0.00129258 0.0 … 0.0 0.0; 0.0 0.0 … 0.0 0.0; … ; 0.0 0.0 … …\n  :v            => [146.277 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :v2           => [4.97588 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :vr_cylinder  => [29.3132 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :vr_cylinder2 => [0.199823 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … Na…\n  :vx           => [1.22376 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :vx2          => [1.49758 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :vy           => [-1.84928 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … Na…\n  :vy2          => [3.41984 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN…\n  :vϕ_cylinder  => [142.43 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN …\n  :vϕ_cylinder2 => [4.7176 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN …\n  :σ            => [1.90735e-6 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … …\n  :σr_cylinder  => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σx           => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σy           => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :σϕ_cylinder  => [0.0 NaN … NaN NaN; NaN NaN … NaN NaN; … ; NaN NaN … NaN NaN…\n  :ϕ            => [3.92699 3.92224 … 2.34837 2.34373; 3.93175 3.92699 … 2.3436…","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 18 entries:\n  :r_cylinder   => :kpc\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σϕ_cylinder  => :km_s\n  :ϕ            => :radian","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"Radius [kpc]\")\nimshow( permutedims(proj_z.maps[:r_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmin=-200.,vmax=200.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"ϕ-angle\")\nimshow( (permutedims(proj_z.maps[:ϕ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_z.maps[:σr_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_z.maps[:σx]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_z.maps[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Project-on-a-Coarser-Grid","page":"6. Particles: Projections","title":"Project on a Coarser Grid","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The default is the projection on the maximum loaded grid level (always provided in the output). Choose a smaller level with the keyword lmax to project on a coarser grid in addition. Higher-resolution data is averaged within each coarser grid-cell (default: mass-weighted). By default, the data is assumed to be in the center of the simulation box.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles,\n                    [:v, :σ, :σx, :σy, :σz, :vr_cylinder, :vϕ_cylinder, :σr_cylinder, :σϕ_cylinder],\n                    :km_s,\n                    xrange=[-10.,10.], yrange=[-10.,10.], zrange=[-2.,2.],\n                    center=[:boxcenter], range_unit=:kpc,\n                    lmax=8);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-18T23:15:37.232\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMap data on given lmax: 8\nxrange: 75 183\nyrange: 75 183\nzrange: 118 140\npixel-size: 187.5 [pc]\n\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:00:01\u001b","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The projection onto the maximum loaded grid is always provided:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => [0.000323146 0.000323146 … 0.0 0.0; 0.000969439 0.000323146 …\n  :v            => [146.277 156.41 … NaN NaN; 168.992 166.428 … NaN NaN; … ; Na…\n  :v2           => [4.97588 5.6892 … NaN NaN; 6.6621 6.4413 … NaN NaN; … ; NaN …\n  :vr_cylinder  => [29.3132 76.3408 … NaN NaN; 26.5929 6.80341 … NaN NaN; … ; N…\n  :vr_cylinder2 => [0.199823 1.35529 … NaN NaN; 0.25831 0.010764 … NaN NaN; … ;…\n  :vx           => [1.22376 0.610176 … NaN NaN; 1.49846 1.69991 … NaN NaN; … ; …\n  :vx2          => [1.49758 0.372314 … NaN NaN; 2.33418 2.88971 … NaN NaN; … ; …\n  :vy           => [-1.84928 -2.29076 … NaN NaN; -2.04837 -1.86716 … NaN NaN; ……\n  :vy2          => [3.41984 5.24756 … NaN NaN; 4.22525 3.48629 … NaN NaN; … ; N…\n  :vz           => [-0.241781 -0.263284 … NaN NaN; -0.187282 0.25555 … NaN NaN;…\n  :vz2          => [0.058458 0.0693187 … NaN NaN; 0.102671 0.0653057 … NaN NaN;…\n  :vϕ_cylinder  => [142.43 135.419 … NaN NaN; 164.297 165.443 … NaN NaN; … ; Na…\n  :vϕ_cylinder2 => [4.7176 4.26459 … NaN NaN; 6.30112 6.36523 … NaN NaN; … ; Na…\n  :σ            => [1.90735e-6 0.0 … NaN NaN; 9.45804 1.90735e-6 … NaN NaN; … ;…\n  :σr_cylinder  => [0.0 0.0 … NaN NaN; 20.0894 8.42937e-8 … NaN NaN; … ; NaN Na…\n  :σx           => [0.0 0.0 … NaN NaN; 19.5408 0.0 … NaN NaN; … ; NaN NaN … NaN…\n  :σy           => [0.0 0.0 … NaN NaN; 11.246 1.9543e-6 … NaN NaN; … ; NaN NaN …\n  :σz           => [1.72737e-7 0.0 … NaN NaN; 17.0492 0.0 … NaN NaN; … ; NaN Na…\n  :σϕ_cylinder  => [0.0 0.0 … NaN NaN; 10.1009 0.0 … NaN NaN; … ; NaN NaN … NaN…","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.maps_unit","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => :standard\n  :v            => :km_s\n  :v2           => :standard\n  :vr_cylinder  => :km_s\n  :vr_cylinder2 => :standard\n  :vx           => :standard\n  :vx2          => :standard\n  :vy           => :standard\n  :vy2          => :standard\n  :vz           => :standard\n  :vz2          => :standard\n  :vϕ_cylinder  => :km_s\n  :vϕ_cylinder2 => :standard\n  :σ            => :km_s\n  :σr_cylinder  => :km_s\n  :σx           => :km_s\n  :σy           => :km_s\n  :σz           => :km_s\n  :σϕ_cylinder  => :km_s","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"|v| [km/s]\")\nimshow( permutedims(proj_z.maps[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmax=300.)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_z.maps[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent, vmin=-200.,vmax=200.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_z.maps[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"σz [km/s]\")\nimshow( (permutedims(proj_z.maps[:σz]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( (permutedims(proj_z.maps[:σr_cylinder]  )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σϕ_cylinder] )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( (permutedims(proj_z.maps[:σ]) ), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( (permutedims(proj_z.maps[:σx]  )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( (permutedims(proj_z.maps[:σy] )), cmap=cmap2, origin=\"lower\", extent=proj_z.cextent)\ncolorbar();","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Remap-a-Projected-Data-onto-a-Coarser-Grid","page":"6. Particles: Projections","title":"Remap a Projected Data onto a Coarser Grid","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Pass the object with the projected data to the function remap and the level of the coarser grid:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_zlmax = remap(proj_z, 6, weighting=:mass);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"remap from:\nlevel 8 => 6\ncellsize 187.5 [pc] => 750.0 [pc]\npixels (108, 108) => (27, 27)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_zlmax.maps_lmax","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"DataStructures.SortedDict{Any,Any,Base.Order.ForwardOrdering} with 19 entries:\n  :sd           => [0.000323146 0.000646292 … 0.000969439 0.0; 0.000323146 0.00…\n  :v            => [146.277 168.298 … 156.122 NaN; 139.301 147.989 … 163.056 Na…\n  :v2           => [4.97588 6.59448 … 5.72437 NaN; 4.51262 5.41716 … 6.34405 Na…\n  :vr_cylinder  => [29.3132 84.1136 … 12.6568 NaN; -65.7457 1.40056 … -13.4105 …\n  :vr_cylinder2 => [0.199823 1.66491 … 1.15359 NaN; 1.0052 0.0947446 … 0.295219…\n  :vx           => [1.22376 0.492592 … -1.53257 NaN; 2.0553 1.52317 … -1.57894 …\n  :vx2          => [1.49758 0.249049 … 2.51795 NaN; 4.22424 2.55826 … 2.92281 N…\n  :vy           => [-1.84928 -2.42313 … -1.35159 NaN; -0.536675 -1.55209 … -1.8…\n  :vy2          => [3.41984 5.88813 … 3.07412 NaN; 0.28802 2.57923 … 3.41524 Na…\n  :vz           => [-0.241781 -0.672377 … -0.170057 NaN; -0.0189591 -0.412132 ……\n  :vz2          => [0.058458 0.457301 … 0.132298 NaN; 0.000359447 0.279663 … 0.…\n  :vϕ_cylinder  => [142.43 138.647 … 133.136 NaN; 122.804 142.63 … 158.394 NaN;…\n  :vϕ_cylinder2 => [4.7176 4.47227 … 4.43848 NaN; 3.50705 5.04275 … 6.04282 NaN…\n  :σ            => [1.90735e-6 5.72296 … 15.5331 0.0; 0.0 37.3334 … 26.3214 0.0…\n  :σr_cylinder  => [0.0 9.17629 … 69.2848 0.0; 0.0 20.1358 … 33.0096 0.0; … ; 0…\n  :σx           => [0.0 5.24676 … 26.9716 0.0; 0.0 32.0052 … 42.9889 0.0; … ; 0…\n  :σy           => [0.0 8.44153 … 73.2366 0.0; 0.0 27.0583 … 11.713 0.0; … ; 0.…\n  :σz           => [1.72737e-7 4.73321 … 21.0841 0.0; 0.0 21.7301 … 4.72985 0.0…\n  :σϕ_cylinder  => [0.0 2.88507 … 36.8894 0.0; 0.0 36.6195 … 29.9383 0.0; … ; 0…","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 8.5))\n\nsubplot(3, 3, 1)\ntitle(\"Radius [kpc]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:v]  ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 2)\ntitle(\"vr [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:vr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent, vmin=-150.,vmax=150.)\ncolorbar()\n\n\nsubplot(3, 3, 3)\ntitle(\"vϕ [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:vϕ_cylinder]  ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 4)\ntitle(\"σz [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σz]) , cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 5)\ntitle(\"σr [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σr_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 6)\ntitle(\"σϕ [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σϕ_cylinder] ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 7)\ntitle(\"σ [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σ]) , cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\n\nsubplot(3, 3, 8)\ntitle(\"σx [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σx]), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar()\n\n\nsubplot(3, 3, 9)\ntitle(\"σy [km/s]\")\nimshow( permutedims(proj_zlmax.maps_lmax[:σy] ), cmap=cmap2, origin=\"lower\", extent=proj_zlmax.cextent)\ncolorbar();","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Projection-of-the-Birth/Age-Time","page":"6. Particles: Projections","title":"Projection of the Birth/Age-Time","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Project the average birth-time of the particles to the grid:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :birth, :Myr,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false);\nproj_x = projection(particles, :birth, :Myr,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x, verbose=false);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:birth])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Birth) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:birth])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Birth) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Project the average age of the particles to the grid. The age is taken relative to the loaded snapshot time by default.","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :age, :Myr,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false);\nproj_x = projection(particles, :age, :Myr,\n                    lmax=6,  zrange=[0.45,0.55], direction=:x,  center=[0.,0.,0.], verbose=false);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The reference time (code units) for the age calculation:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.ref_time","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"39.9019537349027","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Project the average age of the particles relative to a given reference time:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :age, :Myr, ref_time=0.,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], verbose=false);\nproj_x = projection(particles, :age, :Myr, ref_time = 0.,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x, verbose=false);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"The reference time (code units) for the age calculation:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z.ref_time","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"0.0","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( ( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( ( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/#Projection-of-Masked-Data","page":"6. Particles: Projections","title":"Projection of Masked Data","text":"","category":"section"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"Mask particles with ages higher than 500 Myr by creating a Bool-array where the smaller ages correspond to false entries:","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"mask = getvar(particles, :age, :Myr) .> 500. ;","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"proj_z = projection(particles, :age, :Myr, mask=mask,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.]);\nproj_x = projection(particles, :age, :Myr, mask=mask,\n                    lmax=6,  zrange=[0.45,0.55], center=[0.,0.,0.], direction=:x);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"\u001b [Mera]: 2020-02-18T23:14:17.09\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nMap data on given lmax: 6\nxrange: 1 65\nyrange: 1 65\nzrange: 29 37\npixel-size: 750.0 [pc]\n\n:mask provided by function\n\n\u001b [Mera]: 2020-02-18T23:14:24.262\u001b\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.45 :: 0.55  \t==> 21.6 [kpc] :: 26.4 [kpc]\n\nMap data on given lmax: 6\nxrange: 1 65\nyrange: 1 65\nzrange: 29 37\npixel-size: 750.0 [pc]\n\n:mask provided by function","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"figure(figsize=(10, 3.5))\nsubplot(1,2,1)\nim = imshow( log10.( permutedims(proj_z.maps[:age])), cmap=cmap2, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\")\n\nsubplot(1,2,2)\nim = imshow( log10.( permutedims(proj_x.maps[:age])), cmap=cmap2, origin=\"lower\", extent=proj_x.cextent)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=L\"\\mathrm{log10(Age) \\ [Myr]}\",orientation=\"horizontal\", pad=0.2);","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"(Image: png)","category":"page"},{"location":"06_particles_Projection/","page":"6. Particles: Projections","title":"6. Particles: Projections","text":"","category":"page"},{"location":"api/#Types","page":"API Documentation","title":"Types","text":"","category":"section"},{"location":"api/#Abstract-type-hierarchies","page":"API Documentation","title":"Abstract type hierarchies","text":"","category":"section"},{"location":"api/","page":"API Documentation","title":"API Documentation","text":"(Image: DataSetType hierarchy)","category":"page"},{"location":"api/","page":"API Documentation","title":"API Documentation","text":"HydroMapsType <: DataMapsType\nPartMapsType  <: DataMapsType","category":"page"},{"location":"api/#List-of-types","page":"API Documentation","title":"List of types","text":"","category":"section"},{"location":"api/","page":"API Documentation","title":"API Documentation","text":"Modules = [Mera]\nOrder = [:type]","category":"page"},{"location":"api/#Functions","page":"API Documentation","title":"Functions","text":"","category":"section"},{"location":"api/","page":"API Documentation","title":"API Documentation","text":"Modules = [Mera]\nOrder = [:function]","category":"page"},{"location":"api/#Documentation-Types","page":"API Documentation","title":"Documentation Types","text":"","category":"section"},{"location":"api/#Mera.ArgumentsType","page":"API Documentation","title":"Mera.ArgumentsType","text":"Mutable Struct: Contains fields to use as arguments in functions\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.CheckOutputNumberType","page":"API Documentation","title":"Mera.CheckOutputNumberType","text":"Mutable Struct: Contains the existing simulation snapshots in a folder and a list of the empty output-folders\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.ClumpDataType","page":"API Documentation","title":"Mera.ClumpDataType","text":"Mutable Struct: Contains clump data and information about the selected simulation\n\nClumpDataType <: ContainMassDataSetType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.CompilationInfoType","page":"API Documentation","title":"Mera.CompilationInfoType","text":"Mutable Struct: Contains the collected information about the compilation of RAMSES\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.ContainMassDataSetType","page":"API Documentation","title":"Mera.ContainMassDataSetType","text":"Abstract Supertype of all datasets that contain mass variables\n\nHydroPartType <: ContainMassDataSetType <: DataSetType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.DataMapsType","page":"API Documentation","title":"Mera.DataMapsType","text":"Abstract Supertype of all the different dataset type maps HydroMapsType <: DataMapsType PartMapsType <: DataMapsType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.DataSetType","page":"API Documentation","title":"Mera.DataSetType","text":"Abstract Supertype of all the different dataset types\n\nHydroPartType <: ContainMassDataSetType <: DataSetType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.DescriptorType","page":"API Documentation","title":"Mera.DescriptorType","text":"Mutable Struct: Contains the collected information about the descriptors\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.GridInfoType","page":"API Documentation","title":"Mera.GridInfoType","text":"Mutable Struct: Contains the collected information about grid\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.Histogram2DMapType","page":"API Documentation","title":"Mera.Histogram2DMapType","text":"Mutable Struct: Contains the 2D histogram returned by the function: histogram2 and information about the selected simulation\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.HydroDataType","page":"API Documentation","title":"Mera.HydroDataType","text":"Mutable Struct: Contains hydro data and information about the selected simulation\n\nHydroDataType <: HydroPartType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.HydroMapsType","page":"API Documentation","title":"Mera.HydroMapsType","text":"Mutable Struct: Contains the maps/units returned by the hydro-projection information about the selected simulation\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.HydroPartType","page":"API Documentation","title":"Mera.HydroPartType","text":"Abstract Supertype of data-sets that contain hydro and particle data\n\nHydroPartType <: ContainMassDataSetType <: DataSetType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.InfoType","page":"API Documentation","title":"Mera.InfoType","text":"Mutable Struct: Collected information about the selected simulation output\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.PartDataType","page":"API Documentation","title":"Mera.PartDataType","text":"Mutable Struct: Contains particle data and information about the selected simulation\n\nPartDataType <: HydroPartType\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.PartInfoType","page":"API Documentation","title":"Mera.PartInfoType","text":"Mutable Struct: Contains the collected information about particles\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.PartMapsType","page":"API Documentation","title":"Mera.PartMapsType","text":"Mutable Struct: Contains the maps/units returned by the particles-projection information about the selected simulation\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.PhysicalUnitsType","page":"API Documentation","title":"Mera.PhysicalUnitsType","text":"Mutable Struct: Contains the physical constants in cgs units\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.PhysicalUnitsType001","page":"API Documentation","title":"Mera.PhysicalUnitsType001","text":"Mutable Struct: Contains the physical constants in cgs units\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.ScalesType","page":"API Documentation","title":"Mera.ScalesType","text":"Mutable Struct: Contains the created scale factors from code to physical units\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.ScalesType001","page":"API Documentation","title":"Mera.ScalesType001","text":"Mutable Struct: Contains the created scale factors from code to physical units\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.WStatType","page":"API Documentation","title":"Mera.WStatType","text":"Mutable Struct: Contains the output statistics returned by wstat\n\n\n\n\n\n","category":"type"},{"location":"api/#Mera.MaskType","page":"API Documentation","title":"Mera.MaskType","text":"Union Type: Mask-array that is of type Bool or BitArray MaskType = Union{Array{Bool,1},BitArray{1}}\n\n\n\n\n\n","category":"type"},{"location":"api/#Documentation-Functions","page":"API Documentation","title":"Documentation Functions","text":"","category":"section"},{"location":"api/#Mera.amroverview-Tuple{GravDataType, Bool}","page":"API Documentation","title":"Mera.amroverview","text":"Get the number of cells and/or the CPUs per level\n\nfunction overview_amr(dataobject::GravDataType, verbose::Bool=true)\nfunction overview_amr(dataobject::GravDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.amroverview-Tuple{HydroDataType, Bool}","page":"API Documentation","title":"Mera.amroverview","text":"Get the number of cells and/or the CPUs per level\n\nfunction overview_amr(dataobject::HydroDataType, verbose::Bool=true)\nfunction overview_amr(dataobject::HydroDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.amroverview-Tuple{PartDataType, Bool}","page":"API Documentation","title":"Mera.amroverview","text":"Get the number of particles and/or the CPUs per level\n\nfunction overview_amr(dataobject::PartDataType, verbose::Bool=true)\nfunction overview_amr(dataobject::PartDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.average_velocity-Tuple{ContainMassDataSetType, Symbol}","page":"API Documentation","title":"Mera.average_velocity","text":"Calculate the average velocity (w/o mass-weight) of any ContainMassDataSetType:\n\naverage_velocity(dataobject::ContainMassDataSetType; unit::Symbol=:standard, weighting::Symbol=:mass, mask::MaskType=[false])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"ContainMassDataSetType\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units)  :kms, :ms, :cm_s (of typye Symbol) ..etc. ; see for defined velocity-scales viewfields(info.scale)\nweighting: use different weightings: :mass (default), :volume (hydro), :no\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.bell-Tuple{}","page":"API Documentation","title":"Mera.bell","text":"Get a notification sound, e.g., when your calculations are finished.\n\nThis may not apply when working remotely on a server:\n\njulia> bell()\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.bulk_velocity-Tuple{ContainMassDataSetType, Symbol}","page":"API Documentation","title":"Mera.bulk_velocity","text":"Calculate the average velocity (w/o mass-weight) of any ContainMassDataSetType:\n\nbulk_velocity(dataobject::ContainMassDataSetType; unit::Symbol=:standard, weighting::Symbol=:mass, mask::MaskType=[false])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"ContainMassDataSetType\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units)  :kms, :ms, :cm_s (of typye Symbol) ..etc. ; see for defined velocity-scales viewfields(info.scale)\nweighting: use different weightings: :mass (default), :volume (hydro), :no\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.center_of_mass-Tuple{ContainMassDataSetType, Symbol}","page":"API Documentation","title":"Mera.center_of_mass","text":"Calculate the center-of-mass of any ContainMassDataSetType:\n\ncenter_of_mass(dataobject::ContainMassDataSetType; unit::Symbol=:standard, mask::MaskType=[false])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"ContainMassDataSetType\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.center_of_mass-Tuple{Vector{HydroPartType}, Symbol}","page":"API Documentation","title":"Mera.center_of_mass","text":"Calculate the joint center-of-mass of any HydroPartType:\n\ncenter_of_mass(dataobject::Array{HydroPartType,1}, unit::Symbol; mask::MaskArrayAbstractType=[[false],[false]])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"Array{HydroPartType,1}\"\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\nmask: needs to be of type MaskArrayAbstractType which contains two entries with supertype of Array{Bool,1} or BitArray{1} and the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.checkoutputs","page":"API Documentation","title":"Mera.checkoutputs","text":"Get the existing simulation snapshots in a given folder\n\nreturns field outputs with Array{Int,1} containing the output-numbers of the existing simulations\nreturns field miss with Array{Int,1} containing the output-numbers of empty simulation folders\nreturns field path as String\n\ncheckoutputs(path::String=\"./\"; verbose::Bool=true)\nreturn CheckOutputNumberType\n\nExamples\n\n# Example 1:\n# look in current folder\njulia> N = checkoutputs();\njulia> N.outputs\njulia> N.miss\njulia> N.path\n\n# Example 2:\n# look in given path\n# without any keyword\njulia>N = checkoutputs(\"simulation001\");\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.checksimulations","page":"API Documentation","title":"Mera.checksimulations","text":"List the existing simulation snapshots in a given folder\n\nreturns a Dictonary with existing simulations and their folder names with:\nfield outputs with Array{Int,1} containing the output-numbers of the existing simulations\nfield miss with Array{Int,1} containing the output-numbers of empty simulation folders\nfield path as String\n\nchecksimulations(path::String=\"./\"; verbose::Bool=true, filternames=String[])\nreturn Dict with named Tuple: simulation name and N=CheckOutputNumberType\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.com-Tuple{ContainMassDataSetType, Symbol}","page":"API Documentation","title":"Mera.com","text":"Calculate the center-of-mass of any ContainMassDataSetType:\n\ncom(dataobject::ContainMassDataSetType; unit::Symbol=:standard, mask::MaskType=[false])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"ContainMassDataSetType\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.com-Tuple{Vector{HydroPartType}, Symbol}","page":"API Documentation","title":"Mera.com","text":"Calculate the joint center-of-mass of any HydroPartType:\n\ncom(dataobject::Array{HydroPartType,1}, unit::Symbol; mask::MaskArrayAbstractType=[[false],[false]])\n\nreturn Tuple{Float64, Float64, Float64,}\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"Array{HydroPartType,1}\"\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\nmask: needs to be of type MaskArrayAbstractType which contains two entries with supertype of Array{Bool,1} or BitArray{1} and the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.construct_datatype-Tuple{IndexedTables.AbstractIndexedTable, HydroDataType}","page":"API Documentation","title":"Mera.construct_datatype","text":"Create a New DataSetType from a Filtered Data Table\n\nfunction construct_datatype(data::IndexedTables.AbstractIndexedTable, dataobject::HydroDataType)\nreturn HydroDataType\n\nfunction construct_datatype(data::IndexedTables.AbstractIndexedTable, dataobject::PartDataType)\nreturn PartDataType\n\nfunction construct_datatype(data::IndexedTables.AbstractIndexedTable, dataobject::ClumpDataType)\nreturn ClumpDataType\n\nfunction construct_datatype(data::IndexedTables.AbstractIndexedTable, dataobject::GravDataType)\nreturn GravDataType\n\nExample\n\n# read simulation information\njulia> info = getinfo(420)\njulia> gas = gethydro(info)\n\n# filter and create a new` data table\njulia> density = 3. /gas.scale.Msol_pc3\njulia> filtered_db = @filter gas.data :rho >= density\n\n# construct a new HydroDataType\n# (comparable to the object \"gas\" but only with filtered data)\njulia> gas_new = construct_datatype(filtered_db, gas)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.convertdata-Tuple{Int64, Vector{Symbol}}","page":"API Documentation","title":"Mera.convertdata","text":"Converts full simulation data into a compressed/uncompressed JLD2 format:\n\nall existing datatypes are sequentially loaded and stored\nsupports :hydro, :particles, :hydro, :clumps\nrunning number is taken from original RAMSES folders\nuse different compression methods\nselect a certain data range, smallr, smallc, lmax\nadd a string to describe the simulation\nthe individual loading and storing processes are timed and stored into the file (and more statistics)\ntoggle progressbar mode\ntoggle verbose mode\n\nfunction convertdata(output::Int; datatypes::Array{<:Any,1}=[missing], path::String=\"./\", fpath::String=\"./\",\n            fname = \"output_\",\n            compress::Any=nothing,\n            comments::Any=nothing,\n            lmax::Union{Int, Missing}=missing,\n            xrange::Array{<:Any,1}=[missing, missing],\n            yrange::Array{<:Any,1}=[missing, missing],\n            zrange::Array{<:Any,1}=[missing, missing],\n            center::Array{<:Any,1}=[0., 0., 0.],\n            range_unit::Symbol=:standard,\n            smallr::Real=0.,\n            smallc::Real=0.,\n            verbose::Bool=true,\n            show_progress::Bool=true,\n            myargs::ArgumentsType=ArgumentsType() )\n\nreturn statistics (dictionary)\n\n\nArguments\n\nRequired:\n\noutput: output number\n\nPredefined/Optional Keywords:\n\ndatatypes: default -> all available (known) data is converted; pass an array with only selected datatypes, e.g.: datatypes=[:hydro, :particles]\nfname: default name of the files \"output_\" and the running number is added. Change the string to apply a user-defined name.\ncompress: by default compression is activated. compress=false (deactivate). \n\nIf necessary, choose between different compression types: LZ4FrameCompressor() (default), Bzip2Compressor(), ZlibCompressor().  Load the required package to choose the compression type and to see their parameters: CodecZlib, CodecBzip2 or CodecLz4\n\ncomments: add a string that includes e.g. a description about your simulation\nlmax: the maximum level to be read from the data\npath: path to the RAMSES folders; default is local path.\nfpath: path to the JLD23 file; default is local path.\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nsmallr: set lower limit for density; zero means inactive\nsmallc: set lower limit for thermal pressure; zero means inactive\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of xrange, yrange, zrange, center, range_unit, verbose\nverbose: print timestamp and further information on screen; default: true\n\nDefined Methods - function defined for different arguments\n\nconvertdata(output::Int64; ...)\nconvertdata(output::Int64, datatypes::Vector{Symbol}; ...)\nconvertdata(output::Int64, datatypes::Symbol; ...)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.createpath-Tuple{Real, String}","page":"API Documentation","title":"Mera.createpath","text":"```julia  createpath(output::Real, path::String; namelist::String=\"\")\n\nreturn  FileNamesType  ```\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.createscales!-Tuple{InfoType}","page":"API Documentation","title":"Mera.createscales!","text":"Create an object with predefined scale factors from code to pysical units\n\nfunction createscales!(dataobject::InfoType)\n\nreturn ScalesType001\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.dataoverview-Tuple{ClumpDataType}","page":"API Documentation","title":"Mera.dataoverview","text":"Get the extrema of each variable in the database\n\nfunction dataoverview(dataobject::ClumpDataType)\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.dataoverview-Tuple{GravDataType, Bool}","page":"API Documentation","title":"Mera.dataoverview","text":"todo: needs to be tested\n\nGet the total epot and min/max value of each variable in the database per level\n\nfunction dataoverview(dataobject::GravDataType, verbose::Bool=true)\nfunction dataoverview(dataobject::GravDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.dataoverview-Tuple{HydroDataType, Bool}","page":"API Documentation","title":"Mera.dataoverview","text":"Get the mass and min/max value of each variable in the database per level\n\nfunction dataoverview(dataobject::HydroDataType, verbose::Bool=true)\nfunction dataoverview(dataobject::HydroDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.dataoverview-Tuple{PartDataType, Bool}","page":"API Documentation","title":"Mera.dataoverview","text":"Get the min/max value of each variable in the database per level\n\nfunction dataoverview(dataobject::PartDataType, verbose::Bool=true)\nfunction dataoverview(dataobject::PartDataType; verbose::Bool=true)\n\nreturn a JuliaDB table\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.export_vtk-Tuple{HydroDataType, String}","page":"API Documentation","title":"Mera.export_vtk","text":"Export hydro data to VTK format for visualization in tools like ParaView.\n\nexport data that is present in your database and can be processed by getvar() (done internally)\nselect scalar(s) and their unit(s)\nselect a vector and its unit (like velocity)\nexport data in log10\ncreates binary files with optional compression\nsupports multi-threading\n\n-> generating per-level VTU files for scalar and optionally vector data  and creates corresponding VTM multiblock container files to reference these VTU files.\n\nexport_vtk(\n    dataobject::HydroDataType, outprefix::String;\n    scalars::Vector{Symbol} = [:rho],\n    scalars_unit::Vector{Symbol} = [:nH],\n    scalars_log10::Bool=false,\n    vector::Array{<:Any,1}=[missing, missing, missing],\n    vector_unit::Symbol = :km_s,\n    vector_name::String = \"velocity\",\n    vector_log10::Bool=false,\n    positions_unit::Symbol = :standard,\n    lmin::Int = dataobject.lmin,\n    lmax::Int = dataobject.lmax,\n    chunk_size::Int = 50000,\n    compress::Bool = true,\n    interpolate_higher_levels::Bool = true,\n    max_cells::Int = 100_000_000,\n    verbose::Bool = true,\n    myargs::ArgumentsType=ArgumentsType()\n)\n\nArguments\n\nRequired:\n\ndataobject::HydroDataType: The AMR data structure from MERA.jl containing variables like level, position, and physical quantities.\noutprefix::String: The base path and prefix for output files (e.g., \"output/data\" will create files like \"output/data_L0.vtu\").\n\nPredefined/Optional Keywords:\n\nscalars: List of scalar variables to export (default is :rho);  from the database or a predefined quantity (see field: info, function getvar(), dataobject.data)\nscalars_unit: Sets the unit for the list of scalars (default is hydrogen number density in cm^-3).\nscalars_log10: Apply log10 to the scalars (default false).\nvector: List of vector component variables to export (default is missing); exports vector data as separate VTU files\nvector_unit: Sets the unit for the vector components (default is km/s).\nvector_name: The name of the vector field in the VTK file (default: \"velocity\").\nvector_log10: Apply log10 to the vector components (default: false).\npositions_unit: Sets the unit of the cell positions (default: code units); usefull in paraview to select regions \nlmin: Minimum AMR level to process (default: simulations lmin); smaller levels are excluded in export\nlmax: Maximum AMR level to process (default: simulations lmax); existing higher levels are interpolated down if interpolatehigherlevels is true, otherwise excluded from export\nchunk_size::Int = 50000: Size of data chunks for processing (currently unused but reserved for future optimizations).\nchunk_size::Int = 50000: Size of data chunks for processing (currently unused but reserved for future optimizations).\ncompress: If true (default), enable compression.\ninterpolate_higher_levels: If true, interpolate data from higher levels down to given lmax .\nmax_cells: Maximum number of cells to export per level (caps output if exceeded, prioritizing denser regions), (default: 100000000)\nverbose: If true (default), print detailed progress and diagnostic messages.\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.export_vtk-Tuple{PartDataType, String}","page":"API Documentation","title":"Mera.export_vtk","text":"Export particle data to VTK format for visualization in tools like ParaView.\n\nexport data that is present in your database and can be processed by getvar() (done internally)\nselect scalar(s) and their unit(s)\nselect a vector and its unit (like velocity)\nexport data in log10\ncreates binary files with optional compression\nsupports multi-threading\n\n-> generates VTU files; each particle is represented as a vertex point  with associated scalar and vector data.\n\nexport_vtk(\n    dataobject::PartDataType, outprefix::String;\n    scalars::Vector{Symbol} = [:mass],\n    scalars_unit::Vector{Symbol} = [:Msol],\n    scalars_log10::Bool=false,\n    vector::Array{<:Any,1}=[missing, missing, missing],\n    vector_unit::Symbol = :km_s,\n    vector_name::String = \"velocity\",\n    vector_log10::Bool=false,\n    positions_unit::Symbol = :standard,\n    chunk_size::Int = 50000,\n    compress::Bool = false,\n    max_particles::Int = 100_000_000,\n    verbose::Bool = true,\n    myargs::ArgumentsType=ArgumentsType()\n)\n\nArguments\n\nRequired:\n\n**dataobject::PartDataType:*** needs to be of type \"PartDataType\"\noutprefix: The base path and prefix for output file (e.g., \"foldername/particles\" will create \"foldername/particles.vtu\").\n\nPredefined/Optional Keywords:\n\nscalars: List of scalar variables to export (default is particle mass);  from the database or a predefined quantity (see field: info, function getvar(), dataobject.data)\nscalars_unit: Sets the unit for the list of scalars (default is Msun).\nscalars_log10: Apply log10 to the scalars (default false).\nvector: List of vector component variables to export (default is missing).\nvector_unit: Sets the unit for the vector components (default is km/s).\nvector_name: The name of the vector field in the VTK file (default: \"velocity\").\nvector_log10: Apply log10 to the vector components (default: false).\npositions_unit: Sets the unit of the particle positions (default: code units); usefull in paraview to select regions \nchunk_size::Int = 50000: Size of data chunks for processing (reserved for future optimizations).\ncompress: If false (default), disable compression.\nmax_particles: Maximum number of particles to export (caps output if exceeded), (default: 100000000)\nverbose: If true (default), print detailed progress and diagnostic messages.\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getclumps-Tuple{InfoType, Vector{Symbol}}","page":"API Documentation","title":"Mera.getclumps","text":"Read the clump-data:\n\nselected variables\nlimited to a spatial range\nprint the name of each data-file before reading it\ntoggle verbose mode\npass a struct with arguments (myargs)\n\ngetclumps(  dataobject::InfoType;\n            vars::Array{Symbol,1}=[:all],\n            xrange::Array{<:Any,1}=[missing, missing],\n            yrange::Array{<:Any,1}=[missing, missing],\n            zrange::Array{<:Any,1}=[missing, missing],\n            center::Array{<:Any,1}=[0., 0., 0.],\n            range_unit::Symbol=:standard,\n            print_filenames::Bool=false,\n            verbose::Bool=true,\n            myargs::ArgumentsType=ArgumentsType() )\n\nReturns an object of type ClumpDataType, containing the clump-data table, the selected options and the simulation ScaleType and summary of the InfoType\n\nreturn ClumpDataType()\n\n# get an overview of the returned fields:\n# e.g.:\njulia> info = getinfo(100)\njulia> clumps  = getclumps(info)\njulia> viewfields(clumps)\n#or:\njulia> fieldnames(clumps)\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"InfoType\", created by the function getinfo\n\nPredefined/Optional Keywords:\n\nvars: Currently, the length of the loaded variable list can be modified *(see examples below).\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nprint_filenames: print on screen the current processed particle file of each CPU\nverbose: print timestamp, selected vars and ranges on screen; default: true\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of xrange, yrange, zrange, center, range_unit, verbose\n\nDefined Methods - function defined for different arguments\n\ngetclumps(dataobject::InfoType; ...) # no given variables -> all variables loaded\ngetclumps(dataobject::InfoType, vars::Array{Symbol,1}; ...)  # one or several given variables -> array needed\n\nExamples\n\n# read simulation information\njulia> info = getinfo(420)\n\n# Example 1:\n# read clump data of all variables, full-box\njulia> clumps = getclumps(info)\n\n# Example 2:\n# read clump data of all variables\n# data range 20x20x4 kpc; ranges are given in kpc relative to the box (here: 48 kpc) center at 24 kpc\njulia> clumps = getclumps(    info,\n                              xrange=[-10.,10.],\n                              yrange=[-10.,10.],\n                              zrange=[-2.,2.],\n                              center=[24., 24., 24.],\n                              range_unit=:kpc )\n\n# Example 3:\n# give the center of the box by simply passing: center = [:bc] or center = [:boxcenter]\n# this is equivalent to center=[24.,24.,24.] in Example 2\n# the following combination is also possible: e.g. center=[:bc, 12., 34.], etc.\njulia> clumps = getclumps(  info,\n                            xrange=[-10.,10.],\n                            yrange=[-10.,10.],\n                            zrange=[-2.,2.],\n                            center=[33., bc:, 10.],\n                            range_unit=:kpc )\n\n# Example 4:\n# Load less than the found 12 columns from the header of the clump files;\n# Pass an array with the variables to the keyword argument *vars*.\n# The order of the variables has to be consistent with the header in the clump files:\njulia> lumps = getclumps(info, [ :index, :lev, :parent, :ncell,\n                                 :peak_x, :peak_y, :peak_z ])\n\n# Example 5:\n# Load more than the found 12 columns from the header of the clump files.\n# E.g. the list can be extended with more names if there are more columns\n# in the data than given by the header in the files.\n# The order of the variables has to be consistent with the header in the clump files:\njulia> clumps = getclumps(info, [   :index, :lev, :parent, :ncell,\n                                    :peak_x, :peak_y, :peak_z,\n                                    Symbol(\"rho-\"), Symbol(\"rho+\"),\n                                    :rho_av, :mass_cl, :relevance,\n                                    :vx, :vy, :vz ])\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getextent-Tuple{DataSetType, Symbol}","page":"API Documentation","title":"Mera.getextent","text":"Get the extent of the dataset-domain:\n\nfunction getextent( dataobject::DataSetType;\n                     unit::Symbol=:standard,\n                     center::Array{<:Any,1}=[0., 0., 0.],\n                     center_unit::Symbol=:standard,\n                     direction::Symbol=:z)\n\nreturn (xmin, xmax), (ymin ,ymax ), (zmin ,zmax )\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\n\nPredefined/Optional Keywords:\n\ncenter: in unit given by argument center_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\ncenter_unit: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ndirection: todo\nunit: return the variables in given unit\n\nDefined Methods - function defined for different arguments\n\ngetextent( dataobject::DataSetType; # one given variable\ngetextent( dataobject::DataSetType, unit::Symbol; ...) # one given variable with its unit\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getgravity-Tuple{InfoType, Symbol}","page":"API Documentation","title":"Mera.getgravity","text":"Read the leaf-cells of the gravity-data:\n\nselect variables\nlimit to a maximum level\nlimit to a spatial range\nprint the name of each data-file before reading it\ntoggle verbose mode\ntoggle progress bar\npass a struct with arguments (myargs)\n\ngetgravity(   dataobject::InfoType;\n            lmax::Real=dataobject.levelmax,\n            vars::Array{Symbol,1}=[:all],\n            xrange::Array{<:Any,1}=[missing, missing],\n            yrange::Array{<:Any,1}=[missing, missing],\n            zrange::Array{<:Any,1}=[missing, missing],\n            center::Array{<:Any,1}=[0., 0., 0.],\n            range_unit::Symbol=:standard,\n            print_filenames::Bool=false,\n            verbose::Bool=true,\n            show_progress::Bool=true,\n            myargs::ArgumentsType=ArgumentsType()  )\n\nReturns an object of type GravDataType, containing the gravity-data table, the selected options and the simulation ScaleType and summary of the InfoType\n\nreturn GravDataType()\n\n# get an overview of the returned fields:\n# e.g.:\njulia> info = getinfo(100)\njulia> grav  = getgravity(info)\njulia> viewfields(grav)\n#or:\njulia> fieldnames(grav)\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"InfoType\", created by the function getinfo\n\nPredefined/Optional Keywords:\n\nlmax: the maximum level to be read from the data\nvar(s): the selected gravity variables in arbitrary order: :all (default), :cpu, :epot, :ax, :ay, :az\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nprint_filenames: print on screen the current processed gravity file of each CPU\nverbose: print timestamp, selected vars and ranges on screen; default: true\nshow_progress: print progress bar on screen\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of lmax, xrange, yrange, zrange, center, rangeunit, verbose, showprogress\n\nDefined Methods - function defined for different arguments\n\ngetgravity( dataobject::InfoType; ...) # no given variables -> all variables loaded\ngetgravity( dataobject::InfoType, var::Symbol; ...) # one given variable -> no array needed\ngetgravity( dataobject::InfoType, vars::Array{Symbol,1}; ...)  # several given variables -> array needed\n\nExamples\n\n# read simulation information\njulia> info = getinfo(420)\n\n# Example 1:\n# read gravity data of all variables, full-box, all levels\njulia> grav = getgravity(info)\n\n# Example 2:\n# read gravity data of all variables up to level 8\n# data range 20x20x4 kpc; ranges are given in kpc relative to the box (here: 48 kpc) center at 24 kpc\njulia> grav = getgravity(    info,\n                          lmax=8,\n                          xrange=[-10.,10.],\n                          yrange=[-10.,10.],\n                          zrange=[-2.,2.],\n                          center=[24., 24., 24.],\n                          range_unit=:kpc )\n\n# Example 3:\n# give the center of the box by simply passing: center = [:bc] or center = [:boxcenter]\n# this is equivalent to center=[24.,24.,24.] in Example 2\n# the following combination is also possible: e.g. center=[:bc, 12., 34.], etc.\njulia> grav = getgravity(    info,\n                          lmax=8,\n                          xrange=[-10.,10.],\n                          yrange=[-10.,10.],\n                          zrange=[-2.,2.],\n                          center=[33., bc:, 10.],\n                          range_unit=:kpc )\n\n# Example 4:\n# read gravity data of the variables epot and the x-acceleration, full-box, all levels\njulia> grav = getgravity( info, [:epot, :ax] ) # use array for the variables\n\n# Example 5:\n# read gravity data of the single variable epot, full-box, all levels\njulia> grav = getgravity( info, :epot ) # no array for a single variable needed\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.gethydro-Tuple{InfoType, Symbol}","page":"API Documentation","title":"Mera.gethydro","text":"Read the leaf-cells of the hydro-data:\n\nselect variables\nlimit to a maximum level\nlimit to a spatial range\nset a minimum density or sound speed\ncheck for negative values in density and thermal pressure\nprint the name of each data-file before reading it\ntoggle verbose mode\ntoggle progress bar\npass a struct with arguments (myargs)\n\ngethydro(   dataobject::InfoType;\n            lmax::Real=dataobject.levelmax,\n            vars::Array{Symbol,1}=[:all],\n            xrange::Array{<:Any,1}=[missing, missing],\n            yrange::Array{<:Any,1}=[missing, missing],\n            zrange::Array{<:Any,1}=[missing, missing],\n            center::Array{<:Any,1}=[0., 0., 0.],\n            range_unit::Symbol=:standard,\n            smallr::Real=0.,\n            smallc::Real=0.,\n            check_negvalues::Bool=false,\n            print_filenames::Bool=false,\n            verbose::Bool=true,\n            show_progress::Bool=true,\n            myargs::ArgumentsType=ArgumentsType()  )\n\nReturns an object of type HydroDataType, containing the hydro-data table, the selected options and the simulation ScaleType and summary of the InfoType\n\nreturn HydroDataType()\n\n# get an overview of the returned fields:\n# e.g.:\njulia> info = getinfo(100)\njulia> gas  = gethydro(info)\njulia> viewfields(gas)\n#or:\njulia> fieldnames(gas)\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"InfoType\", created by the function getinfo\n\nPredefined/Optional Keywords:\n\nlmax: the maximum level to be read from the data\nvar(s): the selected hydro variables in arbitrary order: :all (default), :cpu, :rho, :vx, :vy, :vz, :p, :var6, :var7...\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nsmallr: set lower limit for density; zero means inactive\nsmallc: set lower limit for thermal pressure; zero means inactive\ncheck_negvalues: check loaded data of \"rho\" and \"p\" on negative values; false by default\nprint_filenames: print on screen the current processed hydro file of each CPU\nverbose: print timestamp, selected vars and ranges on screen; default: true\nshow_progress: print progress bar on screen\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of lmax, xrange, yrange, zrange, center, rangeunit, verbose, showprogress\n\nDefined Methods - function defined for different arguments\n\ngethydro( dataobject::InfoType; ...) # no given variables -> all variables loaded\ngethydro( dataobject::InfoType, var::Symbol; ...) # one given variable -> no array needed\ngethydro( dataobject::InfoType, vars::Array{Symbol,1}; ...)  # several given variables -> array needed\n\nExamples\n\n# read simulation information\njulia> info = getinfo(420)\n\n# Example 1:\n# read hydro data of all variables, full-box, all levels\njulia> gas = gethydro(info)\n\n# Example 2:\n# read hydro data of all variables up to level 8\n# data range 20x20x4 kpc; ranges are given in kpc relative to the box (here: 48 kpc) center at 24 kpc\njulia> gas = gethydro(    info,\n                          lmax=8,\n                          xrange=[-10.,10.],\n                          yrange=[-10.,10.],\n                          zrange=[-2.,2.],\n                          center=[24., 24., 24.],\n                          range_unit=:kpc )\n\n# Example 3:\n# give the center of the box by simply passing: center = [:bc] or center = [:boxcenter]\n# this is equivalent to center=[24.,24.,24.] in Example 2\n# the following combination is also possible: e.g. center=[:bc, 12., 34.], etc.\njulia> gas = gethydro(    info,\n                          lmax=8,\n                          xrange=[-10.,10.],\n                          yrange=[-10.,10.],\n                          zrange=[-2.,2.],\n                          center=[33., bc:, 10.],\n                          range_unit=:kpc )\n\n# Example 4:\n# read hydro data of the variables density and the thermal pressure, full-box, all levels\njulia> gas = gethydro( info, [:rho, :p] ) # use array for the variables\n\n# Example 5:\n# read hydro data of the single variable density, full-box, all levels\njulia> gas = gethydro( info, :rho ) # no array for a single variable needed\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getinfo-Tuple{Real}","page":"API Documentation","title":"Mera.getinfo","text":"Get the simulation overview from RAMSES info, descriptor and output header files\n\ngetinfo(; output::Real=1, path::String=\"\", namelist::String=\"\", verbose::Bool=true)\nreturn InfoType\n\nKeyword Arguments\n\noutput: timestep number (default=1)\npath: the path to the output folder relative to the current folder or absolute path\nnamelist: give the path to a namelist file (by default the namelist.txt-file in the output-folder is read)\nverbose:: informations are printed on the screen by default\n\nExamples\n\n# read simulation information from output `1` in current folder\njulia> info = getinfo()\n\n# read simulation information from output `420` in given folder (relative path to the current working folder)\njulia> info = getinfo(output=420, path=\"../MySimFolder/\")\n\n# or simply use\njulia> info = getinfo(420, \"../MySimFolder/\")\n\n\n\n# get an overview of the returned field-names\njulia> propertynames(info)\n\n# a more detailed overview\njulia> viewfields(info)\n...\njulia> viewallfields(info)\n...\njulia> namelist(info)\n...\njulia> makefile(info)\n...\njulia> timerfile(info)\n...\njulia> patchfile(info)\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getmass-Tuple{HydroDataType}","page":"API Documentation","title":"Mera.getmass","text":"Get mass-array from the dataset (cells/particles/clumps/...):\n\ngetmass(dataobject::HydroDataType)\ngetmass(dataobject::PartDataType)\ngetmass(dataobject::ClumpDataType)\n\nreturn Array{Float64,1}\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getparticles-Tuple{InfoType, Symbol}","page":"API Documentation","title":"Mera.getparticles","text":"Read the particle-data\n\nselect variables\nlimit to a maximum range\nprint the name of each data-file before reading it\ntoggle verbose mode\ntoggle progress bar\npass a struct with arguments (myargs)\n\ngetparticles(       dataobject::InfoType;\n                    lmax::Real=dataobject.levelmax,\n                    vars::Array{Symbol,1}=[:all],\n                    stars::Bool=true,\n                    xrange::Array{<:Any,1}=[missing, missing],\n                    yrange::Array{<:Any,1}=[missing, missing],\n                    zrange::Array{<:Any,1}=[missing, missing],\n                    center::Array{<:Any,1}=[0., 0., 0.],\n                    range_unit::Symbol=:standard,\n                    presorted::Bool=true,\n                    print_filenames::Bool=false,\n                    verbose::Bool=true,\n                    show_progress::Bool=true,\n                    myargs::ArgumentsType=ArgumentsType() )\n\nReturns an object of type PartDataType, containing the particle-data table, the selected and the simulation ScaleType and summary of the InfoType\n\nreturn PartDataType()\n\n# get an overview of the returned fields:\n# e.g.:\njulia> info = getinfo(100)\njulia> particles  = getparticles(info)\njulia> viewfields(particles)\n#or:\njulia> fieldnames(particles)\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"InfoType\", created by the function getinfo\n\nPredefined/Optional Keywords:\n\nlmax: not defined\nstars: not defined\nvar(s): the selected particle variables in arbitrary order: :all (default), :cpu, :mass, :vx, :vy, :vz, :birth :metals, ...\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\npresorted: presort data according to the key vars (by default)\nprint_filenames: print on screen the current processed particle file of each CPU\nverbose: print timestamp, selected vars and ranges on screen; default: true\nshow_progress: print progress bar on screen\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of lmax not!, xrange, yrange, zrange, center, rangeunit, verbose, showprogress\n\nDefined Methods - function defined for different arguments\n\ngetparticles( dataobject::InfoType; ...) # no given variables -> all variables loaded\ngetparticles( dataobject::InfoType, var::Symbol; ...) # one given variable -> no array needed\ngetparticles( dataobject::InfoType, vars::Array{Symbol,1}; ...)  # several given variables -> array needed\n\nExamples\n\n# read simulation information\njulia> info = getinfo(420)\n\n# Example 1:\n# read particle data of all variables, full-box, all levels\njulia> particles = getparticles(info)\n\n# Example 2:\n# read particle data of all variables\n# data range 20x20x4 kpc; ranges are given in kpc relative to the box (here: 48 kpc) center at 24 kpc\njulia> particles = getparticles( info,\n                                  xrange=[-10., 10.],\n                                  yrange=[-10., 10.],\n                                  zrange=[-2., 2.],\n                                  center=[24., 24., 24.],\n                                  range_unit=:kpc )\n\n# Example 3:\n# give the center of the box by simply passing: center = [:bc] or center = [:boxcenter]\n# this is equivalent to center=[24.,24.,24.] in Example 2\n# the following combination is also possible: e.g. center=[:bc, 12., 34.], etc.\njulia> particles = getparticles(    info,\n                                    xrange=[-10.,10.],\n                                    yrange=[-10.,10.],\n                                    zrange=[-2.,2.],\n                                    center=[33., bc:, 10.],\n                                    range_unit=:kpc )\n\n# Example 4:\n# read particle data of the variables mass and the birth-time, full-box, all levels\njulia> particles = getparticles( info, [:mass, :birth] ) # use array for the variables\n\n# Example 5:\n# read particle data of the single variable mass, full-box, all levels\njulia> particles = getparticles( info, :mass ) # no array for a single variable needed\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getpositions-Tuple{DataSetType, Symbol}","page":"API Documentation","title":"Mera.getpositions","text":"Get the x,y,z positions from the dataset (cells/particles/clumps/...):\n\ngetpositions( dataobject::DataSetType, unit::Symbol;\n        direction::Symbol=:z,\n        center::Array{<:Any,1}=[0., 0., 0.],\n        center_unit::Symbol=:standard,\n        mask::MaskType=[false])\n\nreturn x, y, z\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\n\nPredefined/Optional Keywords:\n\ncenter: in unit given by argument center_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\ncenter_unit: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ndirection: todo\nunit: return the variables in given unit\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\nDefined Methods - function defined for different arguments\n\ngetpositions( dataobject::DataSetType; ...) # one given dataobject\ngetpositions( dataobject::DataSetType, unit::Symbol; ...) # one given dataobject and position unit\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.gettime-Tuple{Real, String, Symbol}","page":"API Documentation","title":"Mera.gettime","text":"Get physical time in selected units\n\nreturns Float\n\ngettime(output::Real; path::String=\"./\", unit::Symbol=:standard)\ngettime(dataobject::DataSetType; unit::Symbol=:standard)\ngettime(dataobject::InfoType, unit::Symbol=:standard)\n\nreturn time\n\nArguments Function 1\n\nRequired:\n\noutput: give the output-number of the simulation\n\nPredefined/Optional Keywords:\n\npath: the path to the output folder relative to the current folder or absolute path\nunit: return the variable in given unit\n\nArguments Function 2\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\n\nPredefined/Optional Keywords:\n\nunit: return the variable in given unit\n\nArguments Function 3\n\nRequired:\n\ndataobject: needs to be of type: \"InfoType\"\n\nPredefined/Optional Keywords:\n\nunit: return the variable in given unit\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getvar-Tuple{DataSetType, Symbol}","page":"API Documentation","title":"Mera.getvar","text":"Get variables or derived quantities from the dataset:\n\noverview the list of predefined quantities with: getinfo()\nselect variable(s) and their unit(s)\ngive the spatial center (with units) of the data within the box (relevant e.g. for radius dependency)\nrelate the coordinates to a direction (x,y,z)\npass a modified database\npass a mask to exclude elements (cells/particles/...) from the calculation\n\ngetvar(   dataobject::DataSetType, var::Symbol;\n        filtered_db::IndexedTables.AbstractIndexedTable=IndexedTables.table([1]),\n        center::Array{<:Any,1}=[0.,0.,0.],\n        center_unit::Symbol=:standard,\n        direction::Symbol=:z,\n        unit::Symbol=:standard,\n        mask::MaskType=[false],\n        ref_time::Real=dataobject.info.time)\n\nreturn Array{Float64,1}\n\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\nvar(s): select a variable from the database or a predefined quantity (see field: info, function getvar(), dataobject.data)\n\nPredefined/Optional Keywords:\n\nfiltered_db: pass a filtered or manipulated database together with the corresponding DataSetType object (required argument)\ncenter: in units given by argument center_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\ncenter_unit: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ndirection: todo\nunit(s): return the variable in given units\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\nref_time: reference zero-time for particle age calculation\n\nDefined Methods - function defined for different arguments\n\ngetvar(   dataobject::DataSetType, var::Symbol; ...) # one given variable -> returns 1d array\ngetvar(   dataobject::DataSetType, var::Symbol, unit::Symbol; ...) # one given variable with its unit -> returns 1d array\ngetvar(   dataobject::DataSetType, vars::Array{Symbol,1}; ...) # several given variables -> array needed -> returns dictionary with 1d arrays\ngetvar(   dataobject::DataSetType, vars::Array{Symbol,1}, units::Array{Symbol,1}; ...) # several given variables and their corresponding units -> both arrays -> returns dictionary with 1d arrays\ngetvar(   dataobject::DataSetType, vars::Array{Symbol,1}, unit::Symbol; ...) # several given variables that have the same unit -> array for the variables and a single Symbol for the unit -> returns dictionary with 1d arrays\n\nExamples\n\n```julia\n\nread simulation information\n\njulia> info = getinfo(420) julia> gas = gethydro(info)\n\nExample 1: get the mass for each cell of the hydro data (1dim array)\n\nmass1 = getvar(gas, :mass)  # in [code units] mass = getvar(gas, :mass) * gas.scale.Msol # scale the result from code units to solar masses mass = getvar(gas, :mass, unit=:Msol) # unit calculation, provided by a keyword argument mass = getvar(gas, :mass, :Msol) # unit calculation provided by an argument\n\nExample 2: get the mass and |v| (several variables) for each cell of the hydro data\n\nquantities = getvar(gas, [:mass, :v]) # in [code units] returns: Dict{Any,Any} with 2 entries:   :mass => [8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8…   :v => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  2.28274e-7, 2.…\n\nquantities = getvar(gas, [:mass, :v], units=[:Msol, :kms]) # unit calculation, provided by a keyword argument quantities = getvar(gas, [:mass, :v], [:Msol, :kms]) # unit calculation provided by an argument\n\nExample 3: get several variables in the same units by providing a single argument\n\nquantities = getvar(gas, [:vx, :vy, :vz], :km_s) ...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.getvelocities-Tuple{DataSetType, Symbol}","page":"API Documentation","title":"Mera.getvelocities","text":"Get the vx,vy,vz velocities from the dataset (cells/particles/clumps/...):\n\nfunction getvelocities( dataobject::DataSetType, unit::Symbol;\n    mask::MaskType=[false])\n\nreturn vx, vy, vz\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\n\nPredefined/Optional Keywords:\n\nunit: return the variables in given unit\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\nDefined Methods - function defined for different arguments\n\ngetvelocities( dataobject::DataSetType; ...) # one given dataobject\ngetvelocities( dataobject::DataSetType, unit::Symbol; ...) # one given dataobject and velocity unit\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.humanize-Tuple{Float64, ScalesType001, Int64, String}","page":"API Documentation","title":"Mera.humanize","text":"Convert a value to human-readable astrophysical units and round to ndigits\n\n(pass the value in code units and the quantity specification (length, time) )\n\nfunction humanize(value::Float64, scale::ScalesType001, ndigits::Int, quantity::String)\n\nreturn value, value_unit\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.infodata-Tuple{Int64, Symbol}","page":"API Documentation","title":"Mera.infodata","text":"Get the simulation overview from RAMSES, saved in JLD2 == function getinfo\n\ninfodata(output::Int;\n         path::String=\"./\",\n         fname = \"output_\",\n         datatype::Any=:nothing,\n         verbose::Bool=true)\n\nreturn InfoType\n\nKeyword Arguments\n\noutput: timestep number\npath: the path to the output JLD2 file relative to the current folder or absolute path\nfname: \"output\"-> filename = \"output***.jld2\" by default, can be changed to \"myname***.jld2\"\nverbose:: informations are printed on the screen by default\n\nExamples\n\n# read simulation information from output `1` in current folder\njulia> info = infodata(1) # filename=\"output_00001.jld2\"\n\n# read simulation information from output `420` in given folder (relative path to the current working folder)\njulia> info = infodata(420, path=\"../MySimFolder/\")\n\n# or simply use\njulia> info = infodata(420, \"../MySimFolder/\")\n\n\n\n# get an overview of the returned field-names\njulia> propertynames(info)\n\n# a more detailed overview\njulia> viewfields(info)\n...\njulia> viewallfields(info)\n...\njulia> namelist(info)\n...\njulia> makefile(info)\n...\njulia> timerfile(info)\n...\njulia> patchfile(info)\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.loaddata-Tuple{Int64, Symbol}","page":"API Documentation","title":"Mera.loaddata","text":"Read stored simulation data into a dataobject:\n\nsupported datatypes: HydroDataType, PartDataType, GravDataType, ClumpDataType\nselect a certain data range (data is fully loaded; the selected subregion is returned)\ntoggle verbose mode\n\nfunction loaddata(output::Int; path::String=\"./\",\n            fname = \"output_\",\n            datatype::Symbol,\n            xrange::Array{<:Any,1}=[missing, missing],\n            yrange::Array{<:Any,1}=[missing, missing],\n            zrange::Array{<:Any,1}=[missing, missing],\n            center::Array{<:Any,1}=[0., 0., 0.],\n            range_unit::Symbol=:standard,\n            verbose::Bool=true,\n            myargs::ArgumentsType=ArgumentsType() )\n\nreturn dataobject\n\n\nArguments\n\nRequired:\n\noutput: output number\ndatatype: :hydro, :particles, :gravity or :clumps\n\nPredefined/Optional Keywords:\n\npath: path to the file; default is local path.\nfname: default name of the files \"output_\" and the running number is added. Change the string to apply a user-defined name.\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of xrange, yrange, zrange, center, range_unit, verbose\nverbose: print timestamp and further information on screen; default: true\n\nDefined Methods - function defined for different arguments\n\nloaddata(output::Int64; ...) # opens first datatype in the file\nloaddata(output::Int64, datatype::Symbol; ...)\nloaddata(output::Int64, path::String; ...)\nloaddata(output::Int64, path::String, datatype::Symbol; ...)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.makefile-Tuple{InfoType}","page":"API Documentation","title":"Mera.makefile","text":"Get a printout of the makefile:\n\nmakefile(object::InfoType)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.msum-Tuple{ContainMassDataSetType, Symbol}","page":"API Documentation","title":"Mera.msum","text":"Calculate the total mass of any ContainMassDataSetType:\n\nmsum(dataobject::ContainMassDataSetType; unit::Symbol=:standard, mask::MaskType=[false])\n\nreturn Float64\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"ContainMassDataSetType\"\n\nOptional Keywords:\n\nunit: the unit of the result (can be used w/o keyword): :standard (code units)  :Msol, :Mearth, :Mjupiter, :g, :kg  (of typye Symbol) ..etc. ; see for defined mass-scales viewfields(info.scale)\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.notifyme-Tuple{String}","page":"API Documentation","title":"Mera.notifyme","text":"Get an email notification, e.g., when your calculations are finished.\n\nMandatory: \n\nthe email client \"mail\" needs to be installed\nput a file with the name \"email.txt\" in your home folder that contains your email address in the first line \n\njulia> notifyme()\n\nor:\n\njulia> notifyme(\"Calculation 1 finished!\")\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.patchfile-Tuple{InfoType}","page":"API Documentation","title":"Mera.patchfile","text":"Get a printout of the patchfile:\n\npatchfile(object::InfoType)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.prep_cylindrical_shellranges-Tuple{InfoType, Vector, Real, Real, Real, Symbol, Bool}","page":"API Documentation","title":"Mera.prep_cylindrical_shellranges","text":"cylindrical shell ranges convert given ranges + radius and print overview on screen used for shellregions...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.prep_spherical_shellranges-Tuple{InfoType, Vector, Real, Real, Symbol, Bool}","page":"API Documentation","title":"Mera.prep_spherical_shellranges","text":"spherical shell ranges convert given ranges + radius and print overview on screen used for shellregions...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.prepranges-Tuple{InfoType, Symbol, Bool, Vector, Vector, Vector, Vector}","page":"API Documentation","title":"Mera.prepranges","text":"cuboid ranges convert given ranges and print overview on screen used for gethydro, getparticles, getgravity, getclumps..., subregions...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.prepranges-Tuple{InfoType, Vector, Real, Real, Symbol, Bool}","page":"API Documentation","title":"Mera.prepranges","text":"cylinder ranges (height != 0.), sphere ranges (height==0.) convert given ranges + radius and print overview on screen used for subregions...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.printtime","page":"API Documentation","title":"Mera.printtime","text":"print a Mera timestamp on the screen if the global variable: verbose_mode == true\n\nfunction printtime(text::String=\"\", verbose::Bool=verbose_mode)\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.projection-Tuple{HydroDataType, Symbol}","page":"API Documentation","title":"Mera.projection","text":"Project variables or derived quantities from the hydro-dataset:\n\nprojection to an arbitrary large grid: give pixelnumber for each dimension = res\noverview the list of predefined quantities with: projection()\nselect variable(s) and their unit(s)\nlimit to a maximum range\nselect a coarser grid than the maximum resolution of the loaded data (maps with both resolutions are created)\ngive the spatial center (with units) of the data within the box (relevant e.g. for radius dependency)\nrelate the coordinates to a direction (x,y,z)\nselect arbitrary weighting: mass (default),  volume weighting, etc.\npass a mask to exclude elements (cells) from the calculation\ntoggle verbose mode\ntoggle progress bar\npass a struct with arguments (myargs)\n\nprojection(   dataobject::HydroDataType, vars::Array{Symbol,1};\n                        units::Array{Symbol,1}=[:standard],\n                        lmax::Real=dataobject.lmax,\n                        res::Union{Real, Missing}=missing,\n                        pxsize::Array{<:Any,1}=[missing, missing],\n                        mask::Union{Vector{Bool}, MaskType}=[false],\n                        direction::Symbol=:z,\n                        weighting::Array{<:Any,1}=[:mass, missing],\n                        mode::Symbol=:standard,\n                        xrange::Array{<:Any,1}=[missing, missing],\n                        yrange::Array{<:Any,1}=[missing, missing],\n                        zrange::Array{<:Any,1}=[missing, missing],\n                        center::Array{<:Any,1}=[0., 0., 0.],\n                        range_unit::Symbol=:standard,\n                        data_center::Array{<:Any,1}=[missing, missing, missing],\n                        data_center_unit::Symbol=:standard,\n                        verbose::Bool=true,\n                        show_progress::Bool=true,\n                        myargs::ArgumentsType=ArgumentsType() )\n\nreturn HydroMapsType\n\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"HydroDataType\"\nvar(s): select a variable from the database or a predefined quantity (see field: info, function projection(), dataobject.data)\n\nPredefined/Optional Keywords:\n\nunit(s): return the variable in given units\npxsize`: creates maps with the given pixel size in physical/code units (dominates over: res, lmax) : pxsize=[physical size (Number), physical unit (Symbol)]\nres create maps with the given pixel number for each deminsion; if res not given by user -> lmax is selected; (pixel number is related to the full boxsize)\nlmax: create maps with 2^lmax pixels for each dimension\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nweighting: select between :mass weighting (default) and any other pre-defined quantity, e.g. :volume. Pass an array with the weighting=[quantity (Symbol), physical unit (Symbol)]\ndata_center: to calculate the data relative to the datacenter; in units given by argument `datacenterunit`; by default the argument datacenter = center ;\ndata_center_unit: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ndirection: select between: :x, :y, :z\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\nmode: :standard (default) handles projections other than surface density. mode=:standard (default) -> weighted average; mode=:sum sums-up the weighted quantities in projection direction. \nshow_progress: print progress bar on screen\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of lmax, xrange, yrange, zrange, center, rangeunit, verbose, showprogress\n\nDefined Methods - function defined for different arguments\n\nprojection( dataobject::HydroDataType, var::Symbol; ...) # one given variable\nprojection( dataobject::HydroDataType, var::Symbol, unit::Symbol; ...) # one given variable with its unit\nprojection( dataobject::HydroDataType, vars::Array{Symbol,1}; ...) # several given variables -> array needed\nprojection( dataobject::HydroDataType, vars::Array{Symbol,1}, units::Array{Symbol,1}; ...) # several given variables and their corresponding units -> both arrays\nprojection( dataobject::HydroDataType, vars::Array{Symbol,1}, unit::Symbol; ...)  # several given variables that have the same unit -> array for the variables and a single Symbol for the unit\n\nExamples\n\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.projection-Tuple{PartDataType, Vector{Symbol}}","page":"API Documentation","title":"Mera.projection","text":"Project variables or derived quantities from the particle-dataset:\n\nprojection to a grid related to a given level\noverview the list of predefined quantities with: projection()\nselect variable(s) and their unit(s)\nlimit to a maximum range\ngive the spatial center (with units) of the data within the box (relevant e.g. for radius dependency)\nrelate the coordinates to a direction (x,y,z)\nselect between mass (default) and volume weighting\npass a mask to exclude elements (cells/particles/...) from the calculation\ntoggle verbose mode\ntoggle progress bar\npass a struct with arguments (myargs)\n\nprojection(   dataobject::PartDataType, vars::Array{Symbol,1};\n                units::Array{Symbol,1}=[:standard],\n                lmax::Real=dataobject.lmax,\n                res::Union{Real, Missing}=missing,\n                pxsize::Array{<:Any,1}=[missing, missing],\n                mask=[false],\n                direction::Symbol=:z,\n                weighting::Symbol=:mass,\n                xrange::Array{<:Any,1}=[missing, missing],\n                yrange::Array{<:Any,1}=[missing, missing],\n                zrange::Array{<:Any,1}=[missing, missing],\n                center::Array{<:Any,1}=[0., 0., 0.],\n                range_unit::Symbol=:standard,\n                data_center::Array{<:Any,1}=[missing, missing, missing],\n                data_center_unit::Symbol=:standard,\n                ref_time::Real=dataobject.info.time,\n                verbose::Bool=true,\n                show_progress::Bool=true,\n                myargs::ArgumentsType=ArgumentsType()  )\n\nreturn HydroMapsType\n\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"PartDataType\"\nvar(s): select a variable from the database or a predefined quantity (see field: info, function projection(), dataobject.data)\n\nPredefined/Optional Keywords:\n\nunit(s): return the variable in given units\npxsize`: creates maps with the given pixel size in physical/code units (dominates over: res, lmax) : pxsize=[physical size (Number), physical unit (Symbol)]\nres create maps with the given pixel number for each deminsion; if res not given by user -> lmax is selected; (pixel number is related to the full boxsize)\nlmax: create maps with 2^lmax pixels for each dimension\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\nweighting: select between :mass weighting (default) and :volume weighting\ndata_center: to calculate the data relative to the datacenter; in units given by argument `datacenterunit`; by default the argument datacenter = center ;\ndata_center_unit: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ndirection: select between: :x, :y, :z\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the database (rows)\nref_time: the age quantity relative to a given time (code_units); default relative to the loaded snapshot time\nshow_progress: print progress bar on screen\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of lmax, xrange, yrange, zrange, center, rangeunit, verbose, showprogress\n\nDefined Methods - function defined for different arguments\n\nprojection( dataobject::PartDataType, var::Symbol; ...) # one given variable\nprojection( dataobject::PartDataType, var::Symbol, unit::Symbol; ...) # one given variable with its unit\nprojection( dataobject::PartDataType, vars::Array{Symbol,1}; ...) # several given variables -> array needed\nprojection( dataobject::PartDataType, vars::Array{Symbol,1}, units::Array{Symbol,1}; ...) # several given variables and their corresponding units -> both arrays\nprojection( dataobject::PartDataType, vars::Array{Symbol,1}, unit::Symbol; ...)  # several given variables that have the same unit -> array for the variables and a single Symbol for the unit\n\nExamples\n\n...\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.savedata-Tuple{DataSetType, Symbol}","page":"API Documentation","title":"Mera.savedata","text":"Save loaded simulation data into a compressed/uncompressed JLD2 format:\n\nwrite new file; add datatype to existing file\nrunning number is taken from original RAMSES folders\nuse different compression methods\nadd a string to describe the simulation\ntoggle verbose mode\n\nfunction savedata( dataobject::DataSetType;\n                    path::String=\"./\",\n                    fname = \"output_\",\n                    fmode::Any=nothing,\n                    dataformat::Symbol=:JLD2,\n                    compress::Any=nothing,\n                    comments::Any=nothing,\n                    merafile_version::Float64=1.,\n                    verbose::Bool=true)\nreturn \n\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"HydroDataType\", \"PartDataType\", \"GravDataType\", \"ClumpDataType\"\nfmode: nothing is written/appended by default to avoid overwriting files by accident. Need: fmode=:write (new file or overwriting existing file); fmode=:append further datatype. (overwriting of existing datatypes is not possible)\n\nPredefined/Optional Keywords:\n\npath: path to save the file; default is local path.\nfname: default name of the files \"output_\" and the running number is added. Change the string to apply a user-defined name.\ndataformat: currently, only JLD2 can be selected.\ncompress: by default compression is activated. compress=false (deactivate). \n\nIf necessary, choose between different compression types: LZ4FrameCompressor() (default), Bzip2Compressor(), ZlibCompressor().  Load the required package to choose the compression type and to see their parameters: CodecZlib, CodecBzip2 or CodecLz4\n\ncomments: add a string that includes e.g. a description about your simulation\nmerafile_version: default: 1.; current only version\nverbose: print timestamp and further information on screen; default: true\n\nDefined Methods - function defined for different arguments\n\nsavedata( dataobject::DataSetType; ...) # note: fmode needs to be given for action!\nsavedata( dataobject::DataSetType, fmode::Symbol; ...) \nsavedata( dataobject::DataSetType, path::String; ...) \nsavedata( dataobject::DataSetType, path::String, fmode::Symbol; ...)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.shellregion","page":"API Documentation","title":"Mera.shellregion","text":"Cutout sub-regions of the data base of DataSetType\n\nselect shape of a shell-region\nselect size of a region (with or w/o intersecting cells)\ngive the spatial center (with units) of the data relative to the full box\nrelate the coordinates to a direction (x,y,z)\ninverse the selected region\npass a struct with arguments (myargs)\n\nshellregion(dataobject::DataSetType, shape::Symbol=:cylinder;\n            radius::Array{<:Real,1}=[0.,0.],  # cylinder, sphere;\n            height::Real=0.,                  # cylinder\n            direction::Symbol=:z,             # cylinder\n\n            center::Array{<:Any,1}=[0., 0., 0.],   # all\n            range_unit::Symbol=:standard,  # all\n            cell::Bool=true,                        # hydro and gravity\n            inverse::Bool=false,                    # all\n            verbose::Bool=true,             # all\n            myargs::ArgumentsType=ArgumentsType() ) # all\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\nshape: select between region shapes: :cylinder/:disc, :sphere\n\nPredefined/Optional Keywords:\n\nFor cylindrical shell-region, related to a given center:\n\nradius: the inner and outer radius of the shell in units given by argument range_unit and relative to the given center\nheight: the hight above and below a plane [-height, height] in units given by argument range_unit and relative to the given center\ndirection: todo\n\nFor spherical shell-region, related to a given center:\n\nradius: the inner and outer radius of the shell in units given by argument range_unit and relative to the given center\n\nKeywords related to all region shapes\n\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\ninverse: inverse the region selection = get the data outside of the region\ncell: take intersecting cells of the region boarder into account (true) or only the cells-centers within the selected region (false)\nverbose: print timestamp, selected vars and ranges on screen; default: true\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of radius, height, direction, center, range_unit, verbose\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.storageoverview-Tuple{InfoType, Bool}","page":"API Documentation","title":"Mera.storageoverview","text":"Print overview of the used storage per file type for a given timestep\n\nfunction storageoverview(dataobject::InfoType, verbose::Bool=true)\nfunction storageoverview(dataobject::InfoType; verbose::Bool=true)\n\nreturn dictionary in bytes\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.subregion","page":"API Documentation","title":"Mera.subregion","text":"Cutout sub-regions of the data base of DataSetType\n\nselect shape of a region\nselect size of a region (with or w/o intersecting cells)\ngive the spatial center (with units) of the data relative to the full box\nrelate the coordinates to a direction (x,y,z)\ninverse the selected region\npass a struct with arguments (myargs)\n\nsubregion(dataobject::DataSetType, shape::Symbol=:cuboid;\n            xrange::Array{<:Any,1}=[missing, missing],  # cuboid\n            yrange::Array{<:Any,1}=[missing, missing],  # cuboid\n            zrange::Array{<:Any,1}=[missing, missing],  # cuboid\n\n            radius::Real=0.,              # cylinder, sphere\n            height::Real=0.,              # cylinder\n            direction::Symbol=:z,         # cylinder\n\n            center::Array{<:Any,1}=[0.,0.,0.],     # all\n            range_unit::Symbol=:standard,           # all\n            cell::Bool=true,                        # hydro and gravity\n            inverse::Bool=false,                    # all\n            verbose::Bool=true,             # all\n            myargs::ArgumentsType=ArgumentsType() ) # all\n\nArguments\n\nRequired:\n\ndataobject: needs to be of type: \"DataSetType\"\nshape: select between region shapes: :cuboid, :cylinder/:disc, :sphere\n\nPredefined/Optional Keywords:\n\nFor cuboid region, related to a given center:\n\nxrange: the range between [xmin, xmax] in units given by argument range_unit and relative to the given center; zero length for xmin=xmax=0. is converted to maximum possible length\nyrange: the range between [ymin, ymax] in units given by argument range_unit and relative to the given center; zero length for ymin=ymax=0. is converted to maximum possible length\nzrange: the range between [zmin, zmax] in units given by argument range_unit and relative to the given center; zero length for zmin=zmax=0. is converted to maximum possible length\n\nFor cylindrical region, related to a given center:\n\nradius: the radius between [0., radius] in units given by argument range_unit and relative to the given center\nheight: the hight above and below a plane [-height, height] in units given by argument range_unit and relative to the given center\ndirection: todo\n\nFor spherical region, related to a given center:\n\nradius: the radius between [0., radius] in units given by argument range_unit and relative to the given center\n\nKeywords related to all region shapes\n\nrange_unit: the units of the given ranges: :standard (code units), :Mpc, :kpc, :pc, :mpc, :ly, :au , :km, :cm (of typye Symbol) ..etc. ; see for defined length-scales viewfields(info.scale)\ncenter: in units given by argument range_unit; by default [0., 0., 0.]; the box-center can be selected by e.g. [:bc], [:boxcenter], [value, :bc, :bc], etc..\ninverse: inverse the region selection = get the data outside of the region\ncell: take intersecting cells of the region boarder into account (true) or only the cells-centers within the selected region (false)\nverbose: print timestamp, selected vars and ranges on screen; default: true\nmyargs: pass a struct of ArgumentsType to pass several arguments at once and to overwrite default values of xrange, yrange, zrange, radius, height, direction, center, range_unit, verbose\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.timerfile-Tuple{InfoType}","page":"API Documentation","title":"Mera.timerfile","text":"Get a printout of the timerfile:\n\ntimerfile(object::InfoType)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.usedmemory","page":"API Documentation","title":"Mera.usedmemory","text":"Get the memory that is used for an object in human-readable units\n\nfunction usedmemory(object, verbose::Bool=true)\nreturn value, unit\n\n\n\n\n\n","category":"function"},{"location":"api/#Mera.viewallfields-Tuple{InfoType}","page":"API Documentation","title":"Mera.viewallfields","text":"Get a detailed overview of many fields from the MERA InfoType:\n\nviewallfields(dataobject::InfoType)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.viewdata-Tuple{Int64, String}","page":"API Documentation","title":"Mera.viewdata","text":"Get overview of stored datatypes:\n\ncompression\nversions of the used/loaded compression\nMERA/MERA-file version\ncompressed/uncompressed data size\nreturns stored conversion statistics, when available (created by convertdata-function) \n\nfunction viewdata(output::Int;\n        path::String=\"./\",\n        fname = \"output_\",\n        showfull::Bool=false,\n        verbose::Bool=true)\n\nreturn overview (dictionary)\n\nArguments\n\nRequired:\n\noutput: output number\ndatatype: :hydro, :particles, :gravity or :clumps\n\nPredefined/Optional Keywords:\n\npath: the path to the output JLD2 file relative to the current folder or absolute path\nfname: \"output\"-> filename = \"output***.jld2\" by default, can be changed to \"myname***.jld2\"\nshowfull: shows the full data tree of the datafile\nverbose:: informations are printed on the screen by default\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.viewfields-Tuple{InfoType}","page":"API Documentation","title":"Mera.viewfields","text":"Get an overview of the fields from MERA composite types:\n\nviewfields(object)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.viewmodule-Tuple{Module}","page":"API Documentation","title":"Mera.viewmodule","text":"Get a list of all exported Mera types and functions:\n\nfunction viewmodule(modulename::Module)\n\n\n\n\n\n","category":"method"},{"location":"api/#Mera.wstat-Tuple{Vector{<:Real}, Vector{<:Real}}","page":"API Documentation","title":"Mera.wstat","text":"Calculate statistical values w/o weighting of any Array:\n\nwstat(array::Array{<:Real,1}; weight::Array{<:Real,1}=[1.], mask::MaskType=[false])\n\nWStatType(mean, median, std, skewness, kurtosis, min, max)\n\nArguments\n\nRequired:\n\narray: Array needs to be of type: \"<:Real\"\n\nOptional Keywords:\n\nweight: Array needs to be of type: \"<:Real\" (can be used w/o keyword)\nmask: needs to be of type MaskType which is a supertype of Array{Bool,1} or BitArray{1} with the length of the Array\n\n\n\n\n\n","category":"method"},{"location":"00_multi_FirstSteps/#First-Steps","page":"First Steps","title":"First Steps","text":"","category":"section"},{"location":"00_multi_FirstSteps/#Simulation-Overview","page":"First Steps","title":"Simulation Overview","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"using Mera","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Get information with the function getinfo about the simulation for a selected output and assign it to an object, here: \"info\"  (composite type). The RAMSES output folders are assumed to be in the current working directory, and the user can give a relative or absolute path. The information is read from several files: info-file, header-file, from the header of the Fortran binary files of the first CPU (hydro, grav, part, clump, sink, ... if they exist), etc. Many familiar names and acronyms known from RAMSES are maintained. The function getinfo prints a small summary and the given units are printed in human-readable representation.","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"info = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\"); # output=300 in given path","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"[Mera]: 2025-06-21T20:41:44.407\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"The simulation output can be selected in several ways, which is realised by using multiple dispatch. See the different defined methods on the function getinfo:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"# info = getinfo(); # default: output=1 in current folder, \n# info = getinfo(\"../simulations/\"); # given path, default: output=1\n# info = getinfo(output=400, path=\"../simulations/\"); # pass path and output number by keywords\n\nmethods(getinfo)","category":"page"},{"location":"00_multi_FirstSteps/#4-methods-for-generic-function-bgetinfo/b-from-Mera:ulli-getinfo(;-ioutput,-path,-namelist,-verbose/i)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/read*data/RAMSES/getinfo.jl#L58\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/read*data/RAMSES/getinfo.jl:58/a/li-li-getinfo(path::bString/b;-ioutput,-namelist,-verbose/i)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/read*data/RAMSES/getinfo.jl#L54\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/read*data/RAMSES/getinfo.jl:54/a/li-li-getinfo(output::bReal/b,-path::bString/b;-inamelist,-verbose/i)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/read*data/RAMSES/getinfo.jl#L50\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/read*data/RAMSES/getinfo.jl:50/a/li-li-getinfo(output::bReal/b;-ipath,-namelist,-verbose/i)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/read*data/RAMSES/getinfo.jl#L46\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/read*data/RAMSES/getinfo.jl:46/a/li-/ul","page":"First Steps","title":"4 methods for generic function <b>getinfo</b> from Mera:<ul><li> getinfo(; <i>output, path, namelist, verbose</i>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/readdata/RAMSES/getinfo.jl#L58\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/readdata/RAMSES/getinfo.jl:58</a></li> <li> getinfo(path::<b>String</b>; <i>output, namelist, verbose</i>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/readdata/RAMSES/getinfo.jl#L54\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/readdata/RAMSES/getinfo.jl:54</a></li> <li> getinfo(output::<b>Real</b>, path::<b>String</b>; <i>namelist, verbose</i>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/readdata/RAMSES/getinfo.jl#L50\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/readdata/RAMSES/getinfo.jl:50</a></li> <li> getinfo(output::<b>Real</b>; <i>path, namelist, verbose</i>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/readdata/RAMSES/getinfo.jl#L46\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/readdata/RAMSES/getinfo.jl:46</a></li> </ul>","text":"","category":"section"},{"location":"00_multi_FirstSteps/#Fields","page":"First Steps","title":"Fields","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"The created object info is of type InfoType (composite type):","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"typeof(info)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"InfoType","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"The previously printed information and even more simulation properties are assigned to the object and can be accessed from fields and sub-fields. Get an overview with:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"viewfields(info);","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"output\t= 300\npath\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\nfnames ==> subfields: (:output, :info, :amr, :hydro, :hydro_descriptor, :gravity, :particles, :part_descriptor, :rt, :rt_descriptor, :rt_descriptor_v0, :clumps, :timer, :header, :namelist, :compilation, :makefile, :patchfile)\n\nsimcode\t= RAMSES\nmtime\t= 2023-04-09T05:34:09\nctime\t= 2025-06-21T18:31:24.020\nncpu\t= 640\nndim\t= 3\nlevelmin\t= 6\nlevelmax\t= 10\nboxlen\t= 48.0\ntime\t= 29.9031937665063\naexp\t= 1.0\nH0\t= 1.0\nomega_m\t= 1.0\nomega_l\t= 0.0\nomega_k\t= 0.0\nomega_b\t= 0.045\nunit_l\t= 3.085677581282e21\nunit_d\t= 6.76838218451376e-23\nunit_m\t= 1.9885499720830952e42\nunit_v\t= 6.557528732282063e6\nunit_t\t= 4.70554946422349e14\ngamma\t= 1.6667\nhydro\t= true\nnvarh\t= 7\nnvarp\t= 7\nnvarrt\t= 0\nvariable_list\t= [:rho, :vx, :vy, :vz, :p, :var6, :var7]\ngravity_variable_list\t= [:epot, :ax, :ay, :az]\nparticles_variable_list\t= [:vx, :vy, :vz, :mass, :family, :tag, :birth]\nrt_variable_list\t= Symbol[]\nclumps_variable_list\t= Symbol[]\nsinks_variable_list\t= Symbol[]\ndescriptor ==> subfields: (:hversion, :hydro, :htypes, :usehydro, :hydrofile, :pversion, :particles, :ptypes, :useparticles, :particlesfile, :gravity, :usegravity, :gravityfile, :rtversion, :rt, :rtPhotonGroups, :usert, :rtfile, :clumps, :useclumps, :clumpsfile, :sinks, :usesinks, :sinksfile)\n\namr\t= true\ngravity\t= true\nparticles\t= true\nrt\t= false\nclumps\t= false\nsinks\t= false\nnamelist\t= true\nnamelist_content ==> dictionary: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n\nheaderfile\t= true\nmakefile\t= true\nfiles_content ==> subfields: (:makefile, :timerfile, :patchfile)\n\ntimerfile\t= true\ncompilationfile\t= false\npatchfile\t= true\nNarraysize\t= 0\n\nscale ==> subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :μm3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3)\n\ngrid_info ==> subfields: (:ngridmax, :nstep_coarse, :nx, :ny, :nz, :nlevelmax, :nboundary, :ngrid_current, :bound_key, :cpu_read)\n\npart_info ==> subfields: (:eta_sn, :age_sn, :f_w, :Npart, :Ndm, :Nstars, :Nsinks, :Ncloud, :Ndebris, :Nother, :Nundefined, :other_tracer1, :debris_tracer, :cloud_tracer, :star_tracer, :other_tracer2, :gas_tracer)\n\ncompilation ==> subfields: (:compile_date, :patch_dir, :remote_repo, :local_branch, :last_commit)\n\nconstants ==> subfields: (:Au, :Mpc, :kpc, :pc, :mpc, :ly, :Msol, :Msun, :Mearth, :Mjupiter, :Rsol, :Rsun, :me, :mp, :mn, :mH, :amu, :NA, :c, :G, :kB, :Gyr, :Myr, :yr)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Get a simple list of the fields of any object:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"propertynames(info)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"(:output, :path, :fnames, :simcode, :mtime, :ctime, :ncpu, :ndim, :levelmin, :levelmax, :boxlen, :time, :aexp, :H0, :omega_m, :omega_l, :omega_k, :omega_b, :unit_l, :unit_d, :unit_m, :unit_v, :unit_t, :gamma, :hydro, :nvarh, :nvarp, :nvarrt, :variable_list, :gravity_variable_list, :particles_variable_list, :rt_variable_list, :clumps_variable_list, :sinks_variable_list, :descriptor, :amr, :gravity, :particles, :rt, :clumps, :sinks, :namelist, :namelist_content, :headerfile, :makefile, :files_content, :timerfile, :compilationfile, :patchfile, :Narraysize, :scale, :grid_info, :part_info, :compilation, :constants)","category":"page"},{"location":"00_multi_FirstSteps/#Physical-Units","page":"First Steps","title":"Physical Units","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"All calculations in MERA are processed in the code units of the loaded simulation. The RAMSES scaling factors from code- to cgs-units are given for the length, density, mass, velocity and time, assigned to the fields: unitl, unitd, unitm, unitv, unit_t","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"To make life easier, we provide more predefined scaling factors, assigned to the sub-field scale:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"viewfields(info.scale) ","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMpc3\t= 1.0000000000019446e-9\nkpc3\t= 1.0000000000019444\npc3\t= 1.0000000000019448e9\nmpc3\t= 1.0000000000019446e18\nly3\t= 3.469585750743794e10\nAu3\t= 8.775571306099254e69\nkm3\t= 2.9379989454983075e49\nm3\t= 2.9379989454983063e58\ncm3\t= 2.9379989454983065e64\nmm3\t= 2.937998945498306e67\nμm3\t= 2.937998945498306e76\nMsol_pc3\t= 0.9997234790001649\nMsun_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\nMsun_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMsun\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nK_mu\t= 517028.3199143136\nT\t= 680300.4209398864\nK\t= 680300.4209398864\nBa\t= 2.910484414358466e-9\ng_cm_s2\t= 2.910484414358466e-9\np_kB\t= 2.1080995598777838e7\nK_cm3\t= 2.1080995598777838e7","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"list_field = propertynames( info.scale )","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"(:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :μm3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"The underline in the unit representation corresponds to the fraction line, e.g.:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"field name corresponding unit\nMsun_pc3 Msun * pc^-3\ng_cm3 g * cm^-3\nMsun_pc2 Msun * pc^-2\ng_cm2 g * cm^-2\nkm_s km * s^-1\nm_s m * s^-1\ncm_s cm * s^-1\ng_cms2 g / (cm * s^2)\nnH cm^-3\nT_mu T / μ\nT_mu K / μ\np_kB p / kB\nBa = Barye (pressure) [cm^-1 * g * s^-2]","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Access a scaling factor to use it in your calculations or plots by e.g.:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"info.scale.km_s  ","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"65.57528732282063","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"To reduce the hierarchy of sub-fields, assign a new object:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"scale = info.scale;","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"The scaling factor can now be accessed by:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"scale.km_s","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"65.57528732282063","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Furthermore, the scales can be assigned by applying the function createscales on an object of type InfoType (here: info):","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"typeof(info)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"InfoType","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"my_scales = createscales(info)\nmy_scales.km_s","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"65.57528732282063","category":"page"},{"location":"00_multi_FirstSteps/#Physical-Constants","page":"First Steps","title":"Physical Constants","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Some useful constants are assigned to the InfoType object:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"viewfields(info.constants)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"[Mera]: Constants given in cgs units\n=========================================\nAu\t= 0.01495978707\nMpc\t= 3.08567758128e24\nkpc\t= 3.08567758128e21\npc\t= 3.08567758128e18\nmpc\t= 3.08567758128e15\nly\t= 9.4607304725808e17\nMsol\t= 1.9891e33\nMsun\t= 1.9891e33\nMearth\t= 5.9722e27\nMjupiter\t= 1.89813e30\nRsol\t= 6.96e10\nRsun\t= 6.96e10\nme\t= 9.1093897e-28\nmp\t= 1.6726231e-24\nmn\t= 1.6749286e-24\nmH\t= 1.66e-24\namu\t= 1.6605402e-24\nNA\t= 6.0221367e23\nc\t= 2.99792458e10\nG\t= 6.67259e-8\nkB\t= 1.38062e-16\nGyr\t= 3.15576e16\nMyr\t= 3.15576e13\nyr\t= 3.15576e7","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Reduce the hierarchy of sub-fields:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"con = info.constants;","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"viewfields(con)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"[Mera]: Constants given in cgs units\n=========================================\nAu\t= 0.01495978707\nMpc\t= 3.08567758128e24\nkpc\t= 3.08567758128e21\npc\t= 3.08567758128e18\nmpc\t= 3.08567758128e15\nly\t= 9.4607304725808e17\nMsol\t= 1.9891e33\nMsun\t= 1.9891e33\nMearth\t= 5.9722e27\nMjupiter\t= 1.89813e30\nRsol\t= 6.96e10\nRsun\t= 6.96e10\nme\t= 9.1093897e-28\nmp\t= 1.6726231e-24\nmn\t= 1.6749286e-24\nmH\t= 1.66e-24\namu\t= 1.6605402e-24\nNA\t= 6.0221367e23\nc\t= 2.99792458e10\nG\t= 6.67259e-8\nkB\t= 1.38062e-16\nGyr\t= 3.15576e16\nMyr\t= 3.15576e13\nyr\t= 3.15576e7","category":"page"},{"location":"00_multi_FirstSteps/#InfoType-Fields-Overview","page":"First Steps","title":"InfoType Fields Overview","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"All fields and sub-fields that are assigned to the InfoType or from other objects can be viewed by the function viewfields, namelist, makefile, timerfile, patchfile. See the methods list:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"methods(viewfields)","category":"page"},{"location":"00_multi_FirstSteps/#11-methods-for-generic-function-bviewfields/b-from-Mera:ulli-viewfields(object::bPartInfoType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L90\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:90/a/li-li-viewfields(object::bGridInfoType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L107\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:107/a/li-li-viewfields(object::bPhysicalUnitsType001/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L198\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:198/a/li-li-viewfields(object::bDescriptorType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L167\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:167/a/li-li-viewfields(object::bFileNamesType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L151\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:151/a/li-li-viewfields(object::bCompilationInfoType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L133\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:133/a/li-li-viewfields(object::bArgumentsType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L54\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:54/a/li-li-viewfields(object::bMera.FilesContentType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L183\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:183/a/li-li-viewfields(object::bInfoType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L10\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:10/a/li-li-viewfields(object::bScalesType001/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L74\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:74/a/li-li-viewfields(object::bDataSetType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L215\"-target\"_blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:215/a/li-/ul","page":"First Steps","title":"11 methods for generic function <b>viewfields</b> from \u001bMera:<ul><li> viewfields(object::<b>PartInfoType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L90\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:90</a></li> <li> viewfields(object::<b>GridInfoType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L107\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:107</a></li> <li> viewfields(object::<b>PhysicalUnitsType001</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L198\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:198</a></li> <li> viewfields(object::<b>DescriptorType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L167\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:167</a></li> <li> viewfields(object::<b>FileNamesType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L151\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:151</a></li> <li> viewfields(object::<b>CompilationInfoType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L133\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:133</a></li> <li> viewfields(object::<b>ArgumentsType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L54\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:54</a></li> <li> viewfields(object::<b>Mera.FilesContentType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L183\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:183</a></li> <li> viewfields(object::<b>InfoType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L10\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:10</a></li> <li> viewfields(object::<b>ScalesType001</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L74\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:74</a></li> <li> viewfields(object::<b>DataSetType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L215\" target=\"_blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:215</a></li> </ul>","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"methods(namelist)","category":"page"},{"location":"00_multi_FirstSteps/#2-methods-for-generic-function-bnamelist/b-from-Mera:ulli-namelist(object::bDict{Any,-Any}/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L262\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:262/a/li-li-namelist(object::bInfoType/b)-in-Mera-at-a-href\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L244\"-target\"*blank\"/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:244/a/li-/ul","page":"First Steps","title":"2 methods for generic function <b>namelist</b> from \u001bMera:<ul><li> namelist(object::<b>Dict{Any, Any}</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L262\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:262</a></li> <li> namelist(object::<b>InfoType</b>) in Mera at <a href=\"https://github.com/ManuelBehrendt/Mera.jl/tree/ffdf2d66dd61df9880adc8447db8380750e93e54//src/functions/viewfields.jl#L244\" target=\"blank\">/Users/mabe/Documents/codes/github/Mera.jl/src/functions/viewfields.jl:244</a></li> </ul>","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Get a detailed overview of all the fields from MERA composite types:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"viewallfields(info)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"output\t= 300\npath\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\nfnames ==> subfields: (:output, :info, :amr, :hydro, :hydro_descriptor, :gravity, :particles, :part_descriptor, :rt, :rt_descriptor, :rt_descriptor_v0, :clumps, :timer, :header, :namelist, :compilation, :makefile, :patchfile)\n\nsimcode\t= RAMSES\nmtime\t= 2023-04-09T05:34:09\nctime\t= 2025-06-21T18:31:24.020\nncpu\t= 640\nndim\t= 3\nlevelmin\t= 6\nlevelmax\t= 10\nboxlen\t= 48.0\ntime\t= 29.9031937665063\naexp\t= 1.0\nH0\t= 1.0\nomega_m\t= 1.0\nomega_l\t= 0.0\nomega_k\t= 0.0\nomega_b\t= 0.045\nunit_l\t= 3.085677581282e21\nunit_d\t= 6.76838218451376e-23\nunit_m\t= 1.9885499720830952e42\nunit_v\t= 6.557528732282063e6\nunit_t\t= 4.70554946422349e14\ngamma\t= 1.6667\nhydro\t= true\nnvarh\t= 7\nnvarp\t= 7\nnvarrt\t= 0\nvariable_list\t= [:rho, :vx, :vy, :vz, :p, :var6, :var7]\ngravity_variable_list\t= [:epot, :ax, :ay, :az]\nparticles_variable_list\t= [:vx, :vy, :vz, :mass, :family, :tag, :birth]\nrt_variable_list\t= Symbol[]\nclumps_variable_list\t= Symbol[]\nsinks_variable_list\t= Symbol[]\ndescriptor ==> subfields: (:hversion, :hydro, :htypes, :usehydro, :hydrofile, :pversion, :particles, :ptypes, :useparticles, :particlesfile, :gravity, :usegravity, :gravityfile, :rtversion, :rt, :rtPhotonGroups, :usert, :rtfile, :clumps, :useclumps, :clumpsfile, :sinks, :usesinks, :sinksfile)\n\namr\t= true\ngravity\t= true\nparticles\t= true\nrt\t= false\nclumps\t= false\nsinks\t= false\nnamelist\t= true\nnamelist_content ==> dictionary: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n\nheaderfile\t= true\nmakefile\t= true\nfiles_content ==> subfields: (:makefile, :timerfile, :patchfile)\n\ntimerfile\t= true\ncompilationfile\t= false\npatchfile\t= true\nNarraysize\t= 0\n\nscale ==> subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :μm3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3)\n\ngrid_info ==> subfields: (:ngridmax, :nstep_coarse, :nx, :ny, :nz, :nlevelmax, :nboundary, :ngrid_current, :bound_key, :cpu_read)\n\npart_info ==> subfields: (:eta_sn, :age_sn, :f_w, :Npart, :Ndm, :Nstars, :Nsinks, :Ncloud, :Ndebris, :Nother, :Nundefined, :other_tracer1, :debris_tracer, :cloud_tracer, :star_tracer, :other_tracer2, :gas_tracer)\n\ncompilation ==> subfields: (:compile_date, :patch_dir, :remote_repo, :local_branch, :last_commit)\n\nconstants ==> subfields: (:Au, :Mpc, :kpc, :pc, :mpc, :ly, :Msol, :Msun, :Mearth, :Mjupiter, :Rsol, :Rsun, :me, :mp, :mn, :mH, :amu, :NA, :c, :G, :kB, :Gyr, :Myr, :yr)\n\n\n\n[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMpc3\t= 1.0000000000019446e-9\nkpc3\t= 1.0000000000019444\npc3\t= 1.0000000000019448e9\nmpc3\t= 1.0000000000019446e18\nly3\t= 3.469585750743794e10\nAu3\t= 8.775571306099254e69\nkm3\t= 2.9379989454983075e49\nm3\t= 2.9379989454983063e58\ncm3\t= 2.9379989454983065e64\nmm3\t= 2.937998945498306e67\nμm3\t= 2.937998945498306e76\nMsol_pc3\t= 0.9997234790001649\nMsun_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\nMsun_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMsun\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nK_mu\t= 517028.3199143136\nT\t= 680300.4209398864\nK\t= 680300.4209398864\nBa\t= 2.910484414358466e-9\ng_cm_s2\t= 2.910484414358466e-9\np_kB\t= 2.1080995598777838e7\nK_cm3\t= 2.1080995598777838e7\n\n\n[Mera]: Constants given in cgs units\n=========================================\nAu\t= 0.01495978707\nMpc\t= 3.08567758128e24\nkpc\t= 3.08567758128e21\npc\t= 3.08567758128e18\nmpc\t= 3.08567758128e15\nly\t= 9.4607304725808e17\nMsol\t= 1.9891e33\nMsun\t= 1.9891e33\nMearth\t= 5.9722e27\nMjupiter\t= 1.89813e30\nRsol\t= 6.96e10\nRsun\t= 6.96e10\nme\t= 9.1093897e-28\nmp\t= 1.6726231e-24\nmn\t= 1.6749286e-24\nmH\t= 1.66e-24\namu\t= 1.6605402e-24\nNA\t= 6.0221367e23\nc\t= 2.99792458e10\nG\t= 6.67259e-8\nkB\t= 1.38062e-16\nGyr\t= 3.15576e16\nMyr\t= 3.15576e13\nyr\t= 3.15576e7\n\n\n[Mera]: Paths and file-names\n=================================\noutput\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300\ninfo\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/info_00300.txt\namr\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/amr_00300.\nhydro\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/hydro_00300.\nhydro_descriptor\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/hydro_file_descriptor.txt\ngravity\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/grav_00300.\nparticles\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/part_00300.\npart_descriptor\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/part_file_descriptor.txt\nrt\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/rt_00300.\nrt_descriptor\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/rt_file_descriptor.txt\nrt_descriptor_v0\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/info_rt_00300.txt\nclumps\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/clump_00300.\ntimer\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/timer_00300.txt\nheader\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/header_00300.txt\nnamelist\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/namelist.txt\ncompilation\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/compilation.txt\nmakefile\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/makefile.txt\npatchfile\t= /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10/output_00300/patches.txt\n\n\n[Mera]: Descriptor overview\n=================================\nhversion\t= 1\nhydro\t= [:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01]\nhtypes\t= [\"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"d\"]\nusehydro\t= false\nhydrofile\t= true\npversion\t= 1\nparticles\t= [:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time]\nptypes\t= [\"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"i\", \"i\", \"b\", \"b\", \"d\"]\nuseparticles\t= false\nparticlesfile\t= true\ngravity\t= [:epot, :ax, :ay, :az]\nusegravity\t= false\ngravityfile\t= false\nrtversion\t= 0\nrt\t= Dict{Any, Any}()\nrtPhotonGroups\t= Dict{Any, Any}()\nusert\t= false\nrtfile\t= false\nclumps\t= Symbol[]\nuseclumps\t= false\nclumpsfile\t= false\nsinks\t= Symbol[]\nusesinks\t= false\nsinksfile\t= false\n\n\n[Mera]: Namelist file content\n=================================\n&COOLING_PARAMS\ncooling  \t=.true. \nz_ave  \t=1.\n\n&SF_PARAMS\nm_star   \t= 1   \nn_star   \t= 10. !H/cc\nT2_star  \t= 0 !T/mu K\neps_star   \t= 0.01 !1%\n\n&AMR_PARAMS\nlevelmax  \t=10\nnpartmax  \t= 200000\nngridmax  \t= 1000000 !1000000  \nboxlen  \t=48.0\t!kpc\nlevelmin  \t=6\nnexpand  \t=1                       !number of mesh expansions (mesh smoothing)\n\n&BOUNDARY_PARAMS\njbound_min  \t= 0, 0,-1,+1,-1,-1\nkbound_max  \t= 0, 0, 0, 0,-1,+1\nno_inflow  \t=.true.\nbound_type  \t= 2, 2, 2, 2, 2, 2    !2\nnboundary   \t= 6\nibound_max  \t=-1,+1,+1,+1,+1,+1\nibound_min  \t=-1,+1,-1,-1,-1,-1\njbound_max  \t= 0, 0,-1,+1,+1,+1\nkbound_min  \t= 0, 0, 0, 0,-1,+1\n\n&OUTPUT_PARAMS\ntend  \t=400                                \ndelta_tout  \t=0.1                  !Time increment between outputs\n\n&POISSON_PARAMS\ngravity_type  \t=-3                 !for 0 ->self gravitation ;  3 ->ext pot;  -3 ->ext. pot. + sg\n\n&RUN_PARAMS\npic  \t=.true.\nnsubcycle  \t=20*2\nncontrol  \t=100                      !frequency of screen output\npoisson  \t=.true.\nverbose  \t=.false.\nnremap  \t=10 !10\nnrestart  \t=0\nhydro  \t=.true.\n\n&FEEDBACK_PARAMS\neta_sn   \t=0.2\ndelayed_cooling  \t=.true.\nt_diss   \t= 1.5 \n\n&HYDRO_PARAMS\nslope_type  \t=1\nsmallr  \t=1e-11 \ngamma  \t=1.6667\ncourant_factor  \t=0.6\n!smallc  \t=\nriemann  \t='hllc'\n\n&INIT_PARAMS\nnregion  \t=2\n\n&REFINE_PARAMS\n\n\n[Mera]: Grid overview \n============================\nngridmax\t= 1000000\nnstep_coarse\t= 6544\nnx\t= 3\nny\t= 3\nnz\t= 3\nnlevelmax\t= 10\nnboundary\t= 6\nngrid_current\t= 21305\nbound_key ==> length(641)\ncpu_read ==> length(641)\n\n\n[Mera]: Particle overview\n===============================\neta_sn\t= 0.0\nage_sn\t= 0.6706464407596582\nf_w\t= 0.0\nNpart\t= 0\nNdm\t= 0\nNstars\t= 544515\nNsinks\t= 0\nNcloud\t= 0\nNdebris\t= 0\nNother\t= 0\nNundefined\t= 0\nother_tracer1\t= 0\ndebris_tracer\t= 0\ncloud_tracer\t= 0\nstar_tracer\t= 0\nother_tracer2\t= 0\ngas_tracer\t= 0\n\n\n[Mera]: Compilation file overview\n========================================\ncompile_date\t= \npatch_dir\t= \nremote_repo\t= \nlocal_branch\t= \nlast_commit\t= \n\n\n[Mera]: Makefile content\n=================================\n!content deleted on purpose\n\n\n[Mera]: Timer-file content\n=================================\n --------------------------------------------------------------------\n\n     minimum       average       maximum  standard dev        std/av       %   rmn   rmx  TIMER\n     426.559       428.960       431.540         1.216         0.003     0.5   562 606    coarse levels           \n    2086.863      2285.294      2620.028       109.814         0.048     2.9   639   1    refine                  \n     518.746       519.356       520.299         0.572         0.001     0.7   608  21    load balance            \n     173.017       565.169      1799.729       385.862         0.683     0.7   602   1    particles               \n    5897.562      5897.616      5897.791         0.018         0.000     7.5   244   1    io                      \n    5176.808      9619.415     26606.857      5416.924         0.563    12.3   568   1    feedback                \n   25022.898     25410.890     25585.446       143.363         0.006    32.4     1 602    poisson                 \n    1131.397      2241.256      2547.320       322.916         0.144     2.9     1 345    rho                     \n     521.635       678.056      1076.044       151.775         0.224     0.9   601   1    courant                 \n      82.818       115.742       135.415        10.926         0.094     0.1   398 125    hydro - set unew        \n    7009.921      9876.180     12208.171      1176.765         0.119    12.6   481 343    hydro - godunov         \n     948.967     16679.099     23569.950      4760.658         0.285    21.3   640 340    hydro - rev ghostzones  \n     189.513       208.576       229.883         7.902         0.038     0.3   398 581    hydro - set uold        \n    1757.246      1795.542      1860.788        11.757         0.007     2.3   524 180    cooling                 \n      84.519       300.570       375.587        67.032         0.223     0.4     1 593    hydro - ghostzones      \n     933.143      1662.855      1788.316       119.084         0.072     2.1     1 639    flag                    \n   78327.986     100.0    TOTAL","category":"page"},{"location":"00_multi_FirstSteps/#Disc-Space","page":"First Steps","title":"Disc Space","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Gives an overview of the used disc space for the different data types of the selected output:","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"storageoverview(info)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Overview of the used disc space for output: [300]\n------------------------------------------------------\nFolder:         5.68 GB \t<2.26 MB>/file\nAMR-Files:      1.1 GB \t<1.75 MB>/file\nHydro-Files:    2.87 GB \t<4.58 MB>/file\nGravity-Files:  1.68 GB \t<2.69 MB>/file\nParticle-Files: 38.56 MB \t<61.6 KB>/file\n\n\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n\n\n\n\n\nDict{Any, Any} with 8 entries:\n  :folder   => 6101111412\n  :sink     => 0.0\n  :particle => 40430034\n  :hydro    => 3079240490\n  :gravity  => 1802094080\n  :amr      => 1177085816\n  :clump    => 0.0\n  :rt       => 0.0","category":"page"},{"location":"00_multi_FirstSteps/#Simulation-outputs","page":"First Steps","title":"Simulation outputs","text":"","category":"section"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Get an overview of existing output folders of a simulation","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"co = checkoutputs(\"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\")","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"Outputs - existing: 1 betw. 300:300 - missing: 1\n\n\n\n\n\n\nMera.CheckOutputNumberType([300], [301], \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\")","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"# It returns all output numbers of existing or missing (e.g. empty) folders:\npropertynames(co)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"(:outputs, :miss, :path)","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"co.outputs","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"1-element Vector{Int64}:\n 300","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"co.miss","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"1-element Vector{Int64}:\n 301","category":"page"},{"location":"00_multi_FirstSteps/","page":"First Steps","title":"First Steps","text":"","category":"page"},{"location":"01_hydro_First_Inspection/#1.-Hydro:-First-Data-Inspection","page":"Hydro","title":"1. Hydro: First Data Inspection","text":"","category":"section"},{"location":"01_hydro_First_Inspection/#Simulation-Overview","page":"Hydro","title":"Simulation Overview","text":"","category":"section"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"using Mera\ninfo = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T20:47:48.296\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"A short overview of the loaded hydro properties is printed:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"existence of hydro files\nthe number and predefined variables\nthe variable names from the descriptor file\nadiabatic index","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The functions in Mera \"know\" the predefined hydro variable names: :rho, :vx, :vy, :vz, :p, :var6, :var7,.... In a future version the variable names from the hydro descriptor can be used by setting the field info.descriptor.usehydro = true . Furthermore, the user has the opportunity to overwrite the variable names in the discriptor list by changing the entries in the array:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"info.descriptor.hydro","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"7-element Vector{Symbol}:\n :density\n :velocity_x\n :velocity_y\n :velocity_z\n :pressure\n :scalar_00\n :scalar_01","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"For example:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"info.descriptor.hydro[2] = :vel_x;","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"info.descriptor.hydro","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"7-element Vector{Symbol}:\n :density\n :vel_x\n :velocity_y\n :velocity_z\n :pressure\n :scalar_00\n :scalar_01","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Get an overview of the loaded descriptor properties:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"viewfields(info.descriptor)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"[Mera]: Descriptor overview\n=================================\nhversion\t= 1\nhydro\t= [:density, :vel_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01]\nhtypes\t= [\"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"d\"]\nusehydro\t= false\nhydrofile\t= true\npversion\t= 1\nparticles\t= [:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time]\nptypes\t= [\"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"d\", \"i\", \"i\", \"b\", \"b\", \"d\"]\nuseparticles\t= false\nparticlesfile\t= true\ngravity\t= [:epot, :ax, :ay, :az]\nusegravity\t= false\ngravityfile\t= false\nrtversion\t= 0\nrt\t= Dict{Any, Any}()\nrtPhotonGroups\t= Dict{Any, Any}()\nusert\t= false\nrtfile\t= false\nclumps\t= Symbol[]\nuseclumps\t= false\nclumpsfile\t= false\nsinks\t= Symbol[]\nusesinks\t= false\nsinksfile\t= false","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Get a simple list of the fields:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"propertynames(info.descriptor)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"(:hversion, :hydro, :htypes, :usehydro, :hydrofile, :pversion, :particles, :ptypes, :useparticles, :particlesfile, :gravity, :usegravity, :gravityfile, :rtversion, :rt, :rtPhotonGroups, :usert, :rtfile, :clumps, :useclumps, :clumpsfile, :sinks, :usesinks, :sinksfile)","category":"page"},{"location":"01_hydro_First_Inspection/#Load-AMR/Hydro-Data","page":"Hydro","title":"Load AMR/Hydro Data","text":"","category":"section"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"info = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\", verbose=false); # used to overwrite the previous changes","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Read the AMR and the Hydro data from all files of the full box with all existing variables and cell positions (only leaf cells of the AMR grid).","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info);","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T20:47:55.574\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\nProgress: 100%|█████████████████████████████████████████| Time: 0:01:19\n\n\nMemory used for data table :2.321086215786636 GB\n-------------------------------------------------------","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The memory consumption of the data table is printed at the end. We provide a function which gives the possibility to print the used memory of any object: ","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"usedmemory(gas);","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Memory used: 2.321 GB","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The assigned data object is now of type HydroDataType:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"typeof(gas)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"HydroDataType","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"It is a sub-type of ContainMassDataSetType","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"supertype( ContainMassDataSetType )","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"DataSetType","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"ContainMassDataSetType is a sub-type of to the super-type DataSetType","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"supertype( HydroDataType )","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"HydroPartType","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The data is stored in a IndexedTables table and the user selected hydro variables and parameters are assigned to fields:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"viewfields(gas)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"data ==> JuliaDB table: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)\n\ninfo ==> subfields: (:output, :path, :fnames, :simcode, :mtime, :ctime, :ncpu, :ndim, :levelmin, :levelmax, :boxlen, :time, :aexp, :H0, :omega_m, :omega_l, :omega_k, :omega_b, :unit_l, :unit_d, :unit_m, :unit_v, :unit_t, :gamma, :hydro, :nvarh, :nvarp, :nvarrt, :variable_list, :gravity_variable_list, :particles_variable_list, :rt_variable_list, :clumps_variable_list, :sinks_variable_list, :descriptor, :amr, :gravity, :particles, :rt, :clumps, :sinks, :namelist, :namelist_content, :headerfile, :makefile, :files_content, :timerfile, :compilationfile, :patchfile, :Narraysize, :scale, :grid_info, :part_info, :compilation, :constants)\n\nlmin\t= 6\nlmax\t= 10\nboxlen\t= 48.0\nranges\t= [0.0, 1.0, 0.0, 1.0, 0.0, 1.0]\nselected_hydrovars\t= [1, 2, 3, 4, 5, 6, 7]\nsmallr\t= 0.0\nsmallc\t= 0.0\n\nscale ==> subfields: (:Mpc, :kpc, :pc, :mpc, :ly, :Au, :km, :m, :cm, :mm, :μm, :Mpc3, :kpc3, :pc3, :mpc3, :ly3, :Au3, :km3, :m3, :cm3, :mm3, :μm3, :Msol_pc3, :Msun_pc3, :g_cm3, :Msol_pc2, :Msun_pc2, :g_cm2, :Gyr, :Myr, :yr, :s, :ms, :Msol, :Msun, :Mearth, :Mjupiter, :g, :km_s, :m_s, :cm_s, :nH, :erg, :g_cms2, :T_mu, :K_mu, :T, :K, :Ba, :g_cm_s2, :p_kB, :K_cm3)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"For convenience, all the fields from the info-object above (InfoType) are now also accessible from the object with \"gas.info\" and the scaling relations from code to cgs units in \"gas.scale\". The minimum and maximum level of the loaded data, the box length, the selected ranges and number of the hydro variables are retained.","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"A minimum density or sound speed can be set for the loaded data (e.g. to overwrite negative densities) and is then represented by the fields smallr and smallc of the object gas (here). An example:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, smallr=1e-11);","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T20:49:53.650\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:01:13\n\n\nMemory used for data table :2.321086215786636 GB\n-------------------------------------------------------","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Print the fields of an object (composite type) in a simple list:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"propertynames(gas)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"(:data, :info, :lmin, :lmax, :boxlen, :ranges, :selected_hydrovars, :used_descriptors, :smallr, :smallc, :scale)","category":"page"},{"location":"01_hydro_First_Inspection/#Overview-of-AMR/Hydro","page":"Hydro","title":"Overview of AMR/Hydro","text":"","category":"section"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Get an overview of the AMR structure associated with the object gas (HydroDataType). The printed information is stored into the object overview_amr as a IndexedTables table (code units)  and can be used for further calculations:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"overview_amr = amroverview(gas)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Counting...\n\n\n\n\n\nTable with 5 rows, 3 columns:\nlevel  cells     cellsize\n─────────────────────────\n6      66568     0.75\n7      374908    0.375\n8      7806793   0.1875\n9      12774134  0.09375\n10     7298576   0.046875","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Get some overview of the data that is associated with the object gas. The calculated information can be accessed from the object data_overview (here) in code units for further calculations:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"data_overview = dataoverview(gas)","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Calculating...\n\n\n\u001b 100%|███████████████████████████████████████████████████| Time: 0:03:09\n\n\n\n\n\nTable with 5 rows, 16 columns:\nColumns:\n\u001b#   \u001bcolname   \u001btype\n──────────────────\n1   level     Any\n2   mass      Any\n3   rho_min   Any\n4   rho_max   Any\n5   vx_min    Any\n6   vx_max    Any\n7   vy_min    Any\n8   vy_max    Any\n9   vz_min    Any\n10  vz_max    Any\n11  p_min     Any\n12  p_max     Any\n13  var6_min  Any\n14  var6_max  Any\n15  var7_min  Any\n16  var7_max  Any","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"If the number of columns is relatively long, the table is typically represented by an overview. To access certain columns, use the select function. The representation \":mass\" is called a quoted Symbol (see in Julia documentation):","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"using Mera.IndexedTables","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"select(data_overview, (:level,:mass, :rho_min, :rho_max ) )","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Table with 5 rows, 4 columns:\nlevel  mass         rho_min     rho_max\n───────────────────────────────────────────\n6      0.000698165  2.61776e-9  1.16831e-7\n7      0.00126374   1.15139e-8  2.21103e-7\n8      0.0201245    2.44071e-8  0.000222309\n9      0.204407     1.2142e-7   0.0141484\n10     6.83618      4.49036e-7  3.32984","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Get an array from the column \":mass\" in data_overview and scale it to the units Msol. The order of the calculated data is consistent with the table above:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"column(data_overview, :mass) * info.scale.Msol ","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"5-element Vector{Float64}:\n 697971.5415380469\n      1.2633877595077453e6\n      2.01189316548175e7\n      2.0435047070331135e8\n      6.834288803451587e9","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Or simply convert the :mass data in the table to Msol units by manipulating the column:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"data_overview = transform(data_overview, :mass => :mass => value->value * info.scale.Msol);","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"select(data_overview, (:level, :mass, :rho_min, :rho_max ) )","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Table with 5 rows, 4 columns:\nlevel  mass       rho_min     rho_max\n─────────────────────────────────────────\n6      6.97972e5  2.61776e-9  1.16831e-7\n7      1.26339e6  1.15139e-8  2.21103e-7\n8      2.01189e7  2.44071e-8  0.000222309\n9      2.0435e8   1.2142e-7   0.0141484\n10     6.83429e9  4.49036e-7  3.32984","category":"page"},{"location":"01_hydro_First_Inspection/#Data-Inspection","page":"Hydro","title":"Data Inspection","text":"","category":"section"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The data is associated with the field gas.data as a IndexedTables table (code units). Each row corresponds to a cell and each column to a property which makes it easy to  find, filter, map, aggregate, group the data, etc. More information can be found in the Mera tutorials or in: JuliaDB API Reference","category":"page"},{"location":"01_hydro_First_Inspection/#Table-View","page":"Hydro","title":"Table View","text":"","category":"section"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"The cell positions cx,cy,cz correspond to a uniform 3D array for each level. E.g., for level=8, the positions range from 1-256 for each dimension, for level=14, 1-16384 while not all positions within this range exist due to the complex AMR structure. The integers cx,cy,cz are used to reconstruct the grid in many functions of MERA and should not be modified.","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"gas.data","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"A more detailed view into the data:","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"select(gas.data, (:level,:cx, :cy, :cz, :rho) )","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 5 columns:\n\u001blevel  \u001bcx   \u001bcy   \u001bcz   rho\n─────────────────────────────────\n6      1    1    1    3.18647e-9\n6      1    1    2    3.58591e-9\n6      1    1    3    3.906e-9\n6      1    1    4    4.27441e-9\n6      1    1    5    4.61042e-9\n6      1    1    6    4.83977e-9\n6      1    1    7    4.974e-9\n6      1    1    8    5.08112e-9\n6      1    1    9    5.20596e-9\n6      1    1    10   5.38372e-9\n6      1    1    11   5.67209e-9\n6      1    1    12   6.14423e-9\n⋮\n10     814  493  514  0.000321702\n10     814  494  509  1.42963e-6\n10     814  494  510  1.4351e-6\n10     814  494  511  0.00029515\n10     814  494  512  0.000395273\n10     814  494  513  0.000321133\n10     814  494  514  0.000319678\n10     814  495  511  0.00024646\n10     814  495  512  0.000269009\n10     814  496  511  0.000235329\n10     814  496  512  0.000242422","category":"page"},{"location":"01_hydro_First_Inspection/","page":"Hydro","title":"Hydro","text":"","category":"page"},{"location":"03_particles_Get_Subregions/#3.-Particles:-Get-Sub-Regions-of-Loaded-the-Data","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Load-the-Data","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Load the Data","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"using Mera, PyPlot\nusing ColorSchemes\ncmap = ColorMap(ColorSchemes.lajolla.colors) # See http://www.fabiocrameri.ch/colourmaps.php\n\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\nparticles = getparticles(info, :mass);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:29:31.468\u001b\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n\u001b =======================================================\u001b\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05\n- Nstars:   5.066030e+05\n- Ndm:      2.547000e+03\nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n\u001b =======================================================\u001b \n\n\u001b [Mera]: Get particle data: 2020-02-18T23:29:46.476\u001b\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(4,) = (:mass,)\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001b Reading data...100%|████████████████████████████████████| Time: 0:00:03\u001b\n\n\nFound 5.089390e+05 particles\nMemory used for data table :19.4152889251709 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/#Cuboid-Region","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cuboid Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Create-projections-of-the-full-box:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The generated objects include, e.g. the extent of the processed domain, that can be used to declare the specific range of the plots, while the field cextent gives the extent related to a given center (default: [0.,0.,0.]).","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"propertynames(proj_z)","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(:maps, :maps_unit, :maps_lmax, :maps_mode, :lmax_projected, :lmin, :lmax, :ref_time, :ranges, :extent, :cextent, :ratio, :boxlen, :scale, :info)","category":"page"},{"location":"03_particles_Get_Subregions/#Cuboid-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cuboid Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cuboid-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cuboid Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"Note: The selected regions can be given relative to a user given center or to the box corner '[0., 0., 0.]' by default. The user can choose between standard notation '[0:1]' (default) or physical length-units, defined in e.g. info.scale :","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion( particles, :cuboid,\n                                    xrange=[-4., 0.],\n                                    yrange=[-15. ,15.],\n                                    zrange=[-2. ,2.],\n                                    center=[:boxcenter],\n                                    range_unit=:kpc );","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:10.393\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :10.259977340698242 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The function subregion creates a new object with the same type as the object created by the function getparticles :","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"typeof(part_subregion)","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"PartDataType","category":"page"},{"location":"03_particles_Get_Subregions/#Cuboid-Region:-Projections-of-the-sub-region.","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cuboid Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cuboid-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cuboid Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion( particles, :cuboid,\n                                    xrange=[-4., 0.],\n                                    yrange=[-15. ,15.],\n                                    zrange=[-2. ,2.],\n                                    center=[24.,24.,24.],\n                                    range_unit=:kpc,\n                                    inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:12.491\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.4166667 :: 0.5  \t==> 20.0 [kpc] :: 24.0 [kpc]\nymin::ymax: 0.1875 :: 0.8125  \t==> 9.0 [kpc] :: 39.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :9.156118392944336 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-15.,-15.,15.,15.,-15.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-4.,0.,0.,-4.,-4.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-15.,15.,15.,-15.,-15.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Create-projections-of-the-full-box:-2","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"Select the ranges of the cylinder in the unit \"kpc\", relative to the given center [13., 24., 24.]. The height refers to both z-directions from the plane.","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion(particles, :cylinder,\n                            radius=3.,\n                            height=2.,\n                            range_unit=:kpc,\n                            center=[13.,:bc,:bc],\n                            direction=:z);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:15.671\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :578.951171875 KB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region.","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext = L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\n\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\n\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region:-Projections-of-the-sub-region-py-passing-a-different-center:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region: Projections of the sub-region py passing a different center:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:z, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:y, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, direction=:x, center=[13., 24.,24.], range_unit=:kpc, lmax=10, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/#The-ranges-of-the-plots-are-now-adapted-to-the-given-data-center:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"The ranges of the plots are now adapted to the given data center:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta), 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion(particles, :cylinder,\n                                    radius=3.,\n                                    height=2.,\n                                    range_unit=:kpc,\n                                    center=[ (24. -11.),:bc,:bc],\n                                    direction=:z,\n                                    inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:19.162\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2083333 :: 0.3333333  \t==> 10.0 [kpc] :: 16.0 [kpc]\nymin::ymax: 0.4375 :: 0.5625  \t==> 21.0 [kpc] :: 27.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRadius: 3.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :18.8507137298584 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 3. .* sin.(theta) .-11, 3 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.] .-11.,[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-3.,3.,3.,-3.,-3.],[-2.,-2.,2.,2.,-2.], color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Region","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Region","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Create-projections-of-the-full-box:-3","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Region:-The-red-lines-show-the-region-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Region: The red lines show the region that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Region:-Cutout-the-data-assigned-to-the-object-particles","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Region: Cutout the data assigned to the object particles","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"Select the radius of the sphere in the unit \"kpc\", relative to the given center [13., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion( particles, :sphere,\n                            radius=10.,\n                            range_unit=:kpc,\n                            center=[(24. -11.),24.,24.]);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:22.122\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :8.807950973510742 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Region:-Projections-of-the-sub-region.","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Region: Projections of the sub-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Region:-Get-the-data-outside-of-the-selected-region-(inverse-selection):","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Region: Get the data outside of the selected region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = subregion( particles, :sphere,\n                            radius=10.,\n                            range_unit=:kpc,\n                            center=[(24. -11.),24.,24.],\n                            inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:23.142\u001b\n\ncenter: [0.2708333, 0.5, 0.5] ==> [13.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.0625 :: 0.4791667  \t==> 3.0 [kpc] :: 23.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nRadius: 10.0 [kpc]\nMemory used for data table :10.608144760131836 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) .-11., 10 .* cos.(theta), color=\"red\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Combined/Nested/Shell-Sub-Regions","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Combined/Nested/Shell Sub-Regions","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#The-sub-region-and-shell-functions-can-be-used-in-any-combination-with-each-other!-(Combined-with-overlapping-ranges-or-nested)","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"The sub-region and shell functions can be used in any combination with each other! (Combined with overlapping ranges or nested)","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"One Example:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"comb_region = subregion(particles, :cuboid, xrange=[-8.,8.], yrange=[-8.,8.], zrange=[-2.,2.], center=[:boxcenter], range_unit=:kpc, verbose=false)\ncomb_region2 = subregion(comb_region, :sphere, radius=12., center=[40.,24.,24.], range_unit=:kpc, inverse=true, verbose=false)\ncomb_region3 = subregion(comb_region2, :sphere, radius=12., center=[8.,24.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region4 = subregion(comb_region3, :sphere, radius=12., center=[24.,5.,24.], range_unit=:kpc, inverse=true, verbose=false);\ncomb_region5 = subregion(comb_region4, :sphere, radius=12., center=[24.,43.,24.], range_unit=:kpc, inverse=true, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, verbose=false);\nproj_y = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter],direction=:y, verbose=false);\nproj_x = projection(comb_region5, :sd, unit=:Msol_pc2, center=[:boxcenter],direction=:x, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = LinRange(-pi, pi, 100)\n\nsubplot(1,3,1)\nim = imshow( log10.(permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.(permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Shell","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Shell","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Create-projections-of-the-full-box:-4","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Shell:-The-red-lines-show-the-shell-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Shell: The red lines show the shell we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.(permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Shell:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Shell:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"Pass the height of the cylinder and the inner/outer radius of the shell in the unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = shellregion( particles, :cylinder,\n                                radius=[5.,10.],\n                                height=2.,\n                                range_unit=:kpc,\n                                center=[:boxcenter]);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:28.41\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :7.282835006713867 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, orientation=\"horizontal\", label=labeltext, pad=0.2);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Cylindrical-Shell:-Get-the-data-outside-of-the-selected-shell-(inverse-selection):","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Cylindrical Shell: Get the data outside of the selected shell (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = shellregion( particles, :cylinder,\n                                radius=[5.,10.],\n                                height=2.,\n                                range_unit=:kpc,\n                                center=[:boxcenter],\n                                inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:30.228\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nHeight: 2.0 [kpc]\nMemory used for data table :12.133260726928711 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot([-10.,-10.,10.,10.,-10.], [-2.,2.,2.,-2.,-2.], color=\"red\")\nplot([-5.,-5,5.,5.,-5.], [-2.,2.,2.,-2.,-2.], color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"<a id=\"ShellRegionSphere\"></a>","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Shell","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Shell","text":"","category":"section"},{"location":"03_particles_Get_Subregions/#Create-projections-of-the-full-box:-5","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Create projections of the full box:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(particles, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Shell:-The-red-lines-show-the-shell-that-we-want-to-cutout-as-a-sub-region-from-the-full-data:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Shell: The red lines show the shell that we want to cutout as a sub-region from the full data:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Shell:","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Shell:","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"Select the inner and outer radius of the spherical shell in unit \"kpc\", relative to the box center [24., 24., 24.]:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = shellregion( particles, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc,\n                                center=[24.,24.,24.]);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:34.32\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :7.592016220092773 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Shell:-Projections-of-the-shell-region.","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Shell: Projections of the shell-region.","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"The coordinates center is the center of the box:","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\",ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/#Spherical-Shell:-Get-the-data-outside-of-the-selected-shell-region-(inverse-selection):","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"Spherical Shell: Get the data outside of the selected shell-region (inverse selection):","text":"","category":"section"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"part_subregion = shellregion( particles, :sphere,\n                                radius=[5.,10.],\n                                range_unit=:kpc,\n                                center=[:boxcenter],\n                                inverse=true);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"\u001b [Mera]: 2020-02-18T23:30:35.378\u001b\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\n\nInner radius: 5.0 [kpc]\nOuter radius: 10.0 [kpc]\nRadius diff: 5.0 [kpc]\nMemory used for data table :11.824079513549805 MB\n-------------------------------------------------------","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"proj_z = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:z, lmax=8, verbose=false);\nproj_y = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:y, lmax=8, verbose=false);\nproj_x = projection(part_subregion, :sd, unit=:Msol_pc2, center=[:boxcenter], direction=:x, lmax=8, verbose=false);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"figure(figsize=(15.5, 3.5))\nlabeltext=L\"\\mathrm{log10(\\Sigma) \\ [M_{\\odot} pc^{-2}]}\"\ntheta = range(-pi, stop=pi, length=100)\n\nsubplot(1,3,1)\nim = imshow( log10.( permutedims(proj_z.maps[:sd]) ), cmap=cmap, aspect=proj_z.ratio, origin=\"lower\", extent=proj_z.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"y [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,2)\nim = imshow( log10.( permutedims(proj_y.maps[:sd]) ), cmap=cmap, aspect=proj_y.ratio, origin=\"lower\", extent=proj_y.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"x [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext)\n\nsubplot(1,3,3)\nim = imshow( log10.( permutedims(proj_x.maps[:sd]) ), cmap=cmap, aspect=proj_x.ratio, origin=\"lower\", extent=proj_x.cextent, vmin=0, vmax=3)\nplot( 10. .* sin.(theta) , 10 .* cos.(theta), color=\"red\")\nplot( 5. .* sin.(theta) , 5. .* cos.(theta), color=\"red\", ls=\"--\")\nxlabel(\"y [kpc]\")\nylabel(\"z [kpc]\")\ncb = colorbar(im, label=labeltext);","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"(Image: png)","category":"page"},{"location":"03_particles_Get_Subregions/","page":"3. Particles: Get Sub-Regions of Loaded the Data","title":"3. Particles: Get Sub-Regions of Loaded the Data","text":"","category":"page"},{"location":"04_multi_Basic_Calculations/#4.-Basic-Calculations","page":"4-Basic Calculations","title":"4. Basic Calculations","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The following functions process different types of DataSetType: ","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"ContainMassDataSetType,\nHydroPartType,\nHydroDataType,\nPartDataType,\nClumpDataType. ","category":"page"},{"location":"04_multi_Basic_Calculations/#Load-The-Data","page":"4-Basic Calculations","title":"Load The Data","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");\ngas       = gethydro(info, [:rho, :vx, :vy, :vz], lmax=8); \nparticles = getparticles(info, [:mass, :vx, :vy, :vz])\nclumps    = getclumps(info);","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"┌ Info: Precompiling Mera [02f895e8-fdb1-4346-8fe6-c721699f5126]\n└ @ Base loading.jl:1273\n\n\n\n*__   __ _______ ______   _______ \n|  |_|  |       |    _ | |   _   |\n|       |    ___|   | || |  |_|  |\n|       |   |___|   |_||_|       |\n|       |    ___|    __  |       |\n| ||_|| |   |___|   |  | |   _   |\n|_|   |_|_______|___|  |_|__| |__|\n\n[Mera]: 2020-02-15T21:12:42.671\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================\n\n[Mera]: Get hydro data: 2020-02-15T21:12:50.488\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4) = (:rho, :vx, :vy, :vz) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:02:13\n\n\nMemory used for data table :51.840110778808594 MB\n-------------------------------------------------------\n\n[Mera]: Get particle data: 2020-02-15T21:15:06.908\n\nKey vars=(:level, :x, :y, :z, :id)\nUsing var(s)=(1, 2, 3, 4) = (:vx, :vy, :vz, :mass) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\n\n\u001bReading data...100%|████████████████████████████████████| Time: 0:00:02\n\n\nFound 5.089390e+05 particles\nMemory used for data table :31.064278602600098 MB\n-------------------------------------------------------\n\n[Mera]: Get clump data: 2020-02-15T21:15:11.574\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"04_multi_Basic_Calculations/#Note","page":"4-Basic Calculations","title":"Note","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Many functions can provide the results in selected units. The internal scaling from code to physical units makes use of the following defined relations:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"viewfields(info.scale)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMsol_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nBa\t= 2.910484414358466e-9","category":"page"},{"location":"04_multi_Basic_Calculations/#Total-Mass","page":"4-Basic Calculations","title":"Total Mass","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The function msum calculates the total mass of the data that is assigned to the provided object. For the hydro-data, the mass is derived from the density and cell-size (level) of all elements. info.scale.Msol (or e.g.: gas.info.scale.Msol) scales the result from code units to solar masses:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas Mtot:       \", msum(gas)       * info.scale.Msol, \" Msol\" )\nprintln( \"Particles Mtot: \", msum(particles) * info.scale.Msol, \" Msol\" )\nprintln( \"Clumps Mtot:    \", msum(clumps)    * info.scale.Msol, \" Msol\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas Mtot:       2.6703951073850353e10 Msol\nParticles Mtot: 5.804426008528444e9 Msol\nClumps Mtot:    1.3743280681841675e10 Msol","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The units for the results can be calculated by the function itself by providing an unit-argument:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas Mtot:       \", msum(gas, :Msol)       , \" Msol\" )\nprintln( \"Particles Mtot: \", msum(particles, :Msol) , \" Msol\" )\nprintln( \"Clumps Mtot:    \", msum(clumps, :Msol)    , \" Msol\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas Mtot:       2.6703951073850353e10 Msol\nParticles Mtot: 5.804426008528437e9 Msol\nClumps Mtot:    1.3743280681841677e10 Msol","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The following methods are defined on the function msum:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods(msum)","category":"page"},{"location":"04_multi_Basic_Calculations/#2-methods-for-generic-function-'msum':","page":"4-Basic Calculations","title":"2 methods for generic function 'msum':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"msum(dataobject::'ContainMassDataSetType'; unit, mask) in Mera at ... \nmsum(dataobject::'ContainMassDataSetType', unit::'Symbol'; mask) in Mera at ...","category":"page"},{"location":"04_multi_Basic_Calculations/#Center-Of-Mass","page":"4-Basic Calculations","title":"Center-Of-Mass","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The function center_of_mass or com calculates the center-of-mass of the data that is assigned to the provided object.","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas COM:       \", center_of_mass(gas)       .* info.scale.kpc, \" kpc\" )\nprintln( \"Particles COM: \", center_of_mass(particles) .* info.scale.kpc, \" kpc\" )\nprintln( \"Clumps COM:    \", center_of_mass(clumps)    .* info.scale.kpc, \" kpc\" );","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas COM:       (23.327487354477643, 23.835419919525922, 24.041720148035843) kpc\nParticles COM: (22.891354761211332, 24.174147282680273, 24.003205056545575) kpc\nClumps COM:    (23.135765457064576, 23.741712325649264, 24.0050127185862) kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The units for the results can be calculated by the function itself by providing a unit-argument:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas COM:       \", center_of_mass(gas, :kpc)       , \" kpc\" )\nprintln( \"Particles COM: \", center_of_mass(particles, :kpc) , \" kpc\" )\nprintln( \"Clumps COM:    \", center_of_mass(clumps, :kpc)    , \" kpc\" );","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas COM:       (23.327487354477643, 23.835419919525922, 24.041720148035843) kpc\nParticles COM: (22.891354761211332, 24.174147282680273, 24.003205056545575) kpc\nClumps COM:    (23.135765457064576, 23.741712325649264, 24.0050127185862) kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"A shorter name for the function center_of_mass is defined as com :","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas COM:       \", com(gas, :kpc)       , \" kpc\" )\nprintln( \"Particles COM: \", com(particles, :kpc) , \" kpc\" )\nprintln( \"Clumps COM:    \", com(clumps, :kpc)    , \" kpc\" );","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas COM:       (23.327487354477643, 23.835419919525922, 24.041720148035843) kpc\nParticles COM: (22.891354761211332, 24.174147282680273, 24.003205056545575) kpc\nClumps COM:    (23.135765457064576, 23.741712325649264, 24.0050127185862) kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The result of the coordinates (x, y, z) can be assigned e.g. to a tuple or to three single variables:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"# return coordinates in a tuple\ncom_gas = com(gas, :kpc)\nprintln( \"Tuple:      \", com_gas, \" kpc\" )\n\n# return coordinates into variables\nx_pos, y_pos, z_pos = com(gas, :kpc);  #create variables\nprintln(\"Single vars: \", x_pos, \"  \", y_pos, \"  \", z_pos, \"  kpc\")","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Tuple:      (23.327487354477643, 23.835419919525922, 24.041720148035843) kpc\nSingle vars: 23.327487354477643  23.835419919525922  24.041720148035843  kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Calculate the joint centre-of-mass from the hydro and particle data. Provide the hydro and particle data with an array (independent order):","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Joint COM (Gas + Particles): \", center_of_mass([gas,particles], :kpc) , \" kpc\" )\nprintln( \"Joint COM (Particles + Gas): \", center_of_mass([particles,gas], :kpc) , \" kpc\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Joint COM (Gas + Particles): (23.24961513830681, 23.895900266222746, 24.03484321295537) kpc\nJoint COM (Particles + Gas): (23.24961513830681, 23.895900266222746, 24.03484321295537) kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use the shorter name com that is defined as the function center_of_mass :","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Joint COM (Gas + Particles): \", com([gas,particles], :kpc) , \" kpc\" )\nprintln( \"Joint COM (Particles + Gas): \", com([particles,gas], :kpc) , \" kpc\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Joint COM (Gas + Particles): (23.24961513830681, 23.895900266222746, 24.03484321295537) kpc\nJoint COM (Particles + Gas): (23.24961513830681, 23.895900266222746, 24.03484321295537) kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods(center_of_mass)","category":"page"},{"location":"04_multi_Basic_Calculations/#4-methods-for-generic-function-'center*of*mass':","page":"4-Basic Calculations","title":"4 methods for generic function 'centerofmass':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"-centerofmass(dataobject::'Array{HydroPartType,1}'; unit, mask) in Mera at ...","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"centerofmass(dataobject::'Array{HydroPartType,1}', unit::'Symbol'; mask) in Mera at ...\ncenterofmass(dataobject::'ContainMassDataSetType'; unit, mask) in Mera at ...\ncenterofmass(dataobject::'ContainMassDataSetType', unit::'Symbol'; mask) in Mera at...","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods(com)","category":"page"},{"location":"04_multi_Basic_Calculations/#4-methods-for-generic-function-'com':","page":"4-Basic Calculations","title":"4 methods for generic function 'com':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"com(dataobject::'Array{HydroPartType,1}'; unit, mask) in Mera at ...\ncom(dataobject::'Array{HydroPartType,1}', unit::'Symbol'; mask) in Mera at ...\ncom(dataobject::'ContainMassDataSetType'; unit, mask) in Mera at ...\ncom(dataobject::'ContainMassDataSetType', unit::'Symbol'; mask) in Mera at...","category":"page"},{"location":"04_multi_Basic_Calculations/#Bulk-Velocity","page":"4-Basic Calculations","title":"Bulk Velocity","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The function bulk_velocity or average_velocity calculates the average velocity (w/o mass-weight) of the data that is assigned to the provided object. It can also be used for the clump data if it has velocity components: vx, vy, vz. The default is with mass-weighting:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas:       \", bulk_velocity(gas, :km_s)       , \" km/s\" )\nprintln( \"Particles: \", bulk_velocity(particles, :km_s) , \" km/s\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas:       (-1.4418303105424648, -11.708719305767849, -0.5393243496862975) km/s\nParticles: (-11.623422700314535, -18.440572802490234, -0.3291927731417528) km/s","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas:       \", average_velocity(gas, :km_s)       , \" km/s\" )\nprintln( \"Particles: \", average_velocity(particles, :km_s) , \" km/s\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas:       (-1.4418303105424648, -11.708719305767849, -0.5393243496862975) km/s\nParticles: (-11.623422700314535, -18.440572802490234, -0.3291927731417528) km/s","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Without mass-weighting:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"gas: volume or :no weighting \nparticles: no weighting","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas:       \", bulk_velocity(gas, :km_s, weighting=:volume)       , \" km/s\" )\nprintln( \"Particles: \", bulk_velocity(particles, :km_s, weighting=:no) , \" km/s\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas:       (1.5248458901822857, -8.770913864354458, -0.5037635305158431) km/s\nParticles: (-11.594477384589647, -18.38859118719373, -0.3097746295267971) km/s","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas:       \", average_velocity(gas, :km_s, weighting=:volume)       , \" km/s\" )\nprintln( \"Particles: \", average_velocity(particles, :km_s, weighting=:no) , \" km/s\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas:       (1.5248458901822857, -8.770913864354458, -0.5037635305158431) km/s\nParticles: (-11.594477384589647, -18.38859118719373, -0.3097746295267971) km/s","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods(bulk_velocity)","category":"page"},{"location":"04_multi_Basic_Calculations/#2-methods-for-generic-function-'bulk_velocity':","page":"4-Basic Calculations","title":"2 methods for generic function 'bulk_velocity':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"bulk_velocity(dataobject::'ContainMassDataSetType'; unit, weighting, mask) in Mera at ...\nbulk_velocity(dataobject::'ContainMassDataSetType', unit::'Symbol'; weighting, mask) in Mera at ...","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods(average_velocity)","category":"page"},{"location":"04_multi_Basic_Calculations/#2-methods-for-generic-function-'average_velocity':","page":"4-Basic Calculations","title":"2 methods for generic function 'average_velocity':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"average_velocity(dataobject::'ContainMassDataSetType'; unit, weighting, mask) in Mera at ...\naverage_velocity(dataobject::'ContainMassDataSetType', unit::'Symbol'; weighting, mask) in Mera at...","category":"page"},{"location":"04_multi_Basic_Calculations/#Mass-Weighted-Average","page":"4-Basic Calculations","title":"Mass Weighted Average","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The functions center_of_mass and bulk_velocity use the function average_mweighted (average_mass-weighted) in the backend which can be feeded with any kind of variable that is pre-defined for the getvar() function or exists in the datatable. See the defined method and at getvar() below:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"methods( average_mweighted )","category":"page"},{"location":"04_multi_Basic_Calculations/#1-method-for-generic-function-'average_mweighted':","page":"4-Basic Calculations","title":"1 method for generic function 'average_mweighted':","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"average_mweighted(dataobject::'ContainMassDataSetType', var::'Symbol'; mask) in Mera at ...","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"<a id=\"Statistics\"></a>","category":"page"},{"location":"04_multi_Basic_Calculations/#Get-Predefined-Quantities","page":"4-Basic Calculations","title":"Get Predefined Quantities","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Here, we only show the examples with the hydro-data:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"info = getinfo(1, \"../../testing/simulations/manu_stable_2019\", verbose=false);\ngas = gethydro(info, [:rho, :vx, :vy, :vz], verbose=false); ","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Reading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:00:56","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use getvar to extract variables or derive predefined quantities from the database, dependent on the data type. See the possible variables:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"getvar()","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Predefined vars that can be calculated for each cell/particle:\n----------------------------------------------------------------\n=============================[gas]:=============================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\n\n              -derived hydro vars-\n:x, :y, :z\n:mass, :cellsize, :volume, :freefall_time\n:cs, :mach, :jeanslength, :jeansnumber\n\n==========================[particles]:==========================\n        all the non derived  vars:\n:cpu, :level, :id, :family, :tag \n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n===========================[clumps]:===========================\n:peak_x or :x, :peak_y or :y, :peak_z or :z\n:v, :ekin,...\n\n=====================[gas or particles]:=======================\n:v, :ekin\n\nrelated to a given center:\n---------------------------\n:r_cylinder, :r_sphere (radial components)\n:vr_cylinder\n:vϕ\n----------------------------------------------------------------","category":"page"},{"location":"04_multi_Basic_Calculations/#Get-a-Single-Quantity","page":"4-Basic Calculations","title":"Get a Single Quantity","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"In the following example, we calculate the mass for each cell of the hydro data. ","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The output is a 1dim array in code units by default (mass1).\nEach element/cell can be scaled to Msol units by the elementwise multiplikation gas.scale.Msol (mass2). \nThe getvar function supports intrinsic scaling to a selected unit (mass3).\nThe selected unit does not need a keyword argument if the following order is maintained: dataobject, variable, unit","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"mass1 = getvar(gas, :mass) # [code units]\nmass2 = getvar(gas, :mass) * gas.scale.Msol # scale the result (1dim array) from code units to solar masses\nmass3 = getvar(gas, :mass, unit=:Msol) # unit calculation, provided by a keyword argument [Msol]\nmass4 = getvar(gas, :mass, :Msol) # unit calculation provided by an argument [Msol]\n\n# construct a three dimensional array to compare the three created arrays column wise:  \nmass_overview = [mass1 mass2 mass3 mass4] ","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"37898393×4 Array{Float64,2}:\n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n 8.9407e-7   894.07     894.07     894.07   \n ⋮                                          \n 1.02889e-7  102.889    102.889    102.889  \n 1.02889e-7  102.889    102.889    102.889  \n 1.94423e-7  194.423    194.423    194.423  \n 1.94423e-7  194.423    194.423    194.423  \n 8.90454e-8   89.0454    89.0454    89.0454 \n 8.90454e-8   89.0454    89.0454    89.0454 \n 2.27641e-8   22.7641    22.7641    22.7641 \n 2.27641e-8   22.7641    22.7641    22.7641 \n 8.42157e-9    8.42157    8.42157    8.42157\n 8.42157e-9    8.42157    8.42157    8.42157\n 3.65085e-8   36.5085    36.5085    36.5085 \n 3.65085e-8   36.5085    36.5085    36.5085","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Furthermore, we provide a simple function to get the mass of each cell in code units:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"getmass(gas)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"37898393-element Array{Float64,1}:\n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n 8.940696716308594e-7 \n ⋮                    \n 1.0288910576564388e-7\n 1.0288910576564388e-7\n 1.9442336261293343e-7\n 1.9442336261293343e-7\n 8.90453891574347e-8  \n 8.90453891574347e-8  \n 2.276412192306883e-8 \n 2.276412192306883e-8 \n 8.421571563820485e-9 \n 8.421571563820485e-9 \n 3.650851622718898e-8 \n 3.650851622718898e-8","category":"page"},{"location":"04_multi_Basic_Calculations/#Get-Multiple-Quantities","page":"4-Basic Calculations","title":"Get Multiple Quantities","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Get several quantities with one function call by passing an array containing the selected variables.  getvar returns a dictionary containing 1dim arrays for each quantity in code units:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :ekin])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 2 entries:\n  :mass => [8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8…\n  :ekin => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  2.28274e-7, 2.…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The units for each quantity can by passed as an array to the keyword argument \"units\" (plural, compare with single quantitiy call above) by preserving the order of the vars argument:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :ekin], units=[:Msol, :erg])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 2 entries:\n  :mass => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894…\n  :ekin => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  1.95354e49, 1.…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The function can be called without any keywords by preserving the following order: dataobject, variables, units","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :ekin], [:Msol, :erg])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 2 entries:\n  :mass => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894…\n  :ekin => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  1.95354e49, 1.…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The arrays of the single quantities can be accessed from the dictionary:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities[:mass]","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"37898393-element Array{Float64,1}:\n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n 894.0696716308591  \n   ⋮                \n 102.88910576564386 \n 102.88910576564386 \n 194.42336261293337 \n 194.42336261293337 \n  89.04538915743468 \n  89.04538915743468 \n  22.764121923068824\n  22.764121923068824\n   8.421571563820482\n   8.421571563820482\n  36.50851622718897 \n  36.50851622718897","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"If all selected variables should be of the same unit use the following arguments: dataobject, array of quantities, unit (no array needed):","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:vx, :vy, :vz], :km_s)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 3 entries:\n  :vy => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  -97.5301, -97.53…\n  :vz => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  0.0, 0.0, 0.0, 0…\n  :vx => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  -24.307, -24.307…","category":"page"},{"location":"04_multi_Basic_Calculations/#Get-Quantities-related-to-a-center","page":"4-Basic Calculations","title":"Get Quantities related to a center","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Some quantities are related to a given center, e.g. radius in cylindrical coordinates, see the overview :","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"getvar()","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Predefined vars that can be calculated for each cell/particle:\n----------------------------------------------------------------\n=============================[gas]:=============================\n       -all the non derived hydro vars-\n:cpu, :level, :rho, :cx, :cy, :cz, :vx, :vy, :vz, :p, var6,...\n\n              -derived hydro vars-\n:x, :y, :z\n:mass, :cellsize, :volume, :freefall_time\n:cs, :mach, :jeanslength, :jeansnumber\n:T, :Temp, :Temperature with p/rho\n\n:h, :hx, :hy, :hz (specific angular momentum)\n\n==========================[particles]:==========================\n       -all the non derived particle vars-\n:cpu, :level, :id, :family, :tag \n:x, :y, :z, :vx, :vy, :vz, :mass, :birth, :metal....\n\n              -derived particle vars-\n:age\n\n===========================[gravity]:===========================\n       -all the non derived gravity vars-\n:cpu, :level, cx, cy, cz, :epot, :ax, :ay, :az\n\n              -derived gravity vars-\n:x, :y, :z\n:cellsize, :volume\n\n===========================[clumps]:===========================\n:peak_x or :x, :peak_y or :y, :peak_z or :z\n:v, :ekin,...\n\n=====================[gas or particles]:=======================\n:v, :ekin\n\nrelated to a given center:\n---------------------------\n:r_cylinder, :r_sphere (radial components)\n:vr_cylinder\n:vϕ\n----------------------------------------------------------------","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The unit of the provided center-array (in cartesian coordinates: x,y.z) is given by the keyword argument center_unit (default: code units). The function returns the quantitites in code units:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"cv = (gas.boxlen / 2.) * gas.scale.kpc # provide the box-center in kpc\n# e.g. for :mass the center keyword is ignored\nquantities = getvar(gas, [:mass, :r_cylinder], center=[cv, cv, cv], center_unit=:kpc) ","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 2 entries:\n  :r_cylinder => [70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583…\n  :mass       => [8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407e-7, 8.9407…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Here, the function returns the result in the units that are provided. Note: E.g. the quantities :mass and :v (velocity) are not affected by the given center.","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :r_cylinder, :v], units=[:Msol, :kpc, :km_s], center=[cv, cv, cv], center_unit=:kpc)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 3 entries:\n  :r_cylinder => [70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583…\n  :v          => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  100.513,…\n  :mass       => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.0…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z). In this case the keyword center_unit is ignored:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :r_cylinder, :v], units=[:Msol, :kpc, :km_s], center=[:boxcenter])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 3 entries:\n  :r_cylinder => [70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583…\n  :v          => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  100.513,…\n  :mass       => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.0…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :r_cylinder, :v], units=[:Msol, :kpc, :km_s], center=[:bc])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 3 entries:\n  :r_cylinder => [70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583, 70.1583…\n  :v          => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  100.513,…\n  :mass       => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.0…","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use the box center notation for individual dimensions, here x,z. The keyword center_unit is needed for the y-coordinates:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"quantities = getvar(gas, [:mass, :r_cylinder, :v], units=[:Msol, :kpc, :km_s], center=[:bc, 24., :bc], center_unit=:kpc)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Dict{Any,Any} with 3 entries:\n  :r_cylinder => [54.9408, 54.9408, 54.9408, 54.9408, 54.9408, 54.9408, 54.9408…\n  :v          => [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0  …  100.513,…\n  :mass       => [894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.07, 894.0…","category":"page"},{"location":"04_multi_Basic_Calculations/#Create-Costum-Quantities","page":"4-Basic Calculations","title":"Create Costum Quantities","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Example1: Represent the positions of the data as the radius for a disk, centred in the simulation box (cylindrical coordinates):","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"boxlen = info.boxlen\ncv = boxlen / 2. # box-center\nlevels = getvar(gas, :level) # get the level of each cell\ncellsize = boxlen ./ 2 .^levels # calculate the cellsize for each cell (code units)\n\n# or use the predefined quantity\ncellsize = getvar(gas, :cellsize)\n\n\n# convert the cell-number (related to the levels) into positions (code units), relative to the box center\nx = getvar(gas, :cx) .* cellsize .- cv # (code units)\ny = getvar(gas, :cy) .* cellsize .- cv # (code units)\n\n# or use the predefined quantity\nx = getvar(gas, :x, center=[:bc])\ny = getvar(gas, :y, center=[:bc])\n\n\n# calculate the cylindrical radius and scale from code units to kpc\nradius = sqrt.(x.^2 .+ y.^2) .* info.scale.kpc","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"37898393-element Array{Float64,1}:\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n 70.15825094589823\n  ⋮               \n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808\n 20.08587520654808","category":"page"},{"location":"04_multi_Basic_Calculations/#Use-IndexedTables-Functions","page":"4-Basic Calculations","title":"Use IndexedTables Functions","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"see https://juliadb.org","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"using Mera.IndexedTables","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Example: Get the mass for each gas cell: mi  = ρi * cellvolumei = ρ_i * (boxlen / 2^level)^3","category":"page"},{"location":"04_multi_Basic_Calculations/#Version-1","page":"4-Basic Calculations","title":"Version 1","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use the select function and calculate the mass for each cell:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"boxlen = gas.boxlen\nlevel = select(gas.data, :level ) # get level information from each cell\ncellvol = (boxlen ./ 2 .^level).^3 # calculate volume for each cell\nmass1 = select(gas.data, :rho) .* cellvol .* info.scale.Msol; # calculate the mass for each cell in Msol units","category":"page"},{"location":"04_multi_Basic_Calculations/#Version-2","page":"4-Basic Calculations","title":"Version 2","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use a single time the select function to do the calculations from above :","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"mass2 = select( gas.data, (:rho, :level)=>p->p.rho * (boxlen / 2^p.level)^3 ) .* info.scale.Msol;","category":"page"},{"location":"04_multi_Basic_Calculations/#Version-3","page":"4-Basic Calculations","title":"Version 3","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Use the map function to do the calculations from above :","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"mass3 = map(p->p.rho * (boxlen / 2^p.level)^3, gas.data) .* info.scale.Msol;","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Comparison of the results:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"[mass1 mass2 mass3]","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"37898393×3 Array{Float64,2}:\n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n 894.07     894.07     894.07   \n   ⋮                            \n 102.889    102.889    102.889  \n 102.889    102.889    102.889  \n 194.423    194.423    194.423  \n 194.423    194.423    194.423  \n  89.0454    89.0454    89.0454 \n  89.0454    89.0454    89.0454 \n  22.7641    22.7641    22.7641 \n  22.7641    22.7641    22.7641 \n   8.42157    8.42157    8.42157\n   8.42157    8.42157    8.42157\n  36.5085    36.5085    36.5085 \n  36.5085    36.5085    36.5085","category":"page"},{"location":"04_multi_Basic_Calculations/#Statistical-Quantities","page":"4-Basic Calculations","title":"Statistical Quantities","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"info = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\", verbose=false);\ngas       = gethydro(info, [:rho, :vx, :vy, :vz], lmax=8, smallr=1e-5, verbose=false); \nparticles = getparticles(info, [:mass, :vx, :vy, :vz], verbose=false)\nclumps    = getclumps(info, verbose=false);","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Reading data...\n\n\n\u001b100%|███████████████████████████████████████████████████| Time: 0:02:22\n\u001bReading data...100%|████████████████████████████████████| Time: 0:00:03","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Pass any kind of Array{<:Real,1} (Float, Integer,...) to the wstat function to get several unweighted statistical quantities at once:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"stats_gas       = wstat( getvar(gas,       :vx,     :km_s)     )\nstats_particles = wstat( getvar(particles, :vx,     :km_s)     )\nstats_clumps    = wstat( getvar(clumps,    :rho_av, :Msol_pc3) );","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The result is an object that contains several fields with the statistical quantities:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( typeof(stats_gas) )\nprintln( typeof(stats_particles) )\nprintln( typeof(stats_clumps) )\npropertynames(stats_gas)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Mera.WStatType\nMera.WStatType\nMera.WStatType\n\n\n\n\n\n(:mean, :median, :std, :skewness, :kurtosis, :min, :max)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas        <vx>_allcells     : \",  stats_gas.mean,       \" km/s\" )\nprintln( \"Particles  <vx>_allparticles : \",  stats_particles.mean, \" km/s\" )\nprintln( \"Clumps <rho_av>_allclumps    : \",  stats_clumps.mean,    \" Msol/pc^3\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas        <vx>_allcells     : -2.9318774650713726 km/s\nParticles  <vx>_allparticles : -11.594477384589647 km/s\nClumps <rho_av>_allclumps    : 594.7315900915924 Msol/pc^3","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas        min/max_allcells     : \",  stats_gas.min,      \"/\", stats_gas.max,       \" km/s\" )\nprintln( \"Particles  min/max_allparticles : \",  stats_particles.min,\"/\", stats_particles.max, \" km/s\" )\nprintln( \"Clumps     min/max_allclumps    : \",  stats_clumps.min,   \"/\", stats_clumps.max,    \" Msol/pc^3\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas        min/max_allcells     : -676.5464963488397/894.9181733956399 km/s\nParticles  min/max_allparticles : -874.6440509326601/670.7956741234592 km/s\nClumps     min/max_allclumps    : 125.4809686796669/5357.370234867635 Msol/pc^3","category":"page"},{"location":"04_multi_Basic_Calculations/#Weighted-Statistics","page":"4-Basic Calculations","title":"Weighted Statistics","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Pass any kind of Array{<:Real,1} (Float, Integer,...) for the given variables and one for the weighting with the same length. The weighting goes cell by cell, particle by particle, clump by clump, etc...:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"stats_gas       = wstat( getvar(gas,       :vx,     :km_s), weight=getvar(gas,       :mass  ));\nstats_particles = wstat( getvar(particles, :vx,     :km_s), weight=getvar(particles, :mass   ));\nstats_clumps    = wstat( getvar(clumps,    :peak_x, :kpc ), weight=getvar(clumps,    :mass_cl))  ;","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Without the keyword weight the following order for the given arrays has to be maintained: values, weight","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"stats_gas       = wstat( getvar(gas,       :vx,     :km_s), getvar(gas,       :mass  ));\nstats_particles = wstat( getvar(particles, :vx,     :km_s), getvar(particles, :mass   ));\nstats_clumps    = wstat( getvar(clumps,    :peak_x, :kpc ), getvar(clumps,    :mass_cl))  ;","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"propertynames(stats_gas)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"(:mean, :median, :std, :skewness, :kurtosis, :min, :max)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas        <vx>_allcells     : \",  stats_gas.mean,       \" km/s (mass weighted)\" )\nprintln( \"Particles  <vx>_allparticles : \",  stats_particles.mean, \" km/s (mass weighted)\" )\nprintln( \"Clumps <peak_x>_allclumps    : \",  stats_clumps.mean,    \" kpc  (mass weighted)\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas        <vx>_allcells     : -1.199925358479736 km/s (mass weighted)\nParticles  <vx>_allparticles : -11.623422700314544 km/s (mass weighted)\nClumps <peak_x>_allclumps    : 23.13576545706458 kpc  (mass weighted)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas        min/max_allcells     : \",  stats_gas.min,      \"/\", stats_gas.max,       \" km/s\" )\nprintln( \"Particles  min/max_allparticles : \",  stats_particles.min,\"/\", stats_particles.max, \" km/s\" )\nprintln( \"Clumps     min/max_allclumps    : \",  stats_clumps.min,   \"/\", stats_clumps.max,    \" Msol/pc^3\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas        min/max_allcells     : -676.5464963488397/894.9181733956399 km/s\nParticles  min/max_allparticles : -874.6440509326601/670.7956741234592 km/s\nClumps     min/max_allclumps    : 10.29199219000667/38.17382813002474 Msol/pc^3","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"For the average of the gas-density use volume weighting:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"stats_gas = wstat( getvar(gas, :rho, :g_cm3), weight=getvar(gas, :volume) );","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"println( \"Gas  <rho>_allcells : \",  stats_gas.mean,  \" g/cm^3 (volume weighted)\" )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Gas  <rho>_allcells : 0.008679815788762611 g/cm^3 (volume weighted)","category":"page"},{"location":"04_multi_Basic_Calculations/#Helpful-Functions","page":"4-Basic Calculations","title":"Helpful Functions","text":"","category":"section"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Get the x,y,z positions of every cell relative to a given center:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"x,y,z = getpositions(gas, :kpc, center=[24.,24.,24.], center_unit=:kpc); # returns a Tuple of 3 arrays","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"The box-center can be calculated automatically:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"x,y,z = getpositions(gas, :kpc, center=[:boxcenter]);","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"[x y z] # preview of the output","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"849332×3 Array{Float64,2}:\n -23.25   -23.25    -23.25  \n -23.25   -23.25    -22.5   \n -23.25   -23.25    -21.75  \n -23.25   -23.25    -21.0   \n -23.25   -23.25    -20.25  \n -23.25   -23.25    -19.5   \n -23.25   -23.25    -18.75  \n -23.25   -23.25    -18.0   \n -23.25   -23.25    -17.25  \n -23.25   -23.25    -16.5   \n -23.25   -23.25    -15.75  \n -23.25   -23.25    -15.0   \n -23.25   -23.25    -14.25  \n   ⋮                        \n  16.125    3.9375    0.1875\n  16.125    3.9375    0.375 \n  16.125    3.9375    0.5625\n  16.125    3.9375    0.75  \n  16.125    4.125    -0.5625\n  16.125    4.125    -0.375 \n  16.125    4.125    -0.1875\n  16.125    4.125     0.0   \n  16.125    4.125     0.1875\n  16.125    4.125     0.375 \n  16.125    4.125     0.5625\n  16.125    4.125     0.75","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Get the extent of the dataset-domain:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"getextent(gas) # returns Tuple of (xmin, xmax), (ymin ,ymax ), (zmin ,zmax )","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"((0.0, 48.0), (0.0, 48.0), (0.0, 48.0))","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Get the extent relative to a given center:","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"getextent(gas, center=[:boxcenter])","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"((-24.0, 24.0), (-24.0, 24.0), (-24.0, 24.0))","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"Get simulation time in code unit oder physical unit","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"gettime(info)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"29.9031937665063","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"gettime(info, :Myr)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"445.8861174695","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"gettime(gas, :Myr)","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"445.8861174695","category":"page"},{"location":"04_multi_Basic_Calculations/","page":"4-Basic Calculations","title":"4-Basic Calculations","text":"","category":"page"},{"location":"02_clumps_Load_Selections/#2.-Clumps:-Load-Selected-Variables-and-Data-Ranges","page":"Clumps","title":"2. Clumps: Load Selected Variables and Data Ranges","text":"","category":"section"},{"location":"02_clumps_Load_Selections/#Simulation-Overview","page":"Clumps","title":"Simulation Overview","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"using Mera\ninfo = getinfo(400, \"../../testing/simulations/manu_sim_sf_L14\");","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: 2020-02-08T13:43:44.724\n\nCode: RAMSES\noutput [400] summary:\nmtime: 2018-09-05T09:51:55.041\nctime: 2019-11-01T17:35:21.051\n=======================================================\nsimulation time: 594.98 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 2048\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 14 --> cellsize(s): 750.0 [pc] - 2.93 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :thermal_pressure, :passive_scalar_1, :passive_scalar_2)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Npart:    5.091500e+05 \n- Nstars:   5.066030e+05 \n- Ndm:      2.547000e+03 \nparticle variables: (:vx, :vy, :vz, :mass, :birth)\n-------------------------------------------------------\nclumps:        true\nclump-variables: (:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance)\n-------------------------------------------------------\nnamelist-file: false\ntimer-file:       false\ncompilation-file: true\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"02_clumps_Load_Selections/#Select-Variables","page":"Clumps","title":"Select Variables","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"MERA reads the first line of a clump file to identify the number of columns and their names. ","category":"page"},{"location":"02_clumps_Load_Selections/#Read-all-variables-(default)","page":"Clumps","title":"Read all variables (default)","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info);","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:43:54.134\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps.data","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Table with 644 rows, 12 columns:\nColumns:\n\u001b#   \u001bcolname    \u001btype\n──────────────────────\n1   index      Float64\n2   lev        Float64\n3   parent     Float64\n4   ncell      Float64\n5   peak_x     Float64\n6   peak_y     Float64\n7   peak_z     Float64\n8   rho-       Float64\n9   rho+       Float64\n10  rho_av     Float64\n11  mass_cl    Float64\n12  relevance  Float64","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"The colum names should not be changed, since they are assumed in some functions. The usage of individual descriptor variables will be implemented in the future.","category":"page"},{"location":"02_clumps_Load_Selections/#Select-several-variables-w/o-a-keyword","page":"Clumps","title":"Select several variables w/o a keyword","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Currently, the length of the loaded variable list can be modified. E.g. the list can be extended with more names if there are more columns in the data than given by the header in the files. ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Load less than the found 12 columns from the header of the clump files; Pass an array with the variables to the keyword argument vars. The order of the variables has to be consistent with the header in the clump files:}","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, vars=[ :index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z]);","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:01.434\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 7 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z]\nMemory used for data table :36.1083984375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Pass an array that contains the variables without the keyword argument vars. The following order has to be preserved: InfoType-object, variables","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, [ :index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z]);","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:03.36\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 7 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z]\nMemory used for data table :36.1083984375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps.data","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Table with 644 rows, 7 columns:\nindex   lev  parent  ncell   peak_x   peak_y   peak_z\n──────────────────────────────────────────────────────\n4.0     0.0  4.0     740.0   20.1094  11.5005  23.9604\n5.0     0.0  5.0     1073.0  20.1592  11.5122  23.9253\n9.0     0.0  9.0     551.0   21.7852  17.855   23.814\n12.0    0.0  12.0    463.0   21.8232  17.8608  23.855\n13.0    0.0  13.0    2141.0  21.8906  17.2837  23.5415\n18.0    0.0  18.0    691.0   21.7822  16.8823  23.7817\n19.0    0.0  19.0    608.0   21.75    16.8589  23.7993\n20.0    0.0  20.0    1253.0  21.6006  17.5679  23.7935\n25.0    0.0  25.0    1275.0  21.5801  17.6177  23.9341\n26.0    0.0  26.0    1212.0  21.5859  17.5796  23.9165\n29.0    0.0  29.0    1759.0  21.5625  17.5854  23.8726\n46.0    0.0  46.0    4741.0  21.5215  17.6235  23.9458\n⋮\n2115.0  0.0  2115.0  1071.0  27.7705  13.2788  23.8081\n2116.0  0.0  2116.0  839.0   27.7617  13.3081  23.8081\n2117.0  0.0  2117.0  753.0   27.7793  13.2993  23.6851\n2120.0  0.0  2120.0  866.0   27.7559  13.1792  23.8638\n2125.0  0.0  2125.0  181.0   27.7939  13.0298  23.9194\n2128.0  0.0  2128.0  296.0   27.791   13.0649  23.9019\n2131.0  0.0  2131.0  323.0   28.3037  12.8188  23.9487\n2132.0  0.0  2132.0  615.0   28.626   12.8188  23.8755\n2137.0  0.0  2137.0  318.0   29.9736  15.0571  23.7202\n2140.0  0.0  2140.0  1719.0  27.1436  15.6401  23.9048\n2147.0  0.0  2147.0  1535.0  25.1953  9.93604  23.9897","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Load more than the found 12 columns from the header of the clump files. The order of the variables has to be consistent with the header in the clump files:","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, vars=[  :index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance, :vx, :vy, :vz]);","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:04.175\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nRead 15 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance, :vx, :vy, :vz]\nMemory used for data table :77.1787109375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps.data","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Table with 644 rows, 15 columns:\nColumns:\n\u001b#   \u001bcolname    \u001btype\n──────────────────────\n1   index      Float64\n2   lev        Float64\n3   parent     Float64\n4   ncell      Float64\n5   peak_x     Float64\n6   peak_y     Float64\n7   peak_z     Float64\n8   rho-       Float64\n9   rho+       Float64\n10  rho_av     Float64\n11  mass_cl    Float64\n12  relevance  Float64\n13  vx         Float64\n14  vy         Float64\n15  vz         Float64","category":"page"},{"location":"02_clumps_Load_Selections/#Select-Spatial-Ranges","page":"Clumps","title":"Select Spatial Ranges","text":"","category":"section"},{"location":"02_clumps_Load_Selections/#Use-RAMSES-Standard-Notation","page":"Clumps","title":"Use RAMSES Standard Notation","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Ranges correspond to the domain [0:1]^3 and are related to the box corner at '[0., 0., 0.]' by default.","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[0.2,0.8], \n                    yrange=[0.2,0.8], \n                    zrange=[0.4,0.6]); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:06.579\n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"The loaded data ranges are assigned to the field ranges in an array in  RAMSES standard notation (domain: [0:1]^3):","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps.ranges","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"6-element Array{Float64,1}:\n 0.2\n 0.8\n 0.2\n 0.8\n 0.4\n 0.6","category":"page"},{"location":"02_clumps_Load_Selections/#Ranges-relative-to-a-given-center:","page":"Clumps","title":"Ranges relative to a given center:","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[-0.3, 0.3], \n                    yrange=[-0.3, 0.3], \n                    zrange=[-0.1, 0.1], \n                    center=[0.5, 0.5, 0.5]); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:09.633\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/#Use-notation-in-physical-units","page":"Clumps","title":"Use notation in physical units","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"In the following example the ranges are given in units \"kpc\", relative to the box corner '[0., 0., 0.]' (default):","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[2.,22.], \n                    yrange=[2.,22.], \n                    zrange=[22.,26.], \n                    range_unit=:kpc); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:09.96\n\ndomain:\nxmin::xmax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nymin::ymax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :12.83984375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"The possible physical length units for the keyword range_unit are defined in the field scale : ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"viewfields(info.scale) # or e.g.: clumps.info.scale","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMsol_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nBa\t= 2.910484414358466e-9","category":"page"},{"location":"02_clumps_Load_Selections/#Ranges-relative-to-a-given-center-e.g.-in-units-\"kpc\":","page":"Clumps","title":"Ranges relative to a given center e.g. in units \"kpc\":","text":"","category":"section"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[-16.,16.], \n                    yrange=[-16.,16.], \n                    zrange=[-2.,2.], \n                    center=[24.,24.,24.], \n                    range_unit=:kpc); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:10.318\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[-16.,16.], \n                    yrange=[-16.,16.], \n                    zrange=[-2.,2.], \n                    center=[:boxcenter], \n                    range_unit=:kpc); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:11.159\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[-16.,16.], \n                    yrange=[-16.,16.], \n                    zrange=[-2.,2.], \n                    center=[:bc], \n                    range_unit=:kpc); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:11.478\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"clumps = getclumps(info, \n                    xrange=[-16.,16.], \n                    yrange=[-16.,16.], \n                    zrange=[-2.,2.], \n                    center=[:bc, 24., :bc], \n                    range_unit=:kpc); ","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"[Mera]: Get clump data: 2020-02-08T13:44:12.344\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nRead 12 colums: \nSymbol[:index, :lev, :parent, :ncell, :peak_x, :peak_y, :peak_z, Symbol(\"rho-\"), Symbol(\"rho+\"), :rho_av, :mass_cl, :relevance]\nMemory used for data table :61.77734375 KB\n-------------------------------------------------------","category":"page"},{"location":"02_clumps_Load_Selections/","page":"Clumps","title":"Clumps","text":"","category":"page"},{"location":"examples/#Short-Tutorials","page":"Examples","title":"Short Tutorials","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Hands-On Session RUM2023 (included: density PDFs, radial profiles, phase diagram...)\nLoad from a sequence of existing simulations in a folder\nExport/Import data - ASCII/binary files\nThe documentation as Jupyter Notebooks for download","category":"page"},{"location":"07_multi_Mera_Files/#Save/Convert/Load-MERA-Files","page":"7-MERA-Files","title":"Save/Convert/Load MERA-Files","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"The RAMSES simulation data can be stored and accessed from files in the JLD2 file format.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"using Mera","category":"page"},{"location":"07_multi_Mera_Files/#Load-the-Data-From-Ramses","page":"7-MERA-Files","title":"Load the Data From Ramses","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"info = getinfo(300,  \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");\ngas  = gethydro(info, verbose=false, show_progress=false); \npart = getparticles(info, verbose=false, show_progress=false); \ngrav = getgravity(info, verbose=false, show_progress=false); \n# the same applies for clump-data...","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:36:43.204\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"07_multi_Mera_Files/#Store-the-Data-Into-JLD2-Files","page":"7-MERA-Files","title":"Store the Data Into JLD2 Files","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"The running number is taken from the original RAMSES outputs.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"savedata(gas, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:39:38.006\n\n\nNot existing file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: hydro  -  Data variables: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)\n-----------------------------------\nI/O mode: nothing  -  Compression: nothing\n-----------------------------------\n-----------------------------------\nMemory size: 2.321 GB (uncompressed)\n-----------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"<div class=\"alert alert-block alert-info\"> <b>NOTE</b> The hydro data was not written into the file to prevent overwriting existing files.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"The following argument is mandatory: fmode=:write </div>","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"savedata(gas, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", fmode=:write);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:39:38.861\n\n\nCreate file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: hydro  -  Data variables: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)\n-----------------------------------\nI/O mode: write  -  Compression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xc0, 0xa4, 0xfe, 0x2a, 0x01, 0x00, 0x00, 0x00, 0xc0, 0x26, 0x24, 0x82, 0x01, 0x00, 0x00, 0x00, 0xf0, 0xe3, 0xae], false)\n-----------------------------------\nCodecLz4  0.4.6\nJLD2  0.5.13\nCodecBzip2  0.8.5\nMera  1.4.5\nCodecZlib  0.7.8\n-----------------------------------\nMemory size: 2.321 GB (uncompressed)\nTotal file size: 1.276 GB\n-----------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Add/Append further datatypes:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"savedata(part, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", fmode=:append);\nsavedata(grav, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", fmode=:append);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:33.359\n\n\nCreate file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: particles  -  Data variables: (:level, :x, :y, :z, :id, :family, :tag, :vx, :vy, :vz, :mass, :birth)\n-----------------------------------\nI/O mode: append  -  Compression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xe0, 0x20, 0x71, 0x29, 0x01, 0x00, 0x00, 0x00, 0x70, 0x44, 0xc6, 0x2c, 0x01, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\n-----------------------------------\nCodecLz4  0.4.6\nJLD2  0.5.13\nCodecBzip2  0.8.5\nMera  1.4.5\nCodecZlib  0.7.8\n-----------------------------------\nMemory size: 38.449 MB (uncompressed)\nTotal file size: 1.306 GB\n-----------------------------------\n\n[Mera]: 2025-06-21T22:40:35.362\n\n\nCreate file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: gravity  -  Data variables: (:level, :cx, :cy, :cz, :epot, :ax, :ay, :az)\n-----------------------------------\nI/O mode: append  -  Compression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], false)\n-----------------------------------\nCodecLz4  0.4.6\nJLD2  0.5.13\nCodecBzip2  0.8.5\nMera  1.4.5\nCodecZlib  0.7.8\n-----------------------------------\nMemory size: 1.688 GB (uncompressed)\nTotal file size: 2.159 GB\n-----------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"<div class=\"alert alert-block alert-info\"> <b>NOTE</b> It is not possible to exchange stored data; only writing into a new file or appending is supported. </div>","category":"page"},{"location":"07_multi_Mera_Files/#Overview-of-Stored-Data","page":"7-MERA-Files","title":"Overview of Stored Data","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"vd = viewdata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\")","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:39.995\n\nMera-file output_00300.jld2 contains:\n\nDatatype: particles\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xe0, 0x20, 0x71, 0x29, 0x01, 0x00, 0x00, 0x00, 0x70, 0x44, 0xc6, 0x2c, 0x01, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 38.44882392883301 MB (uncompressed)\n\n\nDatatype: gravity\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 1.68808214366436 GB (uncompressed)\n\n\nDatatype: hydro\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xc0, 0xa4, 0xfe, 0x2a, 0x01, 0x00, 0x00, 0x00, 0xc0, 0x26, 0x24, 0x82, 0x01, 0x00, 0x00, 0x00, 0xf0, 0xe3, 0xae], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 2.3211056170985103 GB (uncompressed)\n\n\n-----------------------------------\nconvert stat: false\n-----------------------------------\nTotal file size: 2.159 GB\n-----------------------------------\n\n\n\n\n\n\nDict{Any, Any} with 4 entries:\n  \"particles\" => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…\n  \"FileSize\"  => (2.159, \"GB\")\n  \"gravity\"   => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…\n  \"hydro\"     => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Information about the content, etc. is returned in a dictionary.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Get a detailed tree-view of the data-file:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"vd = viewdata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", showfull=true)","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:42.532\n\nMera-file output_00300.jld2 contains:\n\n ├─📂 hydro\n │  ├─🔢 data\n │  ├─🔢 info\n │  └─📂 information\n │     ├─🔢 compression\n │     ├─🔢 comments\n │     ├─🔢 storage\n │     ├─🔢 memory\n │     └─📂 versions\n │        ├─🔢 merafile_version\n │        ├─🔢 JLD2compatible_versions\n │        ├─🔢 CodecLz4\n │        ├─🔢 JLD2\n │        ├─🔢 CodecBzip2\n │        ├─🔢 Mera\n │        └─🔢 CodecZlib\n ├─📂 particles\n │  ├─🔢 data\n │  ├─🔢 info\n │  └─📂 information\n │     ├─🔢 compression\n │     ├─🔢 comments\n │     ├─🔢 storage\n │     ├─🔢 memory\n │     └─📂 versions\n │        ├─🔢 merafile_version\n │        ├─🔢 JLD2compatible_versions\n │        ├─🔢 CodecLz4\n │        ├─🔢 JLD2\n │        ├─🔢 CodecBzip2\n │        ├─🔢 Mera\n │        └─🔢 CodecZlib\n └─📂 gravity\n    ├─🔢 data\n    ├─🔢 info\n    └─📂 information\n       ├─🔢 compression\n       ├─🔢 comments\n       ├─🔢 storage\n       ├─🔢 memory\n       └─📂 versions\n          ├─🔢 merafile_version\n          ├─🔢 JLD2compatible_versions\n          ├─🔢 CodecLz4\n          ├─🔢 JLD2\n          ├─🔢 CodecBzip2\n          ├─🔢 Mera\n          └─🔢 CodecZlib\n\nDatatype: particles\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xe0, 0x20, 0x71, 0x29, 0x01, 0x00, 0x00, 0x00, 0x70, 0x44, 0xc6, 0x2c, 0x01, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 38.44882392883301 MB (uncompressed)\n\n\nDatatype: gravity\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 1.68808214366436 GB (uncompressed)\n\n\nDatatype: hydro\nmerafile_version: 1.0\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0xc0, 0xa4, 0xfe, 0x2a, 0x01, 0x00, 0x00, 0x00, 0xc0, 0x26, 0x24, 0x82, 0x01, 0x00, 0x00, 0x00, 0xf0, 0xe3, 0xae], false)\nCodecZlib: VersionNumber[v\"0.7.8\"]\nmerafile_version: 1.0\nJLD2: VersionNumber[v\"0.5.13\"]\nCodecBzip2: VersionNumber[v\"0.8.5\"]\nJLD2compatible_versions: (lower = v\"0.1.0\", upper = v\"0.3.0\")\nCodecLz4: VersionNumber[v\"0.4.6\"]\nMera: VersionNumber[v\"1.4.5\"]\n-------------------------\nMemory: 2.3211056170985103 GB (uncompressed)\n\n\n-----------------------------------\nconvert stat: false\n-----------------------------------\nTotal file size: 2.159 GB\n-----------------------------------\n\n\n\n\n\n\nDict{Any, Any} with 4 entries:\n  \"particles\" => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…\n  \"FileSize\"  => (2.159, \"GB\")\n  \"gravity\"   => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…\n  \"hydro\"     => Dict{Any, Any}(\"versions\"=>Dict{Any, Any}(\"CodecZlib\"=>Version…","category":"page"},{"location":"07_multi_Mera_Files/#Get-Info","page":"7-MERA-Files","title":"Get Info","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"The following function infodata is comparable to getinfo() used for the RAMSES files and loads detailed information about the simulation output:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"info = infodata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:42.775\n\nUse datatype: hydro\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&HYDRO_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&INIT_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"In this case, it loaded the InfoDataType from the hydro data. Choose a different stored datatype to get the info from:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"info = infodata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :particles);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:43.264\n\nUse datatype: particles\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&HYDRO_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&INIT_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"07_multi_Mera_Files/#Load-The-Data-from-JLD2","page":"7-MERA-Files","title":"Load The Data from JLD2","text":"","category":"section"},{"location":"07_multi_Mera_Files/#Full-Data","page":"7-MERA-Files","title":"Full Data","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"gas = loaddata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :hydro);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:43.330\n\nOpen Mera-file output_00300.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :2.321105550043285 GB\n-------------------------------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"typeof(gas)","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"HydroDataType","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"part = loaddata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :particles);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:46.833\n\nOpen Mera-file output_00300.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :38.44854164123535 MB\n-------------------------------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"typeof(part)","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"PartDataType","category":"page"},{"location":"07_multi_Mera_Files/#Data-Range","page":"7-MERA-Files","title":"Data Range","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Complete data is loaded, and the selected subregion is returned:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"gas = loaddata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :hydro,\n                    xrange=[-10,10], \n                    yrange=[-10,10], zrange=[-2,2],\n                    center=[:boxcenter], \n                    range_unit=:kpc);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:40:47.294\n\nOpen Mera-file output_00300.jld2:\n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nymin::ymax: 0.2916667 :: 0.7083333  \t==> 14.0 [kpc] :: 34.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nMemory used for data table :587.32142162323 MB\n-------------------------------------------------------","category":"page"},{"location":"07_multi_Mera_Files/#Convert-RAMSES-Output-Into-JLD2","page":"7-MERA-Files","title":"Convert RAMSES Output Into JLD2","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Existing AMR, hydro, gravity, particle, and clump data is sequentially stored in a JLD2 file. The individual loading/writing processes are timed, and the memory usage is returned in a dictionary:","category":"page"},{"location":"07_multi_Mera_Files/#Full-Data-2","page":"7-MERA-Files","title":"Full Data","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd = convertdata(300, path=\"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\",\n                  fpath=\"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:41:32.730\n\nRequested datatypes: [:hydro, :gravity, :particles, :clumps]\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\nreading/writing lmax: 10 of 10\n-----------------------------------\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x96, 0x25], false)\n-----------------------------------\n- hydro\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:59\n\n\n- gravity\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:55\n\n\n- particles\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:07\n\n\n\nTotal datasize:\n- total folder: 5.682 GB\n- selected: 5.68 GB\n- used: 4.047 GB\n- new on disc: 2.159 GB","category":"page"},{"location":"07_multi_Mera_Files/#Timer","page":"7-MERA-Files","title":"Timer","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Get a view of the timers:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"using TimerOutputs","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Dict{Any, Any} with 3 entries:\n  \"viewdata\"     => Dict{Any, Any}(\"particles\"=>Dict{Any, Any}(\"versions\"=>Dict…\n  \"size\"         => Dict{Any, Any}(\"folder\"=>Any[6101111412, \"Bytes\"], \"selecte…\n  \"TimerOutputs\" => Dict{Any, Any}(\"writing\"=>─────────────────────────────────\u001b[0m…","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd[\"TimerOutputs\"][\"reading\"]","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"──────────────────────────────────────────────────────────────────────\n                             Time                    Allocations      \n                    ───────────────────────   ────────────────────────\n Tot / % measured:        174s /  94.4%           82.3GiB /  83.0%    \n\nSection     ncalls     time    %tot     avg     alloc    %tot      avg\n──────────────────────────────────────────────────────────────────────\nhydro            1    96.6s   58.7%   96.6s   47.9GiB   70.2%  47.9GiB\ngravity          1    58.9s   35.8%   58.9s   19.4GiB   28.4%  19.4GiB\nparticles        1    8.98s    5.5%   8.98s   0.98GiB    1.4%  0.98GiB\n──────────────────────────────────────────────────────────────────────","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd[\"TimerOutputs\"][\"writing\"]","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"──────────────────────────────────────────────────────────────────────\n                             Time                    Allocations      \n                    ───────────────────────   ────────────────────────\n Tot / % measured:        174s /   5.0%           82.3GiB /  17.0%    \n\nSection     ncalls     time    %tot     avg     alloc    %tot      avg\n──────────────────────────────────────────────────────────────────────\nhydro            1    5.01s   56.9%   5.01s   7.18GiB   51.4%  7.18GiB\ngravity          1    3.42s   38.9%   3.42s   6.63GiB   47.5%  6.63GiB\nparticles        1    368ms    4.2%   368ms    159MiB    1.1%   159MiB\n──────────────────────────────────────────────────────────────────────","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"# prep timer\nto = TimerOutput();","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"@timeit to \"MERA\" begin\n    @timeit to \"hydro\"     gas = loaddata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :hydro, )\n    @timeit to \"particles\" part= loaddata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", :particles)\nend;","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:44:27.384\n\nOpen Mera-file output_00300.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :2.321105550043285 GB\n-------------------------------------------------------\n\n[Mera]: 2025-06-21T22:44:34.296\n\nOpen Mera-file output_00300.jld2:\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nMemory used for data table :38.44854164123535 MB\n-------------------------------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"to","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"────────────────────────────────────────────────────────────────────────\n                               Time                    Allocations      \n                      ───────────────────────   ────────────────────────\n  Tot / % measured:        7.22s /  97.5%           14.0GiB /  99.7%    \n\nSection       ncalls     time    %tot     avg     alloc    %tot      avg\n────────────────────────────────────────────────────────────────────────\nMERA               1    7.05s  100.0%   7.05s   14.0GiB  100.0%  14.0GiB\n  hydro            1    6.91s   98.1%   6.91s   13.8GiB   98.7%  13.8GiB\n  particles        1    134ms    1.9%   134ms    180MiB    1.3%   180MiB\n────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"<div class=\"alert alert-block alert-info\"> <b>NOTE</b> The reading from JLD2 files is multiple times faster than from the original RAMSES files. </div>","category":"page"},{"location":"07_multi_Mera_Files/#Used-Memory","page":"7-MERA-Files","title":"Used Memory","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd[\"size\"]","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Dict{Any, Any} with 4 entries:\n  \"folder\"   => Any[6101111412, \"Bytes\"]\n  \"selected\" => Any[6.09885e9, \"Bytes\"]\n  \"ondisc\"   => Any[2318210927, \"Bytes\"]\n  \"used\"     => Any[4.34515e9, \"Bytes\"]","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"<div class=\"alert alert-block alert-info\"> <b>NOTE</b> The compressed JLD2 file takes a significantly smaller disk space than the original RAMSES folder.</div>","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"factor = cvd[\"size\"][\"folder\"][1] / cvd[\"size\"][\"ondisc\"][1]\nprintln(\"==============================================================================\")\nprintln(\"In this example, the disk space is reduced by a factor of $factor !!\")\nprintln(\"==============================================================================\")","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"==============================================================================\nIn this example, the disk space is reduced by a factor of 2.631818934567553 !!\n==============================================================================","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/#Selected-Datatypes","page":"7-MERA-Files","title":"Selected Datatypes","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"cvd = convertdata(300, [:hydro, :particles], \n                  path=\"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\",\n                  fpath=\"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:44:34.761\n\nRequested datatypes: [:hydro, :particles]\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\nreading/writing lmax: 10 of 10\n-----------------------------------\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\n-----------------------------------\n- hydro\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:57\n\n\n- particles\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:07\n\n\n\nTotal datasize:\n- total folder: 5.682 GB\n- selected: 4.002 GB\n- used: 2.359 GB\n- new on disc: 1.306 GB","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/#Compression","page":"7-MERA-Files","title":"Compression","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"By default, the data is compressed by a standard compressor. Therefore, if you want to use a different compression algorithm better suited to your needs, you can also directly pass a compressor. https://juliaio.github.io/JLD2.jl/stable/compression/","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Library Compressor \nCodecZlib.jl ZlibCompressor The default as it is very widely used.\nCodecBzip2.jl Bzip2Compressor Can often times be faster\nCodecLz4.jl LZ4FrameCompressor Fast, but not compatible to the LZ4 shipped by HDF5","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"To use any of these, replace the compress = true argument with an instance of the compressor, e.g.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"using CodecZlib\ncvd = convertdata(300, [:hydro, :particles], compress=ZlibCompressor(),\n                  path=\"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\",\n                  fpath=\"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:46:24.922\n\nRequested datatypes: [:hydro, :particles]\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\nreading/writing lmax: 10 of 10\n-----------------------------------\nCompression: ZlibCompressor(level=-1, windowbits=15)\n-----------------------------------\n- hydro\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:57\n\n\n- particles\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:07\n\n\n\nTotal datasize:\n- total folder: 5.682 GB\n- selected: 4.002 GB\n- used: 2.359 GB\n- new on disc: 1.241 GB","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"savedata(gas, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", \n            fmode=:write, compress=ZlibCompressor());","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:48:55.105\n\n\nCreate file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: hydro  -  Data variables: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)\n-----------------------------------\nI/O mode: write  -  Compression: ZlibCompressor(level=-1, windowbits=15)\n-----------------------------------\nCodecLz4  0.4.6\nJLD2  0.5.13\nCodecBzip2  0.8.5\nMera  1.4.5\nCodecZlib  0.7.8\n-----------------------------------\nMemory size: 2.321 GB (uncompressed)\nTotal file size: 1.213 GB\n-----------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Get more information about the parameters of the compressor:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"?ZlibCompressor","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"search: ZlibCompressor ZlibDecompressor GzipCompressor ZlibCompressorStream","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"ZlibCompressor(;level=-1, windowbits=15)","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Create a zlib compression codec.","category":"page"},{"location":"07_multi_Mera_Files/#Arguments","page":"7-MERA-Files","title":"Arguments","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"level (-1..9): compression level. 1 gives best speed, 9 gives best compression, 0 gives no compression at all (the input data is simply copied a block at a time). -1 requests a default compromise between speed and compression (currently equivalent to level 6).\nwindowbits (9..15): size of history buffer is 2^windowbits.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"warning: Warning\nserialize and deepcopy will not work with this codec due to stored raw pointers.","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/#Comments","page":"7-MERA-Files","title":"Comments","text":"","category":"section"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Add a description to the files:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"comment = \"The simulation is....\"\ncvd = convertdata(300, [:hydro, :particles], comments=comment,\n                  path=\"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\",\n                  fpath=\"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\");","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:49:38.415\n\nRequested datatypes: [:hydro, :particles]\n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\n\nreading/writing lmax: 10 of 10\n-----------------------------------\nCompression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\n-----------------------------------\n- hydro\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:57\n\n\n- particles\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:07\n\n\n\nTotal datasize:\n- total folder: 5.682 GB\n- selected: 4.002 GB\n- used: 2.359 GB\n- new on disc: 1.306 GB","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"comment = \"The simulation is....\"\nsavedata(gas, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", comments=comment, fmode=:write);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"[Mera]: 2025-06-21T22:51:29.166\n\n\nCreate file: output_00300.jld2\nDirectory: /Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\n-----------------------------------\nmerafile_version: 1.0  -  Simulation code: RAMSES\n-----------------------------------\nDataType: hydro  -  Data variables: (:level, :cx, :cy, :cz, :rho, :vx, :vy, :vz, :p, :var6, :var7)\n-----------------------------------\nI/O mode: write  -  Compression: CodecLz4.LZ4FrameCompressor(Ptr{CodecLz4.LZ4F_cctx} @0x0000000000000000, Base.RefValue{CodecLz4.LZ4F_preferences_t}(CodecLz4.LZ4F_preferences_t(CodecLz4.LZ4F_frameInfo_t(0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x0000000000000000, 0x00000000, 0x00000000), 0, 0x00000000, (0x00000000, 0x00000000, 0x00000000, 0x00000000))), UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0xe3, 0x2a], false)\n-----------------------------------\nCodecLz4  0.4.6\nJLD2  0.5.13\nCodecBzip2  0.8.5\nMera  1.4.5\nCodecZlib  0.7.8\n-----------------------------------\nMemory size: 2.321 GB (uncompressed)\nTotal file size: 1.276 GB\n-----------------------------------","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"Load the comment (hydro) from JLD2 file:","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"vd = viewdata(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/JLD2_files/\", verbose=false);","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"vd[\"hydro\"][\"comments\"]","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"\"The simulation is....\"","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"07_multi_Mera_Files/","page":"7-MERA-Files","title":"7-MERA-Files","text":"","category":"page"},{"location":"#Home","page":"Home","title":"Home","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: DOI)","category":"page"},{"location":"","page":"Home","title":"Home","text":"MERA is a package designed for working with large 3D adaptive mesh refinement (AMR) or uniform-grid datasets, as well as N-body particle data from astrophysical simulations. It is entirely written in the Julia programming language and currently supports the hydrodynamic code RAMSES (GitHub, newer versions), RAMSES (Bitbucket, older versions). MERA offers essential functions for data extraction, manipulation, and custom analysis while aiming to avoid overly high-level abstractions (often referred to as \"black boxes\").","category":"page"},{"location":"","page":"Home","title":"Home","text":"Note For a first impression, the Documentation showcases a variety of examples. Additionally, check out the 'Hands-On Session RUM2023' that includes downloadable simulation examples: https://github.com/ManuelBehrendt/RUM2023","category":"page"},{"location":"#Key-Features","page":"Home","title":"Key Features","text":"","category":"section"},{"location":"#1.-**Getting-Started**-(Installation-\\-and-Documentation)-First-impression-and-ease-of-entry","page":"Home","title":"1. Getting Started (Installation \\& Documentation) - First impression and ease of entry","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Effortless Installation \\& Updates","category":"page"},{"location":"","page":"Home","title":"Home","text":"Install and update via Julia's package manager with a single command, ensuring immediate access to new features and fixes.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Extensive Documentation \\& Tutorials","category":"page"},{"location":"","page":"Home","title":"Home","text":"Detailed API references, comprehensive documentation, downloadable Jupyter notebooks, and Hands-On Session RUM2023 materials facilitate rapid onboarding and practical learning.","category":"page"},{"location":"#2.-**Core-Performance**-(Speed-\\-and-Data-Handling)-Primary-technical-advantages","page":"Home","title":"2. Core Performance (Speed \\& Data Handling) - Primary technical advantages","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Near-C/Fortran Performance","category":"page"},{"location":"","page":"Home","title":"Home","text":"Just-In-Time (JIT) compilation delivers native-code speed for array and numerical computations, surpassing interpreted languages in throughput. \"- High-Performance Compressed Mera-Files Proprietary format provides rapid reading, writing, and handling of large AMR and N-body datasets with minimal memory footprint, dramatically reducing I/O overhead when traversing simulation snapshots for time-series analysis.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Database-Driven Data Processing","category":"page"},{"location":"","page":"Home","title":"Home","text":"Built on IndexedTables.jl for scalable data management, enabling efficient querying and slicing of large simulation outputs.","category":"page"},{"location":"#3.-**Workflow-\\-and-Analysis**-(End-to-end-pipeline-\\-and-toolkit)-Practical-usage-benefits","page":"Home","title":"3. Workflow \\& Analysis (End-to-end pipeline \\& toolkit) - Practical usage benefits","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Streamlined End-to-End Workflow","category":"page"},{"location":"","page":"Home","title":"Home","text":"Unified pipeline from getinfo(output=1, \"sim_folder\") → getdata() → projection() → heatmap() reduces manual steps and accelerates workflow while allowing flexible data manipulation at each stage to customize your analysis.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Comprehensive Analytical Toolkit","category":"page"},{"location":"","page":"Home","title":"Home","text":"Native support for projections, statistical profiling, data filtering and masking, column density calculations, phase plots, profile analysis, export of multi-level data to VTK for volume rendering, and many more.","category":"page"},{"location":"#4.-**Development-Features**-(Interactive-use-\\-and-parallelism)-Development-workflow-advantages","page":"Home","title":"4. Development Features (Interactive use \\& parallelism) - Development workflow advantages","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Interactive \\& Scriptable Use Cases","category":"page"},{"location":"","page":"Home","title":"Home","text":"Combine REPL-based exploration with batch scripting and Jupyter notebooks for both ad-hoc analysis and automated high-throughput workflows.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Built-In Parallelism","category":"page"},{"location":"","page":"Home","title":"Home","text":"Leverage Julia's multi-threading and distributed computing capabilities for accelerated processing of large datasets on multi-core and cluster environments.","category":"page"},{"location":"#5.-**Ecosystem-\\-and-Integration**-(Julia-ecosystem-\\-and-Unicode)-Broader-context-benefits","page":"Home","title":"5. Ecosystem \\& Integration (Julia ecosystem \\& Unicode) - Broader context benefits","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Seamless Julia Ecosystem Integration","category":"page"},{"location":"","page":"Home","title":"Home","text":"Composable with LinearAlgebra for numerical operations, Makie for interactive plotting, PyPlot, and many other Julia packages.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Native Unicode \\& Mathematical Notation","category":"page"},{"location":"","page":"Home","title":"Home","text":"Supports λ, ∑, ∂ and other symbols in code, docstrings, and examples, enabling clear expression of complex equations and formulas.","category":"page"},{"location":"#6.-**Advanced-Features**-(Reproducibility-\\-and-extensibility)-Professional/research-grade-capabilities","page":"Home","title":"6. Advanced Features (Reproducibility \\& extensibility) - Professional/research-grade capabilities","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Reproducible Project Environments","category":"page"},{"location":"","page":"Home","title":"Home","text":"Leverage Julia's built-in environments to lock and share dependency versions, guaranteeing consistent, repeatable analyses across machines and collaborators.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Modular \\& Extensible Architecture","category":"page"},{"location":"","page":"Home","title":"Home","text":"Plugin-style design allows seamless addition of custom data loaders, analysis routines, or export formats.","category":"page"},{"location":"#Dependencies","page":"Home","title":"Dependencies","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Find the main dependencies on JuliaHub or from the development version listed in the file Project.toml.","category":"page"},{"location":"#Tests","page":"Home","title":"Tests","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"We are developing unit-test and end-to-end testing strategies to encounter bugs like general errors, incorrect data returns, and functionality issues. After new commits are pushed to GitHub, different operating system environments and Julia versions run automated tests, e. g. on outputs from various RAMSES simulations, to ensure important functionalities of MERA. The test folder contains all tests with the main function in the runtest.jl file.","category":"page"},{"location":"#Julia-Installation","page":"Home","title":"Julia Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Juliaup, an installer and version manager: https://github.com/JuliaLang/juliaup\nBinary download + installation instructions: https://julialang.org/downloads/\nApple Silicon: M-Chips: Julia 1.x can be installed without any trouble. But if you experience any problem installing PyPlot, try:","category":"page"},{"location":"","page":"Home","title":"Home","text":"import Pkg\nPkg.add(\"Conda\")\nusing Conda\nConda.add(\"matplotlib\")\nENV[\"PYTHON\"] = \"\"  # Let PyCall use Conda's Python\nPkg.build(\"PyCall\")\nPkg.add(\"PyPlot\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"Another possibility is  to install/pin the package PyCall@1.92.3 ! https://pkgdocs.julialang.org/v1.11/managing-packages/#Pinning-a-package . If you encounter any problems with Julia 1.x, try the binary macOS x86 (Intel or Rosetta) instead of macOS (Apple Silicon).","category":"page"},{"location":"#Package-Installation","page":"Home","title":"Package Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package is tested against Julia 1.10.x, 1.11.x and can be installed with the Julia package manager: https://pkgdocs.julialang.org/v1/","category":"page"},{"location":"#Julia-REPL","page":"Home","title":"Julia REPL","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"From the Julia REPL, type ] to enter the Pkg REPL mode and run:","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> add Mera","category":"page"},{"location":"#Jupyter-Notebook","page":"Home","title":"Jupyter Notebook","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Or, equivalently, via the Pkg API in the Jupyter notebook use","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.add(\"Mera\")","category":"page"},{"location":"#Updates","page":"Home","title":"Updates","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Watch on GitHub. Note: Before updating, always read the release notes. In Pkg REPL mode run:","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> update Mera","category":"page"},{"location":"","page":"Home","title":"Home","text":"Or, equivalently, in a Jupyter notebook:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.update(\"Mera\")","category":"page"},{"location":"#Reproducibility","page":"Home","title":"Reproducibility","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Reproducibility is an essential requirement of the scientific process. Therefore, I recommend working with environments. Create independent projects that contain their list of used package dependencies and their versions. The possibility of creating projects ensures reproducibility of your programs on your or other platforms if, e.g. the code is shared (toml-files are added to the project folder). For more information see Julia environments. In order to create a new project \"activate\" your working directory:","category":"page"},{"location":"","page":"Home","title":"Home","text":"shell> cd MyProject\n/Users/you/MyProject\n\n(v1.11) pkg> activate .","category":"page"},{"location":"","page":"Home","title":"Home","text":"Now add packages like Mera and PyPlot in the favored version:","category":"page"},{"location":"","page":"Home","title":"Home","text":"(MyProject) pkg> add Package","category":"page"},{"location":"#Help-and-Documentation","page":"Home","title":"Help and Documentation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The exported functions and types in MERA are listed in the API documentation, but can also be accessed in the REPL or Jupyter notebook.","category":"page"},{"location":"","page":"Home","title":"Home","text":"In the REPL use e.g. for the function getinfo:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> ? # upon typing ?, the prompt changes (in place) to: help?>\n\nhelp?> getinfo\nsearch: getinfo SegmentationFault getindex getpositions MissingException\n\n  Get the simulation overview from RAMSES info, descriptor and output header files\n  ----------------------------------------------------------------------------------\n\n  getinfo(; output::Real=1, path::String=\"\", namelist::String=\"\", verbose::Bool=verbose_mode)\n  return InfoType\n\n  Keyword Arguments\n  -------------------\n\n    •    output: timestep number (default=1)\n\n    •    path: the path to the output folder relative to the current folder or absolute path\n\n    •    namelist: give the path to a namelist file (by default the namelist.txt-file in the output-folder is read)\n\n    •    verbose:: informations are printed on the screen by default: gloval variable verbose_mode=true\n\n  Examples\n  ----------\n...........","category":"page"},{"location":"","page":"Home","title":"Home","text":"In the Jupyter notebook use e.g.:","category":"page"},{"location":"","page":"Home","title":"Home","text":"?getinfo\nsearch: getinfo SegmentationFault getindex getpositions MissingException\n\n  Get the simulation overview from RAMSES info, descriptor and output header files\n  ----------------------------------------------------------------------------------\n\n  getinfo(; output::Real=1, path::String=\"\", namelist::String=\"\", verbose::Bool=verbose_mode)\n  return InfoType\n\n  Keyword Arguments\n  -------------------\n\n    •    output: timestep number (default=1)\n\n    •    path: the path to the output folder relative to the current folder or absolute path\n\n    •    namelist: give the path to a namelist file (by default the namelist.txt-file in the output-folder is read)\n\n    •    verbose:: informations are printed on the screen by default: gloval variable verbose_mode=true\n\n  Examples\n  ----------\n...........","category":"page"},{"location":"","page":"Home","title":"Home","text":"Get a list of the defined methods of a function:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> methods(viewfields)\n# 10 methods for generic function \"viewfields\":\n[1] viewfields(object::PhysicalUnitsType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:181\n[2] viewfields(object::Mera.FilesContentType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:166\n[3] viewfields(object::DescriptorType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:150\n[4] viewfields(object::FileNamesType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:134\n[5] viewfields(object::CompilationInfoType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:116\n[6] viewfields(object::GridInfoType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:90\n[7] viewfields(object::PartInfoType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:73\n[8] viewfields(object::ScalesType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:57\n[9] viewfields(object::InfoType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:12\n[10] viewfields(object::DataSetType) in Mera at /Users/mabe/Documents/Projects/dev/Mera/src/functions/viewfields.jl:197","category":"page"},{"location":"#Further-Notes","page":"Home","title":"Further Notes","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"To use the Jupyter interactive environment, please install IJulia (see IJulia) and/or the standalone \"JupyterLab Desktop\" app: https://github.com/jupyterlab/jupyterlab-desktop\nThe tutorials in the documentation can be downloaded from GitHub as Jupyter notebooks\nTo get a first impression, look at the Hands-On Session RUM2023` with downloadable simulation examples:    https://github.com/ManuelBehrendt/RUM2023\nMera is tested against the RAMSES versions: =< stable-17.09, stable-18-09, stable-19-10\nThe variables from the descriptor-files are currently only read and can be used in a future Mera version\nFor simulations with a uniform grid, the column :level is not created to reduce memory usage","category":"page"},{"location":"#Why-Julia?","page":"Home","title":"Why Julia?","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"In scientific computing, we are dealing with a steadily increasing amount of data. Highest performance is required, and therefore, most science-related libraries are written in low-level languages like C or Fortran with relatively long development times. The reduced data is often processed in a high-level language like Python. Julia is a relatively new and modern language, and it combines high-level programming with high-performance numerical computing. The syntax is simple and great for math. The just-in-time compilation allows for interactive coding and to achieve an optimized machine code on the fly. Both enhance prototyping and code readability. Therefore, complex projects can be realized in relatively short development times. ﻿​ Further features:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Package manager\nRuns on multiple platforms\nMultiple dispatch\nBuild-in parallelism\nMetaprogramming\nDirectly call C, Fortran, Python (e.g. Matplotlib), R libraries, ...","category":"page"},{"location":"","page":"Home","title":"Home","text":"….","category":"page"},{"location":"#Useful-Links","page":"Home","title":"Useful Links","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Official Julia website\nAlternatively use the Julia version manager and make Julia 1.11.* the default: https://github.com/JuliaLang/juliaup\nLearning Julia\nWikibooks\nJulia Cheatsheet\nFree book ThinkJulia\nSynthax comparison: MATLAB–Python–Julia\nJulia forum JuliaDiscourse\nCourses on YouTube\nDatabase framework used in Mera: JuliaDB.jl\nInteresting Packages: JuliaAstro.jl, JuliaObserver.com\nUse Matplotlib in Julia: PyPlot.jl\nInteractive data visualizations and plotting in Julia with Makie: Makie.jl\nCall Python packages/functions from Julia: PyCall.jl\nVisual Studio Code based Julia IDE julia-vscode","category":"page"},{"location":"#Contact-for-Questions-and-Contributing","page":"Home","title":"Contact for Questions and Contributing","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you have any questions about the package, please feel free to write an email to: mera[>]manuelbehrendt.com\nFor bug reports, etc., please submit an issue on GitHub","category":"page"},{"location":"","page":"Home","title":"Home","text":"New ideas, feature requests are very welcome! MERA can be easily extended for other grid-based or N-body based data. Write an email to: mera[>]manuelbehrendt.com","category":"page"},{"location":"#Supporting-and-Citing","page":"Home","title":"Supporting and Citing","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"To credit the Mera software, please star the repository on GitHub. If you use the Mera software as part of your research, teaching, or other activities, I would be grateful if you could cite my work. To give proper academic credit, follow the link for BibTeX export: (Image: DOI)","category":"page"},{"location":"#License","page":"Home","title":"License","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"MIT License","category":"page"},{"location":"","page":"Home","title":"Home","text":"Copyright (c) 2019 Manuel Behrendt","category":"page"},{"location":"","page":"Home","title":"Home","text":"Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:","category":"page"},{"location":"","page":"Home","title":"Home","text":"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.","category":"page"},{"location":"","page":"Home","title":"Home","text":"THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","category":"page"},{"location":"02_hydro_Load_Selections/#2.-Hydro:-Load-Selected-Variables-and-Data-Ranges","page":"Hydro","title":"2. Hydro: Load Selected Variables and Data Ranges","text":"","category":"section"},{"location":"02_hydro_Load_Selections/#Simulation-Overview","page":"Hydro","title":"Simulation Overview","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"using Mera\ninfo = getinfo(300, \"/Volumes/FASTStorage/Simulations/Mera-Tests/mw_L10\");","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: 2025-06-21T20:58:33.581\n\nCode: RAMSES\noutput [300] summary:\nmtime: 2023-04-09T05:34:09\nctime: 2025-06-21T18:31:24.020\n=======================================================\nsimulation time: 445.89 [Myr]\nboxlen: 48.0 [kpc]\nncpu: 640\nndim: 3\n-------------------------------------------------------\namr:           true\nlevel(s): 6 - 10 --> cellsize(s): 750.0 [pc] - 46.88 [pc]\n-------------------------------------------------------\nhydro:         true\nhydro-variables:  7  --> (:rho, :vx, :vy, :vz, :p, :var6, :var7)\nhydro-descriptor: (:density, :velocity_x, :velocity_y, :velocity_z, :pressure, :scalar_00, :scalar_01)\nγ: 1.6667\n-------------------------------------------------------\ngravity:       true\ngravity-variables: (:epot, :ax, :ay, :az)\n-------------------------------------------------------\nparticles:     true\n- Nstars:   5.445150e+05 \nparticle-variables: 7  --> (:vx, :vy, :vz, :mass, :family, :tag, :birth)\nparticle-descriptor: (:position_x, :position_y, :position_z, :velocity_x, :velocity_y, :velocity_z, :mass, :identity, :levelp, :family, :tag, :birth_time)\n-------------------------------------------------------\nrt:            false\nclumps:           false\n-------------------------------------------------------\nnamelist-file: (\"&COOLING_PARAMS\", \"&SF_PARAMS\", \"&AMR_PARAMS\", \"&BOUNDARY_PARAMS\", \"&OUTPUT_PARAMS\", \"&POISSON_PARAMS\", \"&RUN_PARAMS\", \"&FEEDBACK_PARAMS\", \"&HYDRO_PARAMS\", \"&INIT_PARAMS\", \"&REFINE_PARAMS\")\n-------------------------------------------------------\ntimer-file:       true\ncompilation-file: false\nmakefile:         true\npatchfile:        true\n=======================================================","category":"page"},{"location":"02_hydro_Load_Selections/#Select-Variables","page":"Hydro","title":"Select Variables","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Choose from the existing hydro variables listed in the simulation-info. Use the quoted Symbols: :varn1 or :cpu (=neg. one), :var1 or :rho, :var2 or :vx, :var3 or :vy, :var4 or :vz, :var5 or :p. Variables above 5 can be selected by :var6, :var7 etc. . No order is required. The selection of the variable's names from the descriptor files will be implemented in the future.","category":"page"},{"location":"02_hydro_Load_Selections/#Read-all-variables-(default)","page":"Hydro","title":"Read all variables (default)","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info);","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T20:58:37.410\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:59\n\n\nMemory used for data table :2.321086215786636 GB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas.data","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 11 columns:\nColumns:\n\u001b#   \u001bcolname  \u001btype\n────────────────────\n1   level    Int64\n2   cx       Int64\n3   cy       Int64\n4   cz       Int64\n5   rho      Float64\n6   vx       Float64\n7   vy       Float64\n8   vz       Float64\n9   p        Float64\n10  var6     Float64\n11  var7     Float64","category":"page"},{"location":"02_hydro_Load_Selections/#Select-several-variables-w/o-a-keyword","page":"Hydro","title":"Select several variables w/o a keyword","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_a = gethydro(info, vars=[:rho, :p]); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:00:17.323\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 5) = (:rho, :p) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:54\n\n\nMemory used for data table :1.2660471182316542 GB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"The same variables can be read by using the var-number:","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_a = gethydro(info, vars=[:var1, :var5]); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:01:14.688\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 5) = (:rho, :p) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:55\n\n\nMemory used for data table :1.2660471182316542 GB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"A keyword argument for the variables is not needed if the following order is preserved: InfoType-object, variables:","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_a = gethydro(info, [:rho, :p]); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:02:12.154\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 5) = (:rho, :p) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:54\n\n\nMemory used for data table :1.2660471182316542 GB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_a.data","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 6 columns:\n\u001blevel  \u001bcx   \u001bcy   \u001bcz   rho          p\n─────────────────────────────────────────────\n6      1    1    1    3.18647e-9   1.06027e-9\n6      1    1    2    3.58591e-9   1.33677e-9\n6      1    1    3    3.906e-9     1.58181e-9\n6      1    1    4    4.27441e-9   1.93168e-9\n6      1    1    5    4.61042e-9   2.37842e-9\n6      1    1    6    4.83977e-9   2.8197e-9\n6      1    1    7    4.974e-9     3.20883e-9\n6      1    1    8    5.08112e-9   3.56075e-9\n6      1    1    9    5.20596e-9   3.89183e-9\n6      1    1    10   5.38372e-9   4.20451e-9\n6      1    1    11   5.67209e-9   4.50256e-9\n6      1    1    12   6.14423e-9   4.78595e-9\n⋮\n10     814  493  514  0.000321702  2.18179e-6\n10     814  494  509  1.42963e-6   3.35949e-6\n10     814  494  510  1.4351e-6    3.38092e-6\n10     814  494  511  0.00029515   2.55696e-6\n10     814  494  512  0.000395273  2.5309e-6\n10     814  494  513  0.000321133  2.16472e-6\n10     814  494  514  0.000319678  2.17348e-6\n10     814  495  511  0.00024646   2.19846e-6\n10     814  495  512  0.000269009  2.20717e-6\n10     814  496  511  0.000235329  2.10577e-6\n10     814  496  512  0.000242422  2.09634e-6","category":"page"},{"location":"02_hydro_Load_Selections/#Select-one-variable","page":"Hydro","title":"Select one variable","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"In this case, no array and keyword is necessary, but preserve the following order: InfoType-object, variable:","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_c = gethydro(info, :vx ); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:03:08.746\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(2,) = (:vx,) \n\ndomain:\nxmin::xmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nymin::ymax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\nzmin::zmax: 0.0 :: 1.0  \t==> 0.0 [kpc] :: 48.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:54\n\n\nMemory used for data table :1.0550392987206578 GB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas_c.data","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Table with 28320979 rows, 5 columns:\n\u001blevel  \u001bcx   \u001bcy   \u001bcz   vx\n────────────────────────────────\n6      1    1    1    -1.25532\n6      1    1    2    -1.23262\n6      1    1    3    -1.2075\n6      1    1    4    -1.16462\n6      1    1    5    -1.10493\n6      1    1    6    -1.02686\n6      1    1    7    -0.948004\n6      1    1    8    -0.879731\n6      1    1    9    -0.824484\n6      1    1    10   -0.782768\n6      1    1    11   -0.754141\n6      1    1    12   -0.737723\n⋮\n10     814  493  514  0.268398\n10     814  494  509  0.00398492\n10     814  494  510  0.00496945\n10     814  494  511  0.303842\n10     814  494  512  0.305647\n10     814  494  513  0.266079\n10     814  494  514  0.26508\n10     814  495  511  0.289612\n10     814  495  512  0.290753\n10     814  496  511  0.285209\n10     814  496  512  0.285463","category":"page"},{"location":"02_hydro_Load_Selections/#Select-Spatial-Ranges","page":"Hydro","title":"Select Spatial Ranges","text":"","category":"section"},{"location":"02_hydro_Load_Selections/#Use-RAMSES-Standard-Notation","page":"Hydro","title":"Use RAMSES Standard Notation","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Ranges correspond to the domain [0:1]^3 and are related to the box corner at '[0., 0., 0.]' by default. Here, we limit the loading of the data to a maximum level of 8:","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[0.2,0.8], \n                yrange=[0.2,0.8], \n                zrange=[0.4,0.6]); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:04:05.571\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:53\n\n\nMemory used for data table :103.4980878829956 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"The loaded data ranges are assigned to the field ranges as an array in  RAMSES standard notation (domain: [0:1]^3):","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas.ranges","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"6-element Vector{Float64}:\n 0.2\n 0.8\n 0.2\n 0.8\n 0.4\n 0.6","category":"page"},{"location":"02_hydro_Load_Selections/#Ranges-relative-to-a-given-center:","page":"Hydro","title":"Ranges relative to a given center:","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[-0.3, 0.3], \n                yrange=[-0.3, 0.3], \n                zrange=[-0.1, 0.1], \n                center=[0.5, 0.5, 0.5]); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:05:01.896\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nymin::ymax: 0.2 :: 0.8  \t==> 9.6 [kpc] :: 38.4 [kpc]\nzmin::zmax: 0.4 :: 0.6  \t==> 19.2 [kpc] :: 28.8 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :103.4980878829956 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/#Use-notation-in-physical-units","page":"Hydro","title":"Use notation in physical units","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"In the following example the ranges are given in unit \"kpc\", relative to the box corner '[0., 0., 0.]' (default):","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[2.,22.], \n                yrange=[2.,22.], \n                zrange=[22.,26.], \n                range_unit=:kpc); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:05:56.044\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ndomain:\nxmin::xmax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nymin::ymax: 0.0416667 :: 0.4583333  \t==> 2.0 [kpc] :: 22.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :19.302836418151855 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"The possible physical length units for the keyword range_unit are defined in the field scale : ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"viewfields(info.scale)  # or e.g.: gas.info.scale","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Fields to scale from user/code units to selected units\n=======================================================================\nMpc\t= 0.0010000000000006482\nkpc\t= 1.0000000000006481\npc\t= 1000.0000000006482\nmpc\t= 1.0000000000006482e6\nly\t= 3261.5637769461323\nAu\t= 2.0626480623310105e23\nkm\t= 3.0856775812820004e16\nm\t= 3.085677581282e19\ncm\t= 3.085677581282e21\nmm\t= 3.085677581282e22\nμm\t= 3.085677581282e25\nMpc3\t= 1.0000000000019446e-9\nkpc3\t= 1.0000000000019444\npc3\t= 1.0000000000019448e9\nmpc3\t= 1.0000000000019446e18\nly3\t= 3.469585750743794e10\nAu3\t= 8.775571306099254e69\nkm3\t= 2.9379989454983075e49\nm3\t= 2.9379989454983063e58\ncm3\t= 2.9379989454983065e64\nmm3\t= 2.937998945498306e67\nμm3\t= 2.937998945498306e76\nMsol_pc3\t= 0.9997234790001649\nMsun_pc3\t= 0.9997234790001649\ng_cm3\t= 6.76838218451376e-23\nMsol_pc2\t= 999.7234790008131\nMsun_pc2\t= 999.7234790008131\ng_cm2\t= 0.20885045168302602\nGyr\t= 0.014910986463557083\nMyr\t= 14.910986463557084\nyr\t= 1.4910986463557083e7\ns\t= 4.70554946422349e14\nms\t= 4.70554946422349e17\nMsol\t= 9.99723479002109e8\nMsun\t= 9.99723479002109e8\nMearth\t= 3.329677459032007e14\nMjupiter\t= 1.0476363431814971e12\ng\t= 1.9885499720830952e42\nkm_s\t= 65.57528732282063\nm_s\t= 65575.28732282063\ncm_s\t= 6.557528732282063e6\nnH\t= 30.987773856809987\nerg\t= 8.551000140274429e55\ng_cms2\t= 2.9104844143584656e-9\nT_mu\t= 517028.3199143136\nK_mu\t= 517028.3199143136\nT\t= 680300.4209398864\nK\t= 680300.4209398864\nBa\t= 2.910484414358466e-9\ng_cm_s2\t= 2.910484414358466e-9\np_kB\t= 2.1080995598777838e7\nK_cm3\t= 2.1080995598777838e7","category":"page"},{"location":"02_hydro_Load_Selections/#Ranges-relative-to-a-given-center-e.g.-in-unit-\"kpc\":","page":"Hydro","title":"Ranges relative to a given center e.g. in unit \"kpc\":","text":"","category":"section"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[-16.,16.], \n                yrange=[-16.,16.], \n                zrange=[-2.,2.], \n                center=[24.,24.,24.], \n                range_unit=:kpc); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:06:49.017\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :54.622477531433105 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Use the short notation for the box center :bc or :boxcenter for all dimensions (x,y,z):","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[-16., 16.], \n                yrange=[-16., 16.], \n                zrange=[-2., 2.], \n                center=[:boxcenter], \n                range_unit=:kpc); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:07:42.347\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :54.622477531433105 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[-16., 16.], \n                yrange=[-16., 16.], \n                zrange=[-2., 2.], \n                center=[:bc], \n                range_unit=:kpc); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:08:35.716\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :54.622477531433105 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"Use the box center notation for individual dimensions, here x,z:","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"gas = gethydro(info, lmax=8, \n                xrange=[-16., 16.], \n                yrange=[-16., 16.], \n                zrange=[-2., 2.], \n                center=[:bc, 24., :bc], \n                range_unit=:kpc); ","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"[Mera]: Get hydro data: 2025-06-21T21:09:29.367\n\nKey vars=(:level, :cx, :cy, :cz)\nUsing var(s)=(1, 2, 3, 4, 5, 6, 7) = (:rho, :vx, :vy, :vz, :p, :var6, :var7) \n\ncenter: [0.5, 0.5, 0.5] ==> [24.0 [kpc] :: 24.0 [kpc] :: 24.0 [kpc]]\n\ndomain:\nxmin::xmax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nymin::ymax: 0.1666667 :: 0.8333333  \t==> 8.0 [kpc] :: 40.0 [kpc]\nzmin::zmax: 0.4583333 :: 0.5416667  \t==> 22.0 [kpc] :: 26.0 [kpc]\n\nReading data...\n\n\n\u001bProgress: 100%|█████████████████████████████████████████| Time: 0:00:52\n\n\nMemory used for data table :54.622477531433105 MB\n-------------------------------------------------------","category":"page"},{"location":"02_hydro_Load_Selections/","page":"Hydro","title":"Hydro","text":"","category":"page"}]
}
